var uH=Object.defineProperty,dH=Object.defineProperties;var hH=Object.getOwnPropertyDescriptors;var xm=Object.getOwnPropertySymbols,fH=Object.getPrototypeOf,jA=Object.prototype.hasOwnProperty,VA=Object.prototype.propertyIsEnumerable,pH=Reflect.get;var _S=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),gH=e=>{throw TypeError(e)};var FA=(e,t,n)=>t in e?uH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||={})jA.call(t,n)&&FA(e,n,t[n]);if(xm)for(var n of xm(t))VA.call(t,n)&&FA(e,n,t[n]);return e},I=(e,t)=>dH(e,hH(t));var Vt=(e,t)=>{var n={};for(var i in e)jA.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&xm)for(var i of xm(e))t.indexOf(i)<0&&VA.call(e,i)&&(n[i]=e[i]);return n};var kS=(e,t,n)=>pH(fH(e),n,t);var Fe=(e,t,n)=>new Promise((i,r)=>{var o=l=>{try{a(n.next(l))}catch(c){r(c)}},s=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())}),mH=function(e,t){this[0]=e,this[1]=t};var Du=e=>{var t=e[_S("asyncIterator")],n=!1,i,r={};return t==null?(t=e[_S("iterator")](),i=o=>r[o]=s=>t[o](s)):(t=t.call(e),i=o=>r[o]=s=>{if(n){if(n=!1,o==="throw")throw s;return s}return n=!0,{done:!1,value:new mH(new Promise(a=>{var l=t[o](s);l instanceof Object||gH("Object expected"),a(l)}),1)}}),r[_S("iterator")]=()=>r,i("next"),"throw"in t?i("throw"):r.throw=o=>{throw o},"return"in t&&i("return"),r};var NS;function Sm(){return NS}function ns(e){let t=NS;return NS=e,t}var BA=Symbol("NotFound");function Iu(e){return e===BA||e?.name==="\u0275NotFound"}function Cm(e,t){return Object.is(e,t)}var Ei=null,Mm=!1,OS=1,yH=null,Ti=Symbol("SIGNAL");function He(e){let t=Ei;return Ei=e,t}function Em(){return Ei}var wu={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cu(e){if(Mm)throw new Error("");if(Ei===null)return;Ei.consumerOnSignalRead(e);let t=Ei.producersTail;if(t!==void 0&&t.producer===e)return;let n,i=Ei.recomputing;if(i&&(n=t!==void 0?t.nextProducer:Ei.producers,n!==void 0&&n.producer===e)){Ei.producersTail=n,n.lastReadVersion=e.version;return}let r=e.consumersTail;if(r!==void 0&&r.consumer===Ei&&(!i||bH(r,Ei)))return;let o=Tu(Ei),s={producer:e,consumer:Ei,nextProducer:n,prevConsumer:r,lastReadVersion:e.version,nextConsumer:void 0};Ei.producersTail=s,t!==void 0?t.nextProducer=s:Ei.producers=s,o&&HA(e,s)}function zA(){OS++}function Tm(e){if(!(Tu(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===OS)){if(!e.producerMustRecompute(e)&&!nf(e)){wm(e);return}e.producerRecomputeValue(e),wm(e)}}function LS(e){if(e.consumers===void 0)return;let t=Mm;Mm=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let i=n.consumer;i.dirty||vH(i)}}finally{Mm=t}}function RS(){return Ei?.consumerAllowSignalWrites!==!1}function vH(e){e.dirty=!0,LS(e),e.consumerMarkedDirty?.(e)}function wm(e){e.dirty=!1,e.lastCleanEpoch=OS}function Eu(e){return e&&(e.producersTail=void 0,e.recomputing=!0),He(e)}function tf(e,t){if(He(t),!e)return;e.recomputing=!1;let n=e.producersTail,i=n!==void 0?n.nextProducer:e.producers;if(i!==void 0){if(Tu(e))do i=PS(i);while(i!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function nf(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,i=t.lastReadVersion;if(i!==n.version||(Tm(n),i!==n.version))return!0}return!1}function rf(e){if(Tu(e)){let t=e.producers;for(;t!==void 0;)t=PS(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function HA(e,t){let n=e.consumersTail,i=Tu(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!i)for(let r=e.producers;r!==void 0;r=r.nextProducer)HA(r.producer,r)}function PS(e){let t=e.producer,n=e.nextProducer,i=e.nextConsumer,r=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!Tu(t)){let o=t.producers;for(;o!==void 0;)o=PS(o)}return n}function Tu(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Am(e){yH?.(e)}function bH(e,t){let n=t.producersTail;if(n!==void 0){let i=t.producers;do{if(i===e)return!0;if(i===n)break;i=i.nextProducer}while(i!==void 0)}return!1}function _m(e,t){let n=Object.create(xH);n.computation=e,t!==void 0&&(n.equal=t);let i=()=>{if(Tm(n),Cu(n),n.value===ef)throw n.error;return n.value};return i[Ti]=n,Am(n),i}var Dm=Symbol("UNSET"),Im=Symbol("COMPUTING"),ef=Symbol("ERRORED"),xH=I(g({},wu),{value:Dm,dirty:!0,error:null,equal:Cm,kind:"computed",producerMustRecompute(e){return e.value===Dm||e.value===Im},producerRecomputeValue(e){if(e.value===Im)throw new Error("");let t=e.value;e.value=Im;let n=Eu(e),i,r=!1;try{i=e.computation(),He(null),r=t!==Dm&&t!==ef&&i!==ef&&e.equal(t,i)}catch(o){i=ef,e.error=o}finally{tf(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function SH(){throw new Error}var UA=SH;function GA(e){UA(e)}function FS(e){UA=e}var MH=null;function jS(e,t){let n=Object.create(km);n.value=e,t!==void 0&&(n.equal=t);let i=()=>$A(n);return i[Ti]=n,Am(n),[i,s=>Au(n,s),s=>VS(n,s)]}function $A(e){return Cu(e),e.value}function Au(e,t){RS()||GA(e),e.equal(e.value,t)||(e.value=t,DH(e))}function VS(e,t){RS()||GA(e),Au(e,t(e.value))}var km=I(g({},wu),{equal:Cm,value:void 0,kind:"signal"});function DH(e){e.version++,zA(),LS(e),MH?.(e)}function Ze(e){return typeof e=="function"}function _u(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Nm=_u(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Gl(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var sn=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Ze(i))try{i()}catch(o){t=o instanceof Nm?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{WA(o)}catch(s){t=t??[],s instanceof Nm?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Nm(t)}}add(t){var n;if(t&&t!==this)if(this.closed)WA(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Gl(n,t)}remove(t){let{_finalizers:n}=this;n&&Gl(n,t),t instanceof e&&t._removeParent(this)}};sn.EMPTY=(()=>{let e=new sn;return e.closed=!0,e})();var BS=sn.EMPTY;function Om(e){return e instanceof sn||e&&"closed"in e&&Ze(e.remove)&&Ze(e.add)&&Ze(e.unsubscribe)}function WA(e){Ze(e)?e():e.unsubscribe()}var xo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ku={setTimeout(e,t,...n){let{delegate:i}=ku;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ku;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Lm(e){ku.setTimeout(()=>{let{onUnhandledError:t}=xo;if(t)t(e);else throw e})}function of(){}var YA=zS("C",void 0,void 0);function ZA(e){return zS("E",void 0,e)}function qA(e){return zS("N",e,void 0)}function zS(e,t,n){return{kind:e,value:t,error:n}}var $l=null;function Nu(e){if(xo.useDeprecatedSynchronousErrorHandling){let t=!$l;if(t&&($l={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=$l;if($l=null,n)throw i}}else e()}function KA(e){xo.useDeprecatedSynchronousErrorHandling&&$l&&($l.errorThrown=!0,$l.error=e)}var Wl=class extends sn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Om(t)&&t.add(this)):this.destination=CH}static create(t,n,i){return new Ou(t,n,i)}next(t){this.isStopped?US(qA(t),this):this._next(t)}error(t){this.isStopped?US(ZA(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?US(YA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IH=Function.prototype.bind;function HS(e,t){return IH.call(e,t)}var GS=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Rm(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Rm(i)}else Rm(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Rm(n)}}},Ou=class extends Wl{constructor(t,n,i){super();let r;if(Ze(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&xo.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&HS(t.next,o),error:t.error&&HS(t.error,o),complete:t.complete&&HS(t.complete,o)}):r=t}this.destination=new GS(r)}};function Rm(e){xo.useDeprecatedSynchronousErrorHandling?KA(e):Lm(e)}function wH(e){throw e}function US(e,t){let{onStoppedNotification:n}=xo;n&&ku.setTimeout(()=>n(e,t))}var CH={closed:!0,next:of,error:wH,complete:of};var Lu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ui(e){return e}function $S(...e){return WS(e)}function WS(e){return e.length===0?Ui:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var ht=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=TH(n)?n:new Ou(n,i,r);return Nu(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=QA(i),new i((r,o)=>{let s=new Ou({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Lu](){return this}pipe(...n){return WS(n)(this)}toPromise(n){return n=QA(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function QA(e){var t;return(t=e??xo.Promise)!==null&&t!==void 0?t:Promise}function EH(e){return e&&Ze(e.next)&&Ze(e.error)&&Ze(e.complete)}function TH(e){return e&&e instanceof Wl||EH(e)&&Om(e)}function YS(e){return Ze(e?.lift)}function lt(e){return t=>{if(YS(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(e,t,n,i,r){return new ZS(e,t,n,i,r)}var ZS=class extends Wl{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Ru(){return lt((e,t)=>{let n=null;e._refCount++;let i=et(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var Pu=class extends ht{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,YS(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new sn;let n=this.getSubject();t.add(this.source.subscribe(et(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=sn.EMPTY)}return t}refCount(){return Ru()(this)}};var XA=_u(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ct=(()=>{class e extends ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Pm(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new XA}next(n){Nu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Nu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Nu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?BS:(this.currentObservers=null,o.push(n),new sn(()=>{this.currentObservers=null,Gl(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ht;return n.source=this,n}}return e.create=(t,n)=>new Pm(t,n),e})(),Pm=class extends ct{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:BS}};var Yn=class extends ct{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var qS={now(){return(qS.delegate||Date).now()},delegate:void 0};var Fm=class extends sn{constructor(t,n){super()}schedule(t,n=0){return this}};var sf={setInterval(e,t,...n){let{delegate:i}=sf;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=sf;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var jm=class extends Fm{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return sf.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&sf.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gl(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Fu=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};Fu.now=qS.now;var Vm=class extends Fu{constructor(t,n=Fu.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var JA=new Vm(jm);var rr=new ht(e=>e.complete());function e_(e){return e&&Ze(e.schedule)}function t_(e){return e[e.length-1]}function Bm(e){return Ze(t_(e))?e.pop():void 0}function ja(e){return e_(t_(e))?e.pop():void 0}function i_(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function n_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yl(e){return this instanceof Yl?(this.v=e,this):new Yl(e)}function r_(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){i[f]&&(r[f]=function(m){return new Promise(function(b,v){o.push([f,m,b,v])>1||l(f,m)})},p&&(r[f]=p(r[f])))}function l(f,p){try{c(i[f](p))}catch(m){h(o[0][3],m)}}function c(f){f.value instanceof Yl?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function o_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof n_=="function"?n_(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var zm=e=>e&&typeof e.length=="number"&&typeof e!="function";function Hm(e){return Ze(e?.then)}function Um(e){return Ze(e[Lu])}function Gm(e){return Symbol.asyncIterator&&Ze(e?.[Symbol.asyncIterator])}function $m(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AH(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wm=AH();function Ym(e){return Ze(e?.[Wm])}function Zm(e){return r_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield Yl(n.read());if(r)return yield Yl(void 0);yield yield Yl(i)}}finally{n.releaseLock()}})}function qm(e){return Ze(e?.getReader)}function Ln(e){if(e instanceof ht)return e;if(e!=null){if(Um(e))return _H(e);if(zm(e))return kH(e);if(Hm(e))return NH(e);if(Gm(e))return s_(e);if(Ym(e))return OH(e);if(qm(e))return LH(e)}throw $m(e)}function _H(e){return new ht(t=>{let n=e[Lu]();if(Ze(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kH(e){return new ht(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function NH(e){return new ht(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Lm)})}function OH(e){return new ht(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function s_(e){return new ht(t=>{RH(e,t).catch(n=>t.error(n))})}function LH(e){return s_(Zm(e))}function RH(e,t){var n,i,r,o;return i_(this,void 0,void 0,function*(){try{for(n=o_(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function or(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Km(e,t=0){return lt((n,i)=>{n.subscribe(et(i,r=>or(i,e,()=>i.next(r),t),()=>or(i,e,()=>i.complete(),t),r=>or(i,e,()=>i.error(r),t)))})}function Qm(e,t=0){return lt((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function a_(e,t){return Ln(e).pipe(Qm(t),Km(t))}function l_(e,t){return Ln(e).pipe(Qm(t),Km(t))}function c_(e,t){return new ht(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function u_(e,t){return new ht(n=>{let i;return or(n,t,()=>{i=e[Wm](),or(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>Ze(i?.return)&&i.return()})}function Xm(e,t){if(!e)throw new Error("Iterable cannot be null");return new ht(n=>{or(n,t,()=>{let i=e[Symbol.asyncIterator]();or(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function d_(e,t){return Xm(Zm(e),t)}function h_(e,t){if(e!=null){if(Um(e))return a_(e,t);if(zm(e))return c_(e,t);if(Hm(e))return l_(e,t);if(Gm(e))return Xm(e,t);if(Ym(e))return u_(e,t);if(qm(e))return d_(e,t)}throw $m(e)}function Sn(e,t){return t?h_(e,t):Ln(e)}function Re(...e){let t=ja(e);return Sn(e,t)}function ju(e,t){let n=Ze(e)?e:()=>e,i=r=>r.error(n());return new ht(t?r=>t.schedule(i,0,r):i)}function KS(e){return!!e&&(e instanceof ht||Ze(e.lift)&&Ze(e.subscribe))}var js=_u(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function it(e,t){return lt((n,i)=>{let r=0;n.subscribe(et(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:PH}=Array;function FH(e,t){return PH(t)?e(...t):e(t)}function Jm(e){return it(t=>FH(e,t))}var{isArray:jH}=Array,{getPrototypeOf:VH,prototype:BH,keys:zH}=Object;function ey(e){if(e.length===1){let t=e[0];if(jH(t))return{args:t,keys:null};if(HH(t)){let n=zH(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function HH(e){return e&&typeof e=="object"&&VH(e)===BH}function ty(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function Vu(...e){let t=ja(e),n=Bm(e),{args:i,keys:r}=ey(e);if(i.length===0)return Sn([],t);let o=new ht(UH(i,t,r?s=>ty(r,s):Ui));return n?o.pipe(Jm(n)):o}function UH(e,t,n=Ui){return i=>{f_(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)f_(t,()=>{let c=Sn(e[l],t),u=!1;c.subscribe(et(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function f_(e,t,n){e?or(n,e,t):t()}function p_(e,t,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&t.next(m),c++;let b=!1;Ln(n(m,u++)).subscribe(et(t,v=>{r?.(v),o?f(v):t.next(v)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<i;){let v=l.shift();s?or(t,s,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(et(t,f,()=>{d=!0,h()})),()=>{a?.()}}function Zn(e,t,n=1/0){return Ze(t)?Zn((i,r)=>it((o,s)=>t(i,o,r,s))(Ln(e(i,r))),n):(typeof t=="number"&&(n=t),lt((i,r)=>p_(i,r,e,n)))}function g_(e=1/0){return Zn(Ui,e)}function m_(){return g_(1)}function Va(...e){return m_()(Sn(e,ja(e)))}function af(e){return new ht(t=>{Ln(e()).subscribe(t)})}function QS(...e){let t=Bm(e),{args:n,keys:i}=ey(e),r=new ht(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Ln(n[u]).subscribe(et(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?ty(i,a):a),o.complete())}))}});return t?r.pipe(Jm(t)):r}function sr(e,t){return lt((n,i)=>{let r=0;n.subscribe(et(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Ba(e){return lt((t,n)=>{let i=null,r=!1,o;i=t.subscribe(et(n,void 0,void 0,s=>{o=Ln(e(s,Ba(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function y_(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(et(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Bu(e,t){return Ze(t)?Zn(e,t,1):Zn(e,1)}function XS(e,t=JA){return lt((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=s+e,u=t.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}n.subscribe(et(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function za(e){return lt((t,n)=>{let i=!1;t.subscribe(et(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function So(e){return e<=0?()=>rr:lt((t,n)=>{let i=0;t.subscribe(et(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function JS(e,t=Ui){return e=e??GH,lt((n,i)=>{let r,o=!0;n.subscribe(et(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function GH(e,t){return e===t}function ny(e=$H){return lt((t,n)=>{let i=!1;t.subscribe(et(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function $H(){return new js}function lf(e){return lt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Vs(e,t){let n=arguments.length>=2;return i=>i.pipe(e?sr((r,o)=>e(r,o,i)):Ui,So(1),n?za(t):ny(()=>new js))}function zu(e){return e<=0?()=>rr:lt((t,n)=>{let i=[];t.subscribe(et(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function eM(e,t){let n=arguments.length>=2;return i=>i.pipe(e?sr((r,o)=>e(r,o,i)):Ui,zu(1),n?za(t):ny(()=>new js))}function tM(e,t){return lt(y_(e,t,arguments.length>=2,!0))}function cf(e){return sr((t,n)=>e<=n)}function uf(...e){let t=ja(e);return lt((n,i)=>{(t?Va(e,n,t):Va(e,n)).subscribe(i)})}function ar(e,t){return lt((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(et(i,l=>{r?.unsubscribe();let c=0,u=o++;Ln(e(l,u)).subscribe(r=et(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function is(e){return lt((t,n)=>{Ln(e).subscribe(et(n,()=>n.complete(),of)),!n.closed&&t.subscribe(n)})}function si(e,t,n){let i=Ze(e)||t||n?{next:e,error:t,complete:n}:e;return i?lt((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(et(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Ui}function v_(e){let t=He(null);try{return e()}finally{He(t)}}var ay="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",De=class extends Error{code;constructor(t,n){super(ly(t,n)),this.code=t}};function WH(e){return`NG0${Math.abs(e)}`}function ly(e,t){return`${WH(e)}${t?": "+t:""}`}function Rt(e){for(let t in e)if(e[t]===Rt)return t;throw Error("")}function S_(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function zs(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(zs).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function cy(e,t){return e?t?`${e} ${t}`:e:t||""}var YH=Rt({__forward_ref__:Rt});function rs(e){return e.__forward_ref__=rs,e.toString=function(){return zs(this())},e}function gi(e){return fM(e)?e():e}function fM(e){return typeof e=="function"&&e.hasOwnProperty(YH)&&e.__forward_ref__===rs}function M_(e,t){e==null&&pM(t,e,null,"!=")}function pM(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(i==null?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}function q(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ir(e){return{providers:e.providers||[],imports:e.imports||[]}}function gf(e){return ZH(e,uy)}function gM(e){return gf(e)!==null}function ZH(e,t){return e.hasOwnProperty(t)&&e[t]||null}function qH(e){let t=e?.[uy]??null;return t||null}function iM(e){return e&&e.hasOwnProperty(ry)?e[ry]:null}var uy=Rt({\u0275prov:Rt}),ry=Rt({\u0275inj:Rt}),ae=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mM(e){return e&&!!e.\u0275providers}var yM=Rt({\u0275cmp:Rt}),vM=Rt({\u0275dir:Rt}),bM=Rt({\u0275pipe:Rt}),xM=Rt({\u0275mod:Rt}),ff=Rt({\u0275fac:Rt}),Jl=Rt({__NG_ELEMENT_ID__:Rt}),b_=Rt({__NG_ENV_ID__:Rt});function Uu(e){return typeof e=="string"?e:e==null?"":String(e)}function oy(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Uu(e)}var SM=Rt({ngErrorCode:Rt}),D_=Rt({ngErrorMessage:Rt}),hf=Rt({ngTokenPath:Rt});function MM(e,t){return I_("",-200,t)}function dy(e,t){throw new De(-201,!1)}function KH(e,t){e[hf]??=[];let n=e[hf],i;typeof t=="object"&&"multi"in t&&t?.multi===!0?(M_(t.provide,"Token with multi: true should have a provide property"),i=oy(t.provide)):i=oy(t),n[0]!==i&&e[hf].unshift(i)}function QH(e,t){let n=e[hf],i=e[SM],r=e[D_]||e.message;return e.message=JH(r,i,n,t),e}function I_(e,t,n){let i=new De(t,e);return i[SM]=t,i[D_]=e,n&&(i[hf]=n),i}function XH(e){return e[SM]}function JH(e,t,n=[],i=null){let r="";n&&n.length>1&&(r=` Path: ${n.join(" -> ")}.`);let o=i?` Source: ${i}.`:"";return ly(t,`${e}${o}${r}`)}var rM;function w_(){return rM}function Dr(e){let t=rM;return rM=e,t}function DM(e,t,n){let i=gf(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&8)return null;if(t!==void 0)return t;dy(e,"Injector")}var e4={},Zl=e4,t4="__NG_DI_FLAG__",oM=class{injector;constructor(t){this.injector=t}retrieve(t,n){let i=ql(n)||0;try{return this.injector.get(t,i&8?null:Zl,i)}catch(r){if(Iu(r))return r;throw r}}};function n4(e,t=0){let n=Sm();if(n===void 0)throw new De(-203,!1);if(n===null)return DM(e,void 0,t);{let i=i4(t),r=n.retrieve(e,i);if(Iu(r)){if(i.optional)return null;throw r}return r}}function Ue(e,t=0){return(w_()||n4)(gi(e),t)}function O(e,t){return Ue(e,ql(t))}function ql(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function i4(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function sM(e){let t=[];for(let n=0;n<e.length;n++){let i=gi(e[n]);if(Array.isArray(i)){if(i.length===0)throw new De(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=r4(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(Ue(r,o))}else t.push(Ue(i))}return t}function r4(e){return e[t4]}function Kl(e,t){let n=e.hasOwnProperty(ff);return n?e[ff]:null}function C_(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function E_(e){return e.flat(Number.POSITIVE_INFINITY)}function hy(e,t){e.forEach(n=>Array.isArray(n)?hy(n,t):t(n))}function IM(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function mf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function T_(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function A_(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function fy(e,t,n){let i=Gu(e,t);return i>=0?e[i|1]=n:(i=~i,A_(e,i,t,n)),i}function py(e,t){let n=Gu(e,t);if(n>=0)return e[n|1]}function Gu(e,t){return o4(e,t,1)}function o4(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Ga={},Gi=[],Hs=new ae(""),wM=new ae("",-1),CM=new ae(""),pf=class{get(t,n=Zl){if(n===Zl){let r=I_("",-201);throw r.name="\u0275NotFound",r}return n}};function EM(e){return e[xM]||null}function Us(e){return e[yM]||null}function TM(e){return e[vM]||null}function __(e){return e[bM]||null}function ec(e){return{\u0275providers:e}}function k_(e){return ec([{provide:Hs,multi:!0,useValue:e}])}function N_(...e){return{\u0275providers:AM(!0,e),\u0275fromNgModule:!0}}function AM(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return hy(t,s=>{let a=s;sy(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&O_(r,o),n}function O_(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];_M(r,o=>{t(o,i)})}}function sy(e,t,n,i){if(e=gi(e),!e)return!1;let r=null,o=iM(e),s=!o&&Us(e);if(!o&&!s){let l=e.ngModule;if(o=iM(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)sy(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{hy(o.imports,u=>{sy(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&O_(c,t)}if(!a){let c=Kl(r)||(()=>new r);t({provide:r,useFactory:c,deps:Gi},r),t({provide:CM,useValue:r,multi:!0},r),t({provide:Hs,useValue:()=>Ue(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;_M(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function _M(e,t){for(let n of e)mM(n)&&(n=n.\u0275providers),Array.isArray(n)?_M(n,t):t(n)}var s4=Rt({provide:String,useValue:Rt});function L_(e){return e!==null&&typeof e=="object"&&s4 in e}function a4(e){return!!(e&&e.useExisting)}function l4(e){return!!(e&&e.useFactory)}function Ql(e){return typeof e=="function"}function R_(e){return!!e.useClass}var yf=new ae(""),iy={},x_={},nM;function $u(){return nM===void 0&&(nM=new pf),nM}var un=class{},Xl=class extends un{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,lM(t,s=>this.processProvider(s)),this.records.set(wM,Hu(void 0,this)),r.has("environment")&&this.records.set(un,Hu(void 0,this));let o=this.records.get(yf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(CM,Gi,{self:!0}))}retrieve(t,n){let i=ql(n)||0;try{return this.get(t,Zl,i)}catch(r){if(Iu(r))return r;throw r}}destroy(){df(this),this._destroyed=!0;let t=He(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),He(t)}}onDestroy(t){return df(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){df(this);let n=ns(this),i=Dr(void 0),r;try{return t()}finally{ns(n),Dr(i)}}get(t,n=Zl,i){if(df(this),t.hasOwnProperty(b_))return t[b_](this);let r=ql(i),o,s=ns(this),a=Dr(void 0);try{if(!(r&4)){let c=this.records.get(t);if(c===void 0){let u=f4(t)&&gf(t);u&&this.injectableDefInScope(u)?c=Hu(aM(t),iy):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,r)}let l=r&2?$u():this.parent;return n=r&8&&n===Zl?null:n,l.get(t,n)}catch(l){let c=XH(l);throw c===-200||c===-201?new De(c,null):l}finally{Dr(a),ns(s)}}resolveInjectorInitializers(){let t=He(null),n=ns(this),i=Dr(void 0),r;try{let o=this.get(Hs,Gi,{self:!0});for(let s of o)s()}finally{ns(n),Dr(i),He(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(zs(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=gi(t);let n=Ql(t)?t:gi(t&&t.provide),i=u4(t);if(!Ql(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Hu(void 0,iy,!0),r.factory=()=>sM(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n,i){let r=He(null);try{if(n.value===x_)throw MM(zs(t));return n.value===iy&&(n.value=x_,n.value=n.factory(void 0,i)),typeof n.value=="object"&&n.value&&h4(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{He(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=gi(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function aM(e){let t=gf(e),n=t!==null?t.factory:Kl(e);if(n!==null)return n;if(e instanceof ae)throw new De(204,!1);if(e instanceof Function)return c4(e);throw new De(204,!1)}function c4(e){if(e.length>0)throw new De(204,!1);let n=qH(e);return n!==null?()=>n.factory(e):()=>new e}function u4(e){if(L_(e))return Hu(void 0,e.useValue);{let t=kM(e);return Hu(t,iy)}}function kM(e,t,n){let i;if(Ql(e)){let r=gi(e);return Kl(r)||aM(r)}else if(L_(e))i=()=>gi(e.useValue);else if(l4(e))i=()=>e.useFactory(...sM(e.deps||[]));else if(a4(e))i=(r,o)=>Ue(gi(e.useExisting),o!==void 0&&o&8?8:void 0);else{let r=gi(e&&(e.useClass||e.provide));if(d4(e))i=()=>new r(...sM(e.deps));else return Kl(r)||aM(r)}return i}function df(e){if(e.destroyed)throw new De(205,!1)}function Hu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function d4(e){return!!e.deps}function h4(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function f4(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function lM(e,t){for(let n of e)Array.isArray(n)?lM(n,t):n&&mM(n)?lM(n.\u0275providers,t):t(n)}function $i(e,t){let n;e instanceof Xl?(df(e),n=e):n=new oM(e);let i,r=ns(n),o=Dr(void 0);try{return t()}finally{ns(r),Dr(o)}}function P_(){return w_()!==void 0||Sm()!=null}var Do=0,Ne=1,Ge=2,qn=3,Wr=4,Wi=5,tc=6,Wu=7,Tn=8,nc=9,os=10,Wt=11,Yu=12,NM=13,ic=14,Yi=15,$a=16,rc=17,ss=18,vf=19,OM=20,Bs=21,gy=22,bf=23,wr=24,oc=25,Rn=26,F_=1,LM=6,Wa=7,xf=8,sc=9,ai=10;function as(e){return Array.isArray(e)&&typeof e[F_]=="object"}function Io(e){return Array.isArray(e)&&e[F_]===!0}function RM(e){return(e.flags&4)!==0}function Ya(e){return e.componentOffset>-1}function Sf(e){return(e.flags&1)===1}function ls(e){return!!e.template}function Zu(e){return(e[Ge]&512)!==0}function ac(e){return(e[Ge]&256)===256}var j_="svg",V_="math";function Yr(e){for(;Array.isArray(e);)e=e[Do];return e}function PM(e,t){return Yr(t[e])}function wo(e,t){return Yr(t[e.index])}function Mf(e,t){return e.data[t]}function Zr(e,t){let n=t[e];return as(n)?n:n[Do]}function B_(e){return(e[Ge]&4)===4}function my(e){return(e[Ge]&128)===128}function z_(e){return Io(e[qn])}function qr(e,t){return t==null?null:e[t]}function FM(e){e[rc]=0}function jM(e){e[Ge]&1024||(e[Ge]|=1024,my(e)&&qu(e))}function H_(e,t){for(;e>0;)t=t[ic],e--;return t}function Df(e){return!!(e[Ge]&9216||e[wr]?.dirty)}function yy(e){e[os].changeDetectionScheduler?.notify(8),e[Ge]&64&&(e[Ge]|=1024),Df(e)&&qu(e)}function qu(e){e[os].changeDetectionScheduler?.notify(0);let t=Ha(e);for(;t!==null&&!(t[Ge]&8192||(t[Ge]|=8192,!my(t)));)t=Ha(t)}function VM(e,t){if(ac(e))throw new De(911,!1);e[Bs]===null&&(e[Bs]=[]),e[Bs].push(t)}function U_(e,t){if(e[Bs]===null)return;let n=e[Bs].indexOf(t);n!==-1&&e[Bs].splice(n,1)}function Ha(e){let t=e[qn];return Io(t)?t[qn]:t}function BM(e){return e[Wu]??=[]}function zM(e){return e.cleanup??=[]}function G_(e,t,n,i){let r=BM(t);r.push(n),e.firstCreatePass&&zM(e).push(i,r.length-1)}var ft={lFrame:ek(null),bindingsEnabled:!0,skipHydrationRootTNode:null},If=(function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e})(If||{}),p4=0,cM=!1;function $_(){return ft.lFrame.elementDepthCount}function W_(){ft.lFrame.elementDepthCount++}function HM(){ft.lFrame.elementDepthCount--}function UM(){return ft.bindingsEnabled}function GM(){return ft.skipHydrationRootTNode!==null}function $M(e){return ft.skipHydrationRootTNode===e}function WM(){ft.skipHydrationRootTNode=null}function qe(){return ft.lFrame.lView}function Mn(){return ft.lFrame.tView}function vy(e){return ft.lFrame.contextLView=e,e[Tn]}function by(e){return ft.lFrame.contextLView=null,e}function mi(){let e=YM();for(;e!==null&&e.type===64;)e=e.parent;return e}function YM(){return ft.lFrame.currentTNode}function Y_(){let e=ft.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ku(e,t){let n=ft.lFrame;n.currentTNode=e,n.isParent=t}function ZM(){return ft.lFrame.isParent}function qM(){ft.lFrame.isParent=!1}function KM(e){pM("Must never be called in production mode"),p4=e}function QM(){return cM}function XM(e){let t=cM;return cM=e,t}function Z_(e){return ft.lFrame.bindingIndex=e}function Gs(){return ft.lFrame.bindingIndex++}function JM(e){let t=ft.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function q_(){return ft.lFrame.inI18n}function K_(e,t){let n=ft.lFrame;n.bindingIndex=n.bindingRootIndex=e,xy(t)}function Q_(){return ft.lFrame.currentDirectiveIndex}function xy(e){ft.lFrame.currentDirectiveIndex=e}function X_(e){let t=ft.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function eD(){return ft.lFrame.currentQueryIndex}function Sy(e){ft.lFrame.currentQueryIndex=e}function g4(e){let t=e[Ne];return t.type===2?t.declTNode:t.type===1?e[Wi]:null}function tD(e,t,n){if(n&4){let r=t,o=e;for(;r=r.parent,r===null&&!(n&1);)if(r=g4(o),r===null||(o=o[ic],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=ft.lFrame=J_();return i.currentTNode=t,i.lView=e,!0}function My(e){let t=J_(),n=e[Ne];ft.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function J_(){let e=ft.lFrame,t=e===null?null:e.child;return t===null?ek(e):t}function ek(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function tk(){let e=ft.lFrame;return ft.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var nD=tk;function Dy(){let e=tk();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nk(e){return(ft.lFrame.contextLView=H_(e,ft.lFrame.contextLView))[Tn]}function $s(){return ft.lFrame.selectedIndex}function Za(e){ft.lFrame.selectedIndex=e}function wf(){let e=ft.lFrame;return Mf(e.tView,e.selectedIndex)}function ik(){return ft.lFrame.currentNamespace}var rk=!0;function Iy(){return rk}function wy(e){rk=e}var m4={elements:void 0};function Cy(){return m4}function uM(e,t=null,n=null,i){let r=iD(e,t,n,i);return r.resolveInjectorInitializers(),r}function iD(e,t=null,n=null,i,r=new Set){let o=[n||Gi,N_(e)];return i=i||(typeof e=="object"?void 0:zs(e)),new Xl(o,t||$u(),i||null,r)}var Qt=class e{static THROW_IF_NOT_FOUND=Zl;static NULL=new pf;static create(t,n){if(Array.isArray(t))return uM({name:""},n,t,"");{let i=t.name??"";return uM({name:i},t.parent,t.providers,i)}}static \u0275prov=q({token:e,providedIn:"any",factory:()=>Ue(wM)});static __NG_ELEMENT_ID__=-1},bt=new ae(""),cs=(()=>{class e{static __NG_ELEMENT_ID__=y4;static __NG_ENV_ID__=n=>n}return e})(),dM=class extends cs{_lView;constructor(t){super(),this._lView=t}get destroyed(){return ac(this._lView)}onDestroy(t){let n=this._lView;return VM(n,t),()=>U_(n,t)}};function y4(){return new dM(qe())}var Mo=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Kr=new ae("",{providedIn:"root",factory:()=>{let e=O(un),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Mo),t.handleError(n))}}}),ok={provide:Hs,useValue:()=>void O(Mo),multi:!0},v4=new ae("",{providedIn:"root",factory:()=>{let e=O(bt).defaultView;if(!e)return;let t=O(Kr),n=o=>{t(o.reason),o.preventDefault()},i=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},r=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",i)};typeof Zone<"u"?Zone.root.run(r):r(),O(cs).onDestroy(()=>{e.removeEventListener("error",i),e.removeEventListener("unhandledrejection",n)})}});function rD(){return ec([k_(()=>void O(v4))])}function oD(e){return typeof e=="function"&&e[Ti]!==void 0}function Cr(e,t){let[n,i,r]=jS(e,t?.equal),o=n,s=o[Ti];return o.set=i,o.update=r,o.asReadonly=sk.bind(o),o}function sk(){let e=this[Ti];if(e.readonlyFn===void 0){let t=()=>this();t[Ti]=e,e.readonlyFn=t}return e.readonlyFn}function sD(e){return oD(e)&&typeof e.set=="function"}var Ua=class{},Cf=new ae("",{providedIn:"root",factory:()=>!1});var aD=new ae(""),lD=new ae("");var Ey=(()=>{class e{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=b4}return e})();function b4(){return new Ey(qe(),mi())}var Ws=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Yn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ht(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ef(...e){}var cD=(()=>{class e{static \u0275prov=q({token:e,providedIn:"root",factory:()=>new hM})}return e})(),hM=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,i]of this.queues)n===null?t||=this.flushQueue(i):t||=n.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,n=!0,i.run());return n}};function Pf(e){return{toString:e}.toString()}function A4(e){return typeof e=="function"}var Ly=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Pk(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}var Qs=(()=>{let e=()=>Fk;return e.ngInherit=!0,e})();function Fk(e){return e.type.prototype.ngOnChanges&&(e.setInput=k4),_4}function _4(){let e=Vk(this),t=e?.current;if(t){let n=e.previous;if(n===Ga)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function k4(e,t,n,i,r){let o=this.declaredInputs[i],s=Vk(e)||N4(e,{previous:Ga,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Ly(c&&c.currentValue,n,l===Ga),Pk(e,t,r,n)}var jk="__ngSimpleChanges__";function Vk(e){return e[jk]||null}function N4(e,t){return e[jk]=t}var ak=[];var Bt=function(e,t=null,n){for(let i=0;i<ak.length;i++){let r=ak[i];r(e,t,n)}};function O4(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=Fk(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Bk(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ay(e,t,n){zk(e,t,3,n)}function _y(e,t,n,i){(e[Ge]&3)===n&&zk(e,t,n,i)}function uD(e,t){let n=e[Ge];(n&3)===t&&(n&=16383,n+=1,e[Ge]=n)}function zk(e,t,n,i){let r=i!==void 0?e[rc]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[rc]+=65536),(a<o||o==-1)&&(L4(e,n,t,l),e[rc]=(e[rc]&4294901760)+l+2),l++}function lk(e,t){Bt(4,e,t);let n=He(null);try{t.call(e)}finally{He(n),Bt(5,e,t)}}function L4(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[Ge]>>14<e[rc]>>16&&(e[Ge]&3)===t&&(e[Ge]+=16384,lk(a,o)):lk(a,o)}var Xu=-1,cc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=n,this.injectImpl=i}};function R4(e){return(e.flags&8)!==0}function P4(e){return(e.flags&16)!==0}function F4(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];V4(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function j4(e){return e===3||e===4||e===6}function V4(e){return e.charCodeAt(0)===64}function Ju(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?ck(e,n,r,null,t[++i]):ck(e,n,r,null,null))}}return e}function ck(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r)}function Hk(e){return e!==Xu}function Ry(e){return e&32767}function B4(e){return e>>16}function Py(e,t){let n=B4(e),i=t;for(;n>0;)i=i[ic],n--;return i}var xD=!0;function uk(e){let t=xD;return xD=e,t}var z4=256,Uk=z4-1,Gk=5,H4=0,us={};function U4(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Jl)&&(i=n[Jl]),i==null&&(i=n[Jl]=H4++);let r=i&Uk,o=1<<r;t.data[e+(r>>Gk)]|=o}function Fy(e,t){let n=$k(e,t);if(n!==-1)return n;let i=t[Ne];i.firstCreatePass&&(e.injectorIndex=t.length,dD(i.data,e),dD(t,null),dD(i.blueprint,null));let r=QD(e,t),o=e.injectorIndex;if(Hk(r)){let s=Ry(r),a=Py(r,t),l=a[Ne].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function dD(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $k(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function QD(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=Kk(r),i===null)return Xu;if(n++,r=r[ic],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Xu}function SD(e,t,n){U4(e,t,n)}function Wk(e,t,n){if(n&8||e!==void 0)return e;dy(t,"NodeInjector")}function Yk(e,t,n,i){if(n&8&&i===void 0&&(i=null),(n&3)===0){let r=e[nc],o=Dr(void 0);try{return r?r.get(t,i,n&8):DM(t,i,n&8)}finally{Dr(o)}}return Wk(i,t,n)}function Zk(e,t,n,i=0,r){if(e!==null){if(t[Ge]&2048&&!(i&2)){let s=Y4(e,t,n,i,us);if(s!==us)return s}let o=qk(e,t,n,i,us);if(o!==us)return o}return Yk(t,n,i,r)}function qk(e,t,n,i,r){let o=$4(n);if(typeof o=="function"){if(!tD(t,e,i))return i&1?Wk(r,n,i):Yk(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&8))dy(n);else return s}finally{nD()}}else if(typeof o=="number"){let s=null,a=$k(e,t),l=Xu,c=i&1?t[Yi][Wi]:null;for((a===-1||i&4)&&(l=a===-1?QD(e,t):t[a+8],l===Xu||!hk(i,!1)?a=-1:(s=t[Ne],a=Ry(l),t=Py(l,t)));a!==-1;){let u=t[Ne];if(dk(o,a,u.data)){let d=G4(a,t,n,s,i,c);if(d!==us)return d}l=t[a+8],l!==Xu&&hk(i,t[Ne].data[a+8]===c)&&dk(o,a,t)?(s=u,a=Ry(l),t=Py(l,t)):a=-1}}return r}function G4(e,t,n,i,r,o){let s=t[Ne],a=s.data[e+8],l=i==null?Ya(a)&&xD:i!=s&&(a.type&3)!==0,c=r&1&&o===a,u=ky(a,s,n,l,c);return u!==null?_f(t,s,u,a,r):us}function ky(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&ls(f)&&f.type===n)return l}return null}function _f(e,t,n,i,r){let o=e[n],s=t.data;if(o instanceof cc){let a=o;if(a.resolving){let f=oy(s[n]);throw MM(f)}let l=uk(a.canSeeViewProviders);a.resolving=!0;let c=s[n].type||s[n],u,d=a.injectImpl?Dr(a.injectImpl):null,h=tD(e,i,0);try{o=e[n]=a.factory(void 0,r,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&O4(n,s[n],t)}finally{d!==null&&Dr(d),uk(l),a.resolving=!1,nD()}}return o}function $4(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Jl)?e[Jl]:void 0;return typeof t=="number"?t>=0?t&Uk:W4:t}function dk(e,t,n){let i=1<<e;return!!(n[t+(e>>Gk)]&i)}function hk(e,t){return!(e&2)&&!(e&1&&t)}var lc=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Zk(this._tNode,this._lView,t,ql(i),n)}};function W4(){return new lc(mi(),qe())}function Er(e){return Pf(()=>{let t=e.prototype.constructor,n=t[ff]||MD(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[ff]||MD(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function MD(e){return fM(e)?()=>{let t=MD(gi(e));return t&&t()}:Kl(e)}function Y4(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[Ge]&2048&&!Zu(s);){let a=qk(o,s,n,i|2,us);if(a!==us)return a;let l=o.parent;if(!l){let c=s[OM];if(c){let u=c.get(n,us,i);if(u!==us)return u}l=Kk(s),s=s[ic]}o=l}return r}function Kk(e){let t=e[Ne],n=t.type;return n===2?t.declTNode:n===1?e[Wi]:null}function Z4(){return id(mi(),qe())}function id(e,t){return new an(wo(e,t))}var an=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Z4}return e})();function q4(e){return e instanceof an?e.nativeElement:e}function K4(){return this._results[Symbol.iterator]()}var jy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ct}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=E_(t);(this._changesDetected=!C_(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=K4};function Qk(e){return(e.flags&128)===128}var XD=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(XD||{}),Xk=new Map,Q4=0;function X4(){return Q4++}function J4(e){Xk.set(e[vf],e)}function DD(e){Xk.delete(e[vf])}var fk="__ngContext__";function ed(e,t){as(t)?(e[fk]=t[vf],J4(t)):e[fk]=t}function Jk(e){return tN(e[Yu])}function eN(e){return tN(e[Wr])}function tN(e){for(;e!==null&&!Io(e);)e=e[Wr];return e}var ID;function JD(e){ID=e}function nN(){if(ID!==void 0)return ID;if(typeof document<"u")return document;throw new De(210,!1)}var rd=new ae("",{providedIn:"root",factory:()=>eU}),eU="ng",ev=new ae(""),Ka=new ae("",{providedIn:"platform",factory:()=>"unknown"});var Ff=new ae(""),od=new ae("",{providedIn:"root",factory:()=>nN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tU="h",nU="b";var iN="r";var rN="di";var oN=!1,sN=new ae("",{providedIn:"root",factory:()=>oN});var iU=(e,t,n,i)=>{};function rU(e,t,n,i){iU(e,t,n,i)}function tv(e){return(e.flags&32)===32}var oU=()=>null;function aN(e,t,n=!1){return oU(e,t,n)}function lN(e,t){let n=e.contentQueries;if(n!==null){let i=He(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];Sy(o),a.contentQueries(2,t[s],s)}}}finally{He(i)}}}function wD(e,t,n){Sy(0);let i=He(null);try{t(e,n)}finally{He(i)}}function cN(e,t,n){if(RM(t)){let i=He(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{He(i)}}}var Ys=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(Ys||{});var Vy=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ay})`}};function nv(e){return e instanceof Vy?e.changingThisBreaksApplicationSecurity:e}function uN(e,t){let n=dN(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ay})`)}return n===t}function dN(e){return e instanceof Vy&&e.getTypeName()||null}var sU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hN(e){return e=String(e),e.match(sU)?e:"unsafe:"+e}var eI=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(eI||{});function Tr(e){let t=aU();return t?t.sanitize(eI.URL,e)||"":uN(e,"URL")?nv(e):hN(Uu(e))}function aU(){let e=qe();return e&&e[os].sanitizer}function fN(e){return e instanceof Function?e():e}function lU(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var pN="ng-template";function cU(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&lU(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(tI(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function tI(e){return e.type===4&&e.value!==pN}function uU(e,t,n){let i=e.type===4&&!n?pN:e.value;return t===i}function dU(e,t,n){let i=4,r=e.attrs,o=r!==null?pU(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Co(i)&&!Co(l))return!1;if(s&&Co(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!uU(e,l,n)||l===""&&t.length===1){if(Co(i))return!1;s=!0}}else if(i&8){if(r===null||!cU(e,r,l,n)){if(Co(i))return!1;s=!0}}else{let c=t[++a],u=hU(l,r,tI(e),n);if(u===-1){if(Co(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Co(i))return!1;s=!0}}}}return Co(i)||s}function Co(e){return(e&1)===0}function hU(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return gU(t,e)}function gN(e,t,n=!1){for(let i=0;i<t.length;i++)if(dU(e,t[i],n))return!0;return!1}function fU(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function pU(e){for(let t=0;t<e.length;t++){let n=e[t];if(j4(n))return t}return e.length}function gU(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function mU(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function pk(e,t){return e?":not("+t.trim()+")":t}function yU(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Co(s)&&(t+=pk(o,r),r=""),i=s,o=o||!Co(i);n++}return r!==""&&(t+=pk(o,r)),t}function vU(e){return e.map(yU).join(",")}function bU(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!Co(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var Qr={};function xU(e,t){return e.createText(t)}function SU(e,t,n){e.setValue(t,n)}function mN(e,t,n){return e.createElement(t,n)}function By(e,t,n,i,r){e.insertBefore(t,n,i,r)}function yN(e,t,n){e.appendChild(t,n)}function gk(e,t,n,i,r){i!==null?By(e,t,n,i,r):yN(e,t,n)}function vN(e,t,n){e.removeChild(null,t,n)}function MU(e,t,n){e.setAttribute(t,"style",n)}function DU(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function bN(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&F4(e,t,i),r!==null&&DU(e,t,r),o!==null&&MU(e,t,o)}function nI(e,t,n,i,r,o,s,a,l,c,u){let d=Rn+i,h=d+r,f=IU(d,h),p=typeof c=="function"?c():c;return f[Ne]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function IU(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Qr);return n}function wU(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=nI(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function iI(e,t,n,i,r,o,s,a,l,c,u){let d=t.blueprint.slice();return d[Do]=r,d[Ge]=i|4|128|8|64|1024,(c!==null||e&&e[Ge]&2048)&&(d[Ge]|=2048),FM(d),d[qn]=d[ic]=e,d[Tn]=n,d[os]=s||e&&e[os],d[Wt]=a||e&&e[Wt],d[nc]=l||e&&e[nc]||null,d[Wi]=o,d[vf]=X4(),d[tc]=u,d[OM]=c,d[Yi]=t.type==2?e[Yi]:d,d}function CU(e,t,n){let i=wo(t,e),r=wU(n),o=e[os].rendererFactory,s=rI(e,iI(e,r,null,xN(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function xN(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function SN(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function rI(e,t){return e[Yu]?e[NM][Wr]=t:e[Yu]=t,e[NM]=t,t}function X(e=1){MN(Mn(),qe(),$s()+e,!1)}function MN(e,t,n,i){if(!i)if((t[Ge]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ay(t,o,n)}else{let o=e.preOrderHooks;o!==null&&_y(t,o,0,n)}Za(n)}var iv=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(iv||{});function CD(e,t,n,i){let r=He(null);try{let[o,s,a]=e.inputs[n],l=null;(s&iv.SignalBased)!==0&&(l=t[o][Ti]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(t,i)),e.setInput!==null?e.setInput(t,l,i,n,o):Pk(t,l,o,i)}finally{He(r)}}var Zs=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Zs||{}),EU;function oI(e,t){return EU(e,t)}function Qu(e,t,n,i,r){if(i!=null){let o,s=!1;Io(i)?o=i:as(i)&&(s=!0,i=i[Do]);let a=Yr(i);e===0&&n!==null?r==null?yN(t,n,a):By(t,n,a,r||null,!0):e===1&&n!==null?By(t,n,a,r||null,!0):e===2?vN(t,a,s):e===3&&t.destroyNode(a),o!=null&&FU(t,e,o,n,r)}}function TU(e,t){DN(e,t),t[Do]=null,t[Wi]=null}function AU(e,t,n,i,r,o){i[Do]=r,i[Wi]=t,ov(e,i,n,1,r,o)}function DN(e,t){t[os].changeDetectionScheduler?.notify(9),ov(e,t,t[Wt],2,null,null)}function _U(e){let t=e[Yu];if(!t)return hD(e[Ne],e);for(;t;){let n=null;if(as(t))n=t[Yu];else{let i=t[ai];i&&(n=i)}if(!n){for(;t&&!t[Wr]&&t!==e;)as(t)&&hD(t[Ne],t),t=t[qn];t===null&&(t=e),as(t)&&hD(t[Ne],t),n=t&&t[Wr]}t=n}}function sI(e,t){let n=e[sc],i=n.indexOf(t);n.splice(i,1)}function rv(e,t){if(ac(t))return;let n=t[Wt];n.destroyNode&&ov(e,t,n,3,null,null),_U(t)}function hD(e,t){if(ac(t))return;let n=He(null);try{t[Ge]&=-129,t[Ge]|=256,t[wr]&&rf(t[wr]),NU(e,t),kU(e,t),t[Ne].type===1&&t[Wt].destroy();let i=t[$a];if(i!==null&&Io(t[qn])){i!==t[qn]&&sI(i,t);let r=t[ss];r!==null&&r.detachView(e)}DD(t)}finally{He(n)}}function kU(e,t){let n=e.cleanup,i=t[Wu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[Wu]=null);let r=t[Bs];if(r!==null){t[Bs]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[bf];if(o!==null){t[bf]=null;for(let s of o)s.destroy()}}function NU(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof cc)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Bt(4,a,l);try{l.call(a)}finally{Bt(5,a,l)}}else{Bt(4,r,o);try{o.call(r)}finally{Bt(5,r,o)}}}}}function IN(e,t,n){return OU(e,t.parent,n)}function OU(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[Do];if(Ya(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===Ys.None||r===Ys.Emulated)return null}return wo(i,n)}function wN(e,t,n){return RU(e,t,n)}function LU(e,t,n){return e.type&40?wo(e,n):null}var RU=LU,mk;function aI(e,t,n,i){let r=IN(e,i,t),o=t[Wt],s=i.parent||t[Wi],a=wN(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)gk(o,r,n[l],a,!1);else gk(o,r,n,a,!1);mk!==void 0&&mk(o,i,t,n,r)}function Tf(e,t){if(t!==null){let n=t.type;if(n&3)return wo(t,e);if(n&4)return ED(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Tf(e,i);{let r=e[t.index];return Io(r)?ED(-1,r):Yr(r)}}else{if(n&128)return Tf(e,t.next);if(n&32)return oI(t,e)()||Yr(e[t.index]);{let i=CN(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Ha(e[Yi]);return Tf(r,i)}else return Tf(e,t.next)}}}return null}function CN(e,t){if(t!==null){let i=e[Yi][Wi],r=t.projection;return i.projection[r]}return null}function ED(e,t){let n=ai+e+1;if(n<t.length){let i=t[n],r=i[Ne].firstChild;if(r!==null)return Tf(i,r)}return t[Wa]}function lI(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&ed(Yr(a),i),n.flags|=2),!tv(n))if(l&8)lI(e,t,n.child,i,r,o,!1),Qu(t,e,r,a,o);else if(l&32){let c=oI(n,i),u;for(;u=c();)Qu(t,e,r,u,o);Qu(t,e,r,a,o)}else l&16?EN(e,t,i,n,r,o):Qu(t,e,r,a,o);n=s?n.projectionNext:n.next}}function ov(e,t,n,i,r,o){lI(n,i,e.firstChild,t,r,o,!1)}function PU(e,t,n){let i=t[Wt],r=IN(e,n,t),o=n.parent||t[Wi],s=wN(o,n,t);EN(i,0,t,n,r,s)}function EN(e,t,n,i,r,o){let s=n[Yi],l=s[Wi].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Qu(t,e,r,u,o)}else{let c=l,u=s[qn];Qk(i)&&(c.flags|=128),lI(e,t,c,u,r,o,!0)}}function FU(e,t,n,i,r){let o=n[Wa],s=Yr(n);o!==s&&Qu(t,e,i,o,r);for(let a=ai;a<n.length;a++){let l=n[a];ov(l[Ne],l,e,t,i,o)}}function jU(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Zs.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Zs.Important),e.setStyle(n,i,r,o))}}function TN(e,t,n,i,r){let o=$s(),s=i&2;try{Za(-1),s&&t.length>Rn&&MN(e,t,Rn,!1),Bt(s?2:0,r,n),n(i,r)}finally{Za(o),Bt(s?3:1,r,n)}}function cI(e,t,n){GU(e,t,n),(n.flags&64)===64&&$U(e,t,n)}function sv(e,t,n=wo){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function VU(e,t,n,i){let o=i.get(sN,oN)||n===Ys.ShadowDom,s=e.selectRootElement(t,o);return BU(s),s}function BU(e){zU(e)}var zU=()=>null;function HU(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function AN(e,t,n,i,r,o){let s=t[Ne];if(uI(e,s,t,n,i)){Ya(e)&&UU(t,e.index);return}e.type&3&&(n=HU(n)),_N(e,t,n,i,r,o)}function _N(e,t,n,i,r,o){if(e.type&3){let s=wo(e,t);i=o!=null?o(i,e.value||"",n):i,r.setProperty(s,n,i)}else e.type&12}function UU(e,t){let n=Zr(t,e);n[Ge]&16||(n[Ge]|=64)}function GU(e,t,n){let i=n.directiveStart,r=n.directiveEnd;Ya(n)&&CU(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Fy(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=_f(t,e,s,n);if(ed(l,t),o!==null&&qU(t,s-i,l,a,n,o),ls(a)){let c=Zr(n.index,t);c[Tn]=_f(t,e,s,n)}}}function $U(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Q_();try{Za(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];xy(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&WU(l,c)}}finally{Za(-1),xy(s)}}function WU(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function kN(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];gN(t,o.selectors,!1)&&(i??=[],ls(o)?i.unshift(o):i.push(o))}return i}function YU(e,t,n,i,r,o){let s=wo(e,t);ZU(t[Wt],s,o,e.value,n,i,r)}function ZU(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Uu(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function qU(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];CD(i,n,l,c)}}function NN(e,t,n,i,r){let o=Rn+n,s=t[Ne],a=r(s,t,e,i,n);t[o]=a,Ku(e,!0);let l=e.type===2;return l?(bN(t[Wt],a,e),($_()===0||Sf(e))&&ed(a,t),W_()):ed(a,t),Iy()&&(!l||!tv(e))&&aI(s,t,a,e),e}function ON(e){let t=e;return ZM()?qM():(t=t.parent,Ku(t,!1)),t}function KU(e,t){let n=e[nc];if(!n)return;n.get(Kr,null)?.(t)}function uI(e,t,n,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=t.data[c];CD(d,n[c],u,r),a=!0}if(o)for(let l of o){let c=n[l],u=t.data[l];CD(u,c,i,r),a=!0}return a}function QU(e,t){let n=Zr(t,e),i=n[Ne];XU(i,n);let r=n[Do];r!==null&&n[tc]===null&&(n[tc]=aN(r,n[nc])),Bt(18),dI(i,n,n[Tn]),Bt(19,n[Tn])}function XU(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function dI(e,t,n){My(t);try{let i=e.viewQuery;i!==null&&wD(1,i,n);let r=e.template;r!==null&&TN(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ss]?.finishViewCreation(e),e.staticContentQueries&&lN(e,t),e.staticViewQueries&&wD(2,e.viewQuery,n);let o=e.components;o!==null&&JU(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Ge]&=-5,Dy()}}function JU(e,t){for(let n=0;n<t.length;n++)QU(e,t[n])}function jf(e,t,n,i){let r=He(null);try{let o=t.tView,a=e[Ge]&4096?4096:16,l=iI(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[$a]=c;let u=e[ss];return u!==null&&(l[ss]=u.createEmbeddedView(o)),dI(o,l,n),l}finally{He(r)}}function td(e,t){return!t||t.firstChild===null||Qk(e)}var yk=!1,eG=new ae("");function kf(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(Yr(o)),Io(o)&&LN(o,i);let s=n.type;if(s&8)kf(e,t,n.child,i);else if(s&32){let a=oI(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=CN(t,n);if(Array.isArray(a))i.push(...a);else{let l=Ha(t[Yi]);kf(l[Ne],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function LN(e,t){for(let n=ai;n<e.length;n++){let i=e[n],r=i[Ne].firstChild;r!==null&&kf(i[Ne],i,r,t)}e[Wa]!==e[Do]&&t.push(e[Wa])}function RN(e){if(e[oc]!==null){for(let t of e[oc])t.impl.addSequence(t);e[oc].length=0}}var PN=[];function tG(e){return e[wr]??nG(e)}function nG(e){let t=PN.pop()??Object.create(rG);return t.lView=e,t}function iG(e){e.lView[wr]!==e&&(e.lView=null,PN.push(e))}var rG=I(g({},wu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{qu(e.lView)},consumerOnSignalRead(){this.lView[wr]=this}});function oG(e){let t=e[wr]??Object.create(sG);return t.lView=e,t}var sG=I(g({},wu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Ha(e.lView);for(;t&&!FN(t[Ne]);)t=Ha(t);t&&jM(t)},consumerOnSignalRead(){this.lView[wr]=this}});function FN(e){return e.type!==2}function jN(e){if(e[bf]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[bf])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[Ge]&8192)}}var aG=100;function hI(e,t=0){let i=e[os].rendererFactory,r=!1;r||i.begin?.();try{lG(e,t)}finally{r||i.end?.()}}function lG(e,t){let n=QM();try{XM(!0),TD(e,t);let i=0;for(;Df(e);){if(i===aG)throw new De(103,!1);i++,TD(e,1)}}finally{XM(n)}}function VN(e,t){KM(t?If.Exhaustive:If.OnlyDirtyViews);try{hI(e)}finally{KM(If.Off)}}function cG(e,t,n,i){if(ac(t))return;let r=t[Ge],o=!1,s=!1;My(t);let a=!0,l=null,c=null;o||(FN(e)?(c=tG(t),l=Eu(c)):Em()===null?(a=!1,c=oG(t),l=Eu(c)):t[wr]&&(rf(t[wr]),t[wr]=null));try{FM(t),Z_(e.bindingStartIndex),n!==null&&TN(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Ay(t,f,null)}else{let f=e.preOrderHooks;f!==null&&_y(t,f,0,null),uD(t,0)}if(s||uG(t),jN(t),BN(t,0),e.contentQueries!==null&&lN(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&Ay(t,f)}else{let f=e.contentHooks;f!==null&&_y(t,f,1),uD(t,1)}hG(e,t);let d=e.components;d!==null&&HN(t,d,0);let h=e.viewQuery;if(h!==null&&wD(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&Ay(t,f)}else{let f=e.viewHooks;f!==null&&_y(t,f,2),uD(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[gy]){for(let f of t[gy])f();t[gy]=null}o||(RN(t),t[Ge]&=-73)}catch(u){throw o||qu(t),u}finally{c!==null&&(tf(c,l),a&&iG(c)),Dy()}}function BN(e,t){for(let n=Jk(e);n!==null;n=eN(n))for(let i=ai;i<n.length;i++){let r=n[i];zN(r,t)}}function uG(e){for(let t=Jk(e);t!==null;t=eN(t)){if(!(t[Ge]&2))continue;let n=t[sc];for(let i=0;i<n.length;i++){let r=n[i];jM(r)}}}function dG(e,t,n){Bt(18);let i=Zr(t,e);zN(i,n),Bt(19,i[Tn])}function zN(e,t){my(e)&&TD(e,t)}function TD(e,t){let i=e[Ne],r=e[Ge],o=e[wr],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&nf(o)),s||=!1,o&&(o.dirty=!1),e[Ge]&=-9217,s)cG(i,e,i.template,e[Tn]);else if(r&8192){let a=He(null);try{jN(e),BN(e,1);let l=i.components;l!==null&&HN(e,l,1),RN(e)}finally{He(a)}}}function HN(e,t,n){for(let i=0;i<t.length;i++)dG(e,t[i],n)}function hG(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Za(~r);else{let o=r,s=n[++i],a=n[++i];K_(s,o);let l=t[o];Bt(24,l),a(2,l),Bt(25,l)}}}finally{Za(-1)}}function fI(e,t){let n=QM()?64:1088;for(e[os].changeDetectionScheduler?.notify(t);e;){e[Ge]|=n;let i=Ha(e);if(Zu(e)&&!i)return e;e=i}return null}function UN(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function GN(e,t){let n=ai+t;if(n<e.length)return e[n]}function Vf(e,t,n,i=!0){let r=t[Ne];if(fG(r,t,e,n),i){let s=ED(n,e),a=t[Wt],l=a.parentNode(e[Wa]);l!==null&&AU(r,e[Wi],a,t,l,s)}let o=t[tc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $N(e,t){let n=Nf(e,t);return n!==void 0&&rv(n[Ne],n),n}function Nf(e,t){if(e.length<=ai)return;let n=ai+t,i=e[n];if(i){let r=i[$a];r!==null&&r!==e&&sI(r,i),t>0&&(e[n-1][Wr]=i[Wr]);let o=mf(e,ai+t);TU(i[Ne],i);let s=o[ss];s!==null&&s.detachView(o[Ne]),i[qn]=null,i[Wr]=null,i[Ge]&=-129}return i}function fG(e,t,n,i){let r=ai+i,o=n.length;i>0&&(n[r-1][Wr]=t),i<o-ai?(t[Wr]=n[r],IM(n,ai+i,t)):(n.push(t),t[Wr]=null),t[qn]=n;let s=t[$a];s!==null&&n!==s&&WN(s,t);let a=t[ss];a!==null&&a.insertView(e),yy(t),t[Ge]|=128}function WN(e,t){let n=e[sc],i=t[qn];if(as(i))e[Ge]|=2;else{let r=i[qn][Yi];t[Yi]!==r&&(e[Ge]|=2)}n===null?e[sc]=[t]:n.push(t)}var qa=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[Ne];return kf(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Tn]}set context(t){this._lView[Tn]=t}get destroyed(){return ac(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[qn];if(Io(t)){let n=t[xf],i=n?n.indexOf(this):-1;i>-1&&(Nf(t,i),mf(n,i))}this._attachedToViewContainer=!1}rv(this._lView[Ne],this._lView)}onDestroy(t){VM(this._lView,t)}markForCheck(){fI(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ge]&=-129}reattach(){yy(this._lView),this._lView[Ge]|=128}detectChanges(){this._lView[Ge]|=1024,hI(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Zu(this._lView),n=this._lView[$a];n!==null&&!t&&sI(n,this._lView),DN(this._lView[Ne],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=t;let n=Zu(this._lView),i=this._lView[$a];i!==null&&!n&&WN(i,this._lView),yy(this._lView)}};var qs=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=pG;constructor(n,i,r){this._declarationLView=n,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,r){let o=jf(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:r});return new qa(o)}}return e})();function pG(){return pI(mi(),qe())}function pI(e,t){return e.type&4?new qs(t,e,id(e,t)):null}function sd(e,t,n,i,r){let o=e.data[t];if(o===null)o=gG(e,t,n,i,r),q_()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Y_();o.injectorIndex=s===null?-1:s.injectorIndex}return Ku(o,!0),o}function gG(e,t,n,i,r){let o=YM(),s=ZM(),a=s?o:o&&o.parent,l=e.data[t]=yG(e,a,n,t,i,r);return mG(e,l,o,s),l}function mG(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function yG(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return GM()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var gce=new RegExp(`^(\\d+)*(${nU}|${tU})*(.*)`);function vG(e){let t=e[LM]??[],i=e[qn][Wt],r=[];for(let o of t)o.data[rN]!==void 0?r.push(o):bG(o,i);e[LM]=r}function bG(e,t){let n=0,i=e.firstChild;if(i){let r=e.data[iN];for(;n<r;){let o=i.nextSibling;vN(t,i,!1),i=o,n++}}}var xG=()=>null,SG=()=>null;function zy(e,t){return xG(e,t)}function YN(e,t,n){return SG(e,t,n)}var ZN=class{},av=class{},AD=class{resolveComponentFactory(t){throw new De(917,!1)}},Bf=class{static NULL=new AD},Zi=class{},ds=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>MG()}return e})();function MG(){let e=qe(),t=mi(),n=Zr(t.index,e);return(as(n)?n:e)[Wt]}var qN=(()=>{class e{static \u0275prov=q({token:e,providedIn:"root",factory:()=>null})}return e})();var Ny={},_D=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){let r=this.injector.get(t,Ny,i);return r!==Ny||n===Ny?r:this.parentInjector.get(t,n,i)}};function Hy(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=cy(r,a);else if(o==2){let l=a,c=t[++s];i=cy(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function ue(e,t=0){let n=qe();if(n===null)return Ue(e,t);let i=mi();return Zk(i,n,gi(e),t)}function KN(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}wG(e,t,n,a,o,l,c)}o!==null&&i!==null&&DG(n,i,o)}function DG(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new De(-301,!1);i.push(t[r],o)}}function IG(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function wG(e,t,n,i,r,o,s){let a=i.length,l=!1;for(let h=0;h<a;h++){let f=i[h];!l&&ls(f)&&(l=!0,IG(e,n,h)),SD(Fy(n,t),e,f.type)}kG(n,e.data.length,a);for(let h=0;h<a;h++){let f=i[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=SN(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=i[h];if(n.mergedAttrs=Ju(n.mergedAttrs,f.hostAttrs),EG(e,n,t,d,f),_G(d,f,r),s!==null&&s.has(f)){let[m,b]=s.get(f);n.directiveToIndex.set(f.type,[d,m+n.directiveStart,b+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}CG(e,n,o)}function CG(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=e.data[i];if(n===null||!n.has(r))vk(0,t,r,i),vk(1,t,r,i),xk(t,i,!1);else{let o=n.get(r);bk(0,t,o,i),bk(1,t,o,i),xk(t,i,!0)}}}function vk(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),QN(t,o)}}function bk(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),QN(t,s)}}function QN(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function xk(e,t,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!n&&r===null||n&&o===null||tI(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&r.hasOwnProperty(l)){let c=r[l];for(let u of c)if(u===t){s??=[],s.push(l,i[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function EG(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Kl(r.type,!0)),s=new cc(o,ls(r),ue,null);e.blueprint[i]=s,n[i]=s,TG(e,t,i,SN(e,n,r.hostVars,Qr),r)}function TG(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;AG(s)!=a&&s.push(a),s.push(n,i,o)}}function AG(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function _G(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;ls(t)&&(n[""]=e)}}function kG(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function XN(e,t,n,i,r,o,s,a){let l=t[Ne],c=l.consts,u=qr(c,s),d=sd(l,e,n,i,u);return o&&KN(l,t,d,qr(c,a),r),d.mergedAttrs=Ju(d.mergedAttrs,d.attrs),d.attrs!==null&&Hy(d,d.attrs,!1),d.mergedAttrs!==null&&Hy(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function JN(e,t){Bk(e,t),RM(t)&&e.queries.elementEnd(t)}function NG(e,t,n,i,r,o){let s=t.consts,a=qr(s,r),l=sd(t,e,n,i,a);if(l.mergedAttrs=Ju(l.mergedAttrs,l.attrs),o!=null){let c=qr(s,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&Hy(l,l.attrs,!1),l.mergedAttrs!==null&&Hy(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function hs(e,t,n){if(n===Qr)return!1;let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function Oy(e,t,n){return function i(r){let o=Ya(e)?Zr(e.index,t):t;fI(o,5);let s=t[Tn],a=Sk(t,s,n,r),l=i.__ngNextListenerFn__;for(;l;)a=Sk(t,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function Sk(e,t,n,i){let r=He(null);try{return Bt(6,t,n),n(i)!==!1}catch(o){return KU(e,o),!1}finally{Bt(7,t,n),He(r)}}function e1(e,t,n,i,r,o,s,a){let l=Sf(e),c=!1,u=null;if(!i&&l&&(u=OG(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let d=wo(e,n),h=i?i(d):d;rU(n,h,o,a);let f=r.listen(h,o,a),p=i?m=>i(Yr(m[e.index])):e.index;t1(p,t,n,o,a,f,!1)}return c}function OG(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[Wu],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function t1(e,t,n,i,r,o,s){let a=t.firstCreatePass?zM(t):null,l=BM(n),c=l.length;l.push(r,o),a&&a.push(i,e,c,(c+1)*(s?-1:1))}function Mk(e,t,n,i,r,o){let s=t[n],a=t[Ne],c=a.data[n].outputs[i],d=s[c].subscribe(o);t1(e.index,a,t,r,o,d,!0)}var kD=Symbol("BINDING");var Uy=class extends Bf{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Us(t);return new uc(n,this.ngModule)}};function LG(e){return Object.keys(e).map(t=>{let[n,i,r]=e[t],o={propName:n,templateName:t,isSignal:(i&iv.SignalBased)!==0};return r&&(o.transform=r),o})}function RG(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function PG(e,t,n){let i=t instanceof un?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new _D(n,i):n}function FG(e){let t=e.get(Zi,null);if(t===null)throw new De(407,!1);let n=e.get(qN,null),i=e.get(Ua,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i,ngReflect:!1}}function jG(e,t){let n=n1(e);return mN(t,n,n==="svg"?j_:n==="math"?V_:null)}function n1(e){return(e.selectors[0][0]||"div").toLowerCase()}var uc=class extends av{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=LG(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=RG(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=vU(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r,o,s){Bt(22);let a=He(null);try{let l=this.componentDef,c=VG(i,l,s,o),u=PG(l,r||this.ngModule,t),d=FG(u),h=d.rendererFactory.createRenderer(null,l),f=i?VU(h,i,l.encapsulation,u):jG(l,h),p=s?.some(Dk)||o?.some(v=>typeof v!="function"&&v.bindings.some(Dk)),m=iI(null,c,null,512|xN(l),null,null,d,h,u,null,aN(f,u,!0));m[Rn]=f,My(m);let b=null;try{let v=XN(Rn,m,2,"#host",()=>c.directiveRegistry,!0,0);f&&(bN(h,f,v),ed(f,m)),cI(c,m,v),cN(c,v,m),JN(c,v),n!==void 0&&zG(v,this.ngContentSelectors,n),b=Zr(v.index,m),m[Tn]=b[Tn],dI(c,m,null)}catch(v){throw b!==null&&DD(b),DD(m),v}finally{Bt(23),Dy()}return new Gy(this.componentType,m,!!p)}finally{He(a)}}};function VG(e,t,n,i){let r=e?["ng-version","20.2.2"]:bU(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[kD].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let d=i[u];if(typeof d!="function")for(let h of d.bindings){a+=h[kD].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let l=[t];if(i)for(let u of i){let d=typeof u=="function"?u:u.type,h=TM(d);l.push(h)}return nI(0,null,BG(o,s),1,a,l,null,null,null,[r],null)}function BG(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let i of e)i.create();if(n&2&&t)for(let i of t)i.update()}}function Dk(e){let t=e[kD].kind;return t==="input"||t==="twoWay"}var Gy=class extends ZN{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,i){super(),this._rootLView=n,this._hasInputBindings=i,this._tNode=Mf(n[Ne],Rn),this.location=id(this._tNode,n),this.instance=Zr(this._tNode.index,n)[Tn],this.hostView=this.changeDetectorRef=new qa(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let r=this._rootLView,o=uI(i,r[Ne],r,t,n);this.previousInputValues.set(t,n);let s=Zr(i.index,r);fI(s,1)}get injector(){return new lc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function zG(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Xs=(()=>{class e{static __NG_ELEMENT_ID__=HG}return e})();function HG(){let e=mi();return r1(e,qe())}var UG=Xs,i1=class extends UG{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return id(this._hostTNode,this._hostLView)}get injector(){return new lc(this._hostTNode,this._hostLView)}get parentInjector(){let t=QD(this._hostTNode,this._hostLView);if(Hk(t)){let n=Py(t,this._hostLView),i=Ry(t),r=n[Ne].data[i+8];return new lc(r,n)}else return new lc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Ik(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ai}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=zy(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,td(this._hostTNode,s)),a}createComponent(t,n,i,r,o,s,a){let l=t&&!A4(t),c;if(l)c=n;else{let b=n||{};c=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef,s=b.directives,a=b.bindings}let u=l?t:new uc(Us(t)),d=i||this.parentInjector;if(!o&&u.ngModule==null){let v=(l?d:this.parentInjector).get(un,null);v&&(o=v)}let h=Us(u.componentType??{}),f=zy(this._lContainer,h?.id??null),p=f?.firstChild??null,m=u.create(d,r,p,o,s,a);return this.insertImpl(m.hostView,c,td(this._hostTNode,f)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(z_(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[qn],c=new i1(l,l[Wi],l[qn]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Vf(s,r,o,i),t.attachToViewContainerRef(),IM(fD(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Ik(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=Nf(this._lContainer,n);i&&(mf(fD(this._lContainer),n),rv(i[Ne],i))}detach(t){let n=this._adjustIndex(t,-1),i=Nf(this._lContainer,n);return i&&mf(fD(this._lContainer),n)!=null?new qa(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ik(e){return e[xf]}function fD(e){return e[xf]||(e[xf]=[])}function r1(e,t){let n,i=t[e.index];return Io(i)?n=i:(n=UN(i,t,null,e),t[e.index]=n,rI(t,n)),$G(n,t,e,i),new i1(n,e,t)}function GG(e,t){let n=e[Wt],i=n.createComment(""),r=wo(t,e),o=n.parentNode(r);return By(n,o,i,n.nextSibling(r),!1),i}var $G=ZG,WG=()=>!1;function YG(e,t,n){return WG(e,t,n)}function ZG(e,t,n,i){if(e[Wa])return;let r;n.type&8?r=Yr(i):r=GG(t,n),e[Wa]=r}var ND=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},OD=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)gI(t,n).matches!==null&&this.queries[n].setDirty()}},LD=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=n$(t):this.predicate=t}},RD=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},PD=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,qG(n,o)),this.matchTNodeWithReadOption(t,n,ky(n,t,o,!1,!1))}else i===qs?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ky(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===an||r===Xs||r===qs&&n.type&4)this.addMatch(n.index,-2);else{let o=ky(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function qG(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function KG(e,t){return e.type&11?id(e,t):e.type&4?pI(e,t):null}function QG(e,t,n,i){return n===-1?KG(t,e):n===-2?XG(e,t,i):_f(e,e[Ne],n,t)}function XG(e,t,n){if(n===an)return id(t,e);if(n===qs)return pI(t,e);if(n===Xs)return r1(t,e)}function o1(e,t,n,i){let r=t[ss].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(QG(t,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function FD(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=o1(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=ai;d<u.length;d++){let h=u[d];h[$a]===h[qn]&&FD(h[Ne],h,c,i)}if(u[sc]!==null){let d=u[sc];for(let h=0;h<d.length;h++){let f=d[h];FD(f[Ne],f,c,i)}}}}}return i}function JG(e,t){return e[ss].queries[t].queryList}function e$(e,t,n){let i=new jy((n&4)===4);return G_(e,t,i,i.destroy),(t[ss]??=new OD).queries.push(new ND(i))-1}function t$(e,t,n){let i=Mn();return i.firstCreatePass&&(i$(i,new LD(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),e$(i,qe(),t)}function n$(e){return e.split(",").map(t=>t.trim())}function i$(e,t,n){e.queries===null&&(e.queries=new RD),e.queries.track(new PD(t,n))}function gI(e,t){return e.queries.getByIndex(t)}function r$(e,t){let n=e[Ne],i=gI(n,t);return i.crossesNgTemplate?FD(n,e,t,[]):o1(n,e,i,t)}var wk=new Set;function Js(e){wk.has(e)||(wk.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Ks=class{},lv=class{};var $y=class extends Ks{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Uy(this);constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n;let o=EM(t);this._bootstrapComponents=fN(o.bootstrap),this._r3Injector=iD(t,n,[{provide:Ks,useValue:this},{provide:Bf,useValue:this.componentFactoryResolver},...i],zs(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Wy=class extends lv{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new $y(this.moduleType,t,[])}};var Of=class extends Ks{injector;componentFactoryResolver=new Uy(this);instance=null;constructor(t){super();let n=new Xl([...t.providers,{provide:Ks,useValue:this},{provide:Bf,useValue:this.componentFactoryResolver}],t.parent||$u(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function zf(e,t,n=null){return new Of({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var o$=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=AM(!1,n.type),r=i.length>0?zf([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(Ue(un))})}return e})();function ne(e){return Pf(()=>{let t=s1(e),n=I(g({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===XD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(o$).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ys.Emulated,styles:e.styles||Gi,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Js("NgStandalone"),a1(n);let i=e.dependencies;return n.directiveDefs=Ck(i,s$),n.pipeDefs=Ck(i,__),n.id=c$(n),n})}function s$(e){return Us(e)||TM(e)}function Xr(e){return Pf(()=>({type:e.type,bootstrap:e.bootstrap||Gi,declarations:e.declarations||Gi,imports:e.imports||Gi,exports:e.exports||Gi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function a$(e,t){if(e==null)return Ga;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=iv.None,l=null),n[o]=[i,a,l],t[o]=s}return n}function l$(e){if(e==null)return Ga;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Xt(e){return Pf(()=>{let t=s1(e);return a1(t),t})}function s1(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Ga,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Gi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:a$(e.inputs,t),outputs:l$(e.outputs),debugInfo:null}}function a1(e){e.features?.forEach(t=>t(e))}function Ck(e,t){return e?()=>{let n=typeof e=="function"?e():e,i=[];for(let r of n){let o=t(r);o!==null&&i.push(o)}return i}:null}function c$(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function u$(e){return Object.getPrototypeOf(e.prototype).constructor}function Kn(e){let t=u$(e.type),n=!0,i=[e];for(;t;){let r;if(ls(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new De(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=pD(e.inputs),s.declaredInputs=pD(e.declaredInputs),s.outputs=pD(e.outputs);let a=r.hostBindings;a&&g$(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&f$(e,l),c&&p$(e,c),d$(e,r),S_(e.outputs,r.outputs),ls(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Kn&&(n=!1)}}t=Object.getPrototypeOf(t)}h$(i)}function d$(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n])}}function h$(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ju(r.hostAttrs,n=Ju(n,r.hostAttrs))}}function pD(e){return e===Ga?{}:e===Gi?[]:e}function f$(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function p$(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function g$(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function l1(e,t,n,i,r,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Ju(e.mergedAttrs,e.attrs);let u=e.tView=nI(2,e,r,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Ku(e,!1);let l=y$(n,t,e,i);Iy()&&aI(n,t,l,e),ed(l,t);let c=UN(l,t,l,e);t[i+Rn]=c,rI(t,c),YG(c,e,t)}function m$(e,t,n,i,r,o,s,a,l,c,u){let d=n+Rn,h;return t.firstCreatePass?(h=sd(t,d,4,s||null,a||null),UM()&&KN(t,e,h,qr(t.consts,c),kN),Bk(t,h)):h=t.data[d],l1(h,e,t,n,i,r,o,l),Sf(h)&&cI(t,e,h),c!=null&&sv(e,h,u),h}function Lf(e,t,n,i,r,o,s,a,l,c,u){let d=n+Rn,h;if(t.firstCreatePass){if(h=sd(t,d,4,s||null,a||null),c!=null){let f=qr(t.consts,c);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return l1(h,e,t,n,i,r,o,l),c!=null&&sv(e,h,u),h}function cv(e,t,n,i,r,o,s,a){let l=qe(),c=Mn(),u=qr(c.consts,o);return m$(l,c,e,t,n,i,r,u,void 0,s,a),cv}var y$=v$;function v$(e,t,n,i){return wy(!0),t[Wt].createComment("")}var uv=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(uv||{}),hc=new ae(""),c1=!1,jD=class extends ct{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,P_()&&(this.destroyRef=O(cs,{optional:!0})??void 0,this.pendingTasks=O(Ws,{optional:!0})??void 0)}emit(t){let n=He(null);try{super.next(t)}finally{He(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof sn&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},Yt=jD;function u1(e){let t,n;function i(){e=Ef;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Ek(e){return queueMicrotask(()=>e()),()=>{e=Ef}}var mI="isAngularZone",Yy=mI+"_ID",b$=0,tt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Yt(!1);onMicrotaskEmpty=new Yt(!1);onStable=new Yt(!1);onError=new Yt(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=c1}=t;if(typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,M$(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mI)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new De(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,x$,Ef,Ef);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},x$={};function yI(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function S$(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){u1(()=>{e.callbackScheduled=!1,VD(e),e.isCheckStableRunning=!0,yI(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),VD(e)}function M$(e){let t=()=>{S$(e)},n=b$++;e._inner=e._inner.fork({name:"angular",properties:{[mI]:!0,[Yy]:n,[Yy+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(D$(l))return i.invokeTask(o,s,a,l);try{return Tk(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Ak(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return Tk(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!I$(l)&&t(),Ak(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,VD(e),yI(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function VD(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Tk(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ak(e){e._nesting--,yI(e)}var Zy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Yt;onMicrotaskEmpty=new Yt;onStable=new Yt;onError=new Yt;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function D$(e){return d1(e,"__ignore_ng_zone__")}function I$(e){return d1(e,"__scheduler_tick__")}function d1(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var vI=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:e,providedIn:"root",factory:()=>new e})}return e})(),h1=[0,1,2,3],f1=(()=>{class e{ngZone=O(tt);scheduler=O(Ua);errorHandler=O(Mo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(hc,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Bt(16),this.executing=!0;for(let i of h1)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Bt(17)}register(n){let{view:i}=n;i!==void 0?((i[oc]??=[]).push(n),qu(i),i[Ge]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(uv.AFTER_NEXT_RENDER,n):n()}static \u0275prov=q({token:e,providedIn:"root",factory:()=>new e})}return e})(),qy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,i,r,o,s=null){this.impl=t,this.hooks=n,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[oc];t&&(this.view[oc]=t.filter(n=>n!==this))}};function To(e,t){let n=t?.injector??O(Qt);return Js("NgAfterNextRender"),C$(e,n,t,!0)}function w$(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function C$(e,t,n,i){let r=t.get(vI);r.impl??=t.get(f1);let o=t.get(hc,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(cs):null,a=t.get(Ey,null,{optional:!0}),l=new qy(r.impl,w$(e),a?.view,i,s,o?.snapshot(null));return r.impl.register(l),l}var bI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var xI=new ae("");function fc(e){return!!e&&typeof e.then=="function"}function p1(e){return!!e&&typeof e.subscribe=="function"}var g1=new ae("");var SI=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=O(g1,{optional:!0})??[];injector=O(Qt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=$i(this.injector,r);if(fc(o))n.push(o);else if(p1(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dv=new ae("");function m1(){FS(()=>{let e="";throw new De(600,e)})}function y1(e){return e.isBoundToModule}var E$=10;var Ar=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(Kr);afterRenderManager=O(vI);zonelessEnabled=O(Cf);rootEffectScheduler=O(cD);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ct;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(Ws);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(it(n=>!n))}constructor(){O(hc,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=O(un);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=Qt.NULL){return this._injector.get(tt).run(()=>{Bt(10);let s=n instanceof av;if(!this._injector.get(SI).done){let p="";throw new De(405,p)}let l;s?l=n:l=this._injector.get(Bf).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=y1(l)?void 0:this._injector.get(Ks),u=i||l.selector,d=l.create(r,[],u,c),h=d.location.nativeElement,f=d.injector.get(xI,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Af(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),Bt(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Bt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(uv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new De(101,!1);let n=He(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,He(n),this.afterTick.next(),Bt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<E$;)Bt(14),this.synchronizeOnce(),Bt(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Df(r))continue;let o=i&&!this.zonelessEnabled?0:1;hI(r,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Df(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Af(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(dv,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Af(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new De(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Af(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function pc(e,t,n,i){let r=qe(),o=Gs();if(hs(r,o,t)){let s=Mn(),a=wf();YU(a,r,e,t,n,i)}return pc}var MI=new ae("",{providedIn:"root",factory:()=>!1}),DI=new ae("",{providedIn:"root",factory:()=>T$}),T$=4e3;var Mce=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var BD=class{destroy(t){}updateValue(t,n){}swap(t,n){let i=Math.min(t,n),r=Math.max(t,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,n){this.attach(n,this.detach(t))}};function gD(e,t,n,i,r){return e===n&&Object.is(t,i)?1:Object.is(r(e,t),r(n,i))?-1:0}function A$(e,t,n){let i,r,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let c=e.at(o),u=t[o],d=gD(o,c,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let h=e.at(s),f=t[l],p=gD(s,h,l,f,n);if(p!==0){p<0&&e.updateValue(s,f),s--,l--;continue}let m=n(o,c),b=n(s,h),v=n(o,u);if(Object.is(v,b)){let x=n(l,f);Object.is(x,m)?(e.swap(o,s),e.updateValue(s,f),l--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(i??=new Ky,r??=kk(e,o,s,n),zD(e,i,o,v))e.updateValue(o,u),o++,s++;else if(r.has(v))i.set(m,e.detach(o)),s--;else{let x=e.create(o,t[o]);e.attach(o,x),o++,s++}}for(;o<=l;)_k(e,i,n,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=e.at(o),d=c.value,h=gD(o,u,o,d,n);if(h!==0)h<0&&e.updateValue(o,d),o++,c=l.next();else{i??=new Ky,r??=kk(e,o,s,n);let f=n(o,d);if(zD(e,i,o,f))e.updateValue(o,d),o++,s++,c=l.next();else if(!r.has(f))e.attach(o,e.create(o,d)),o++,s++,c=l.next();else{let p=n(o,u);i.set(p,e.detach(o)),s--}}}for(;!c.done;)_k(e,i,n,e.length,c.value),c=l.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(l=>{e.destroy(l)})}function zD(e,t,n,i){return t!==void 0&&t.has(i)?(e.attach(n,t.get(i)),t.delete(i),!0):!1}function _k(e,t,n,i,r){if(zD(e,t,i,n(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function kk(e,t,n,i){let r=new Set;for(let o=t;o<=n;o++)r.add(i(o,e.at(o)));return r}var Ky=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,n)}}};function _r(e,t,n,i,r,o,s,a){Js("NgControlFlow");let l=qe(),c=Mn(),u=qr(c.consts,o);return Lf(l,c,e,t,n,i,r,u,256,s,a),II}function II(e,t,n,i,r,o,s,a){Js("NgControlFlow");let l=qe(),c=Mn(),u=qr(c.consts,o);return Lf(l,c,e,t,n,i,r,u,512,s,a),II}function kr(e,t){Js("NgControlFlow");let n=qe(),i=Gs(),r=n[i]!==Qr?n[i]:-1,o=r!==-1?Qy(n,Rn+r):void 0,s=0;if(hs(n,i,e)){let a=He(null);try{if(o!==void 0&&$N(o,s),e!==-1){let l=Rn+e,c=Qy(n,l),u=$D(n[Ne],l),d=YN(c,u,n),h=jf(n,u,t,{dehydratedView:d});Vf(c,h,s,td(u,d))}}finally{He(a)}}else if(o!==void 0){let a=GN(o,s);a!==void 0&&(a[Tn]=t)}}var HD=class{lContainer;$implicit;$index;constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-ai}};var UD=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}};function An(e,t,n,i,r,o,s,a,l,c,u,d,h){Js("NgControlFlow");let f=qe(),p=Mn(),m=l!==void 0,b=qe(),v=a?s.bind(b[Yi][Tn]):s,x=new UD(m,v);b[Rn+e]=x,Lf(f,p,e+1,t,n,i,r,qr(p.consts,o),256),m&&Lf(f,p,e+2,l,c,u,d,qr(p.consts,h),512)}var GD=class extends BD{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-ai}at(t){return this.getLView(t)[Tn].$implicit}attach(t,n){let i=n[tc];this.needsIndexUpdate||=t!==this.length,Vf(this.lContainer,n,t,td(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,_$(this.lContainer,t)}create(t,n){let i=zy(this.lContainer,this.templateTNode.tView.ssrId),r=jf(this.hostLView,this.templateTNode,new HD(this.lContainer,n,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){rv(t[Ne],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[Tn].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Tn].$index=t}getLView(t){return k$(this.lContainer,t)}};function _n(e){let t=He(null),n=$s();try{let i=qe(),r=i[Ne],o=i[n],s=n+1,a=Qy(i,s);if(o.liveCollection===void 0){let c=$D(r,s);o.liveCollection=new GD(a,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if(A$(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Gs(),u=l.length===0;if(hs(i,c,u)){let d=n+2,h=Qy(i,d);if(u){let f=$D(r,d),p=YN(h,f,i),m=jf(i,f,void 0,{dehydratedView:p});Vf(h,m,0,td(f,p))}else r.firstUpdatePass&&vG(h),$N(h,0)}}}finally{He(t)}}function Qy(e,t){return e[t]}function _$(e,t){return Nf(e,t)}function k$(e,t){return GN(e,t)}function $D(e,t){return Mf(e,t)}function Nt(e,t,n){let i=qe(),r=Gs();if(hs(i,r,t)){let o=Mn(),s=wf();AN(s,i,e,t,i[Wt],n)}return Nt}function WD(e,t,n,i,r){uI(t,e,n,r?"class":"style",i)}function B(e,t,n,i){let r=qe(),o=r[Ne],s=e+Rn,a=o.firstCreatePass?XN(s,r,2,t,kN,UM(),n,i):o.data[s];if(NN(a,r,e,t,v1),Sf(a)){let l=r[Ne];cI(l,r,a),cN(l,a,r)}return i!=null&&sv(r,a),B}function U(){let e=Mn(),t=mi(),n=ON(t);return e.firstCreatePass&&JN(e,n),$M(n)&&WM(),HM(),n.classesWithoutHost!=null&&R4(n)&&WD(e,n,qe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&P4(n)&&WD(e,n,qe(),n.stylesWithoutHost,!1),U}function ce(e,t,n,i){return B(e,t,n,i),U(),ce}function z(e,t,n,i){let r=qe(),o=r[Ne],s=e+Rn,a=o.firstCreatePass?NG(s,o,2,t,n,i):o.data[s];return NN(a,r,e,t,v1),i!=null&&sv(r,a),z}function G(){let e=mi(),t=ON(e);return $M(t)&&WM(),HM(),G}function pt(e,t,n,i){return z(e,t,n,i),G(),pt}var v1=(e,t,n,i,r)=>(wy(!0),mN(t[Wt],i,ik()));function wI(){return qe()}function Ao(e,t,n){let i=qe(),r=Gs();if(hs(i,r,t)){let o=Mn(),s=wf();_N(s,i,e,t,i[Wt],n)}return Ao}var Hf="en-US";var N$=Hf;function b1(e){typeof e=="string"&&(N$=e.toLowerCase().replace(/_/g,"-"))}function lr(e,t,n){let i=qe(),r=Mn(),o=mi();return x1(r,i,i[Wt],o,e,t,n),lr}function Ai(e,t,n){let i=qe(),r=Mn(),o=mi();return(o.type&3||n)&&e1(o,r,i,n,i[Wt],e,t,Oy(o,i,t)),Ai}function x1(e,t,n,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=Oy(i,t,o),e1(i,e,t,s,n,r,o,l)&&(a=!1)),a){let c=i.outputs?.[r],u=i.hostDirectiveOutputs?.[r];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];l??=Oy(i,t,o),Mk(i,t,h,f,r,l)}if(c&&c.length)for(let d of c)l??=Oy(i,t,o),Mk(i,t,d,r,r,l)}}function fs(e=1){return nk(e)}function O$(e,t){let n=null,i=fU(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?gN(e,o,!0):mU(i,o))return r}return n}function hv(e){let t=qe()[Yi][Wi];if(!t.projection){let n=e?e.length:1,i=t.projection=T_(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?O$(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function ad(e,t=0,n,i,r,o){let s=qe(),a=Mn(),l=i?e+1:null;l!==null&&Lf(s,a,l,i,r,o,null,n);let c=sd(a,Rn+e,16,null,n||null);c.projection===null&&(c.projection=t),qM();let d=!s[tc]||GM();s[Yi][Wi].projection[c.projection]===null&&l!==null?L$(s,a,l):d&&!tv(c)&&PU(a,s,c)}function L$(e,t,n){let i=Rn+n,r=t.data[i],o=e[i],s=zy(o,r.tView.ssrId),a=jf(e,r,void 0,{dehydratedView:s});Vf(o,a,0,td(r,s))}function fv(e,t,n){t$(e,t,n)}function pv(e){let t=qe(),n=Mn(),i=eD();Sy(i+1);let r=gI(n,i);if(e.dirty&&B_(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=r$(t,i);e.reset(o,q4),e.notifyOnChanges()}return!0}return!1}function gv(){return JG(qe(),eD())}function Ty(e,t){return e<<17|t<<2}function dc(e){return e>>17&32767}function R$(e){return(e&2)==2}function P$(e,t){return e&131071|t<<17}function YD(e){return e|2}function nd(e){return(e&131068)>>2}function mD(e,t){return e&-131069|t<<2}function F$(e){return(e&1)===1}function ZD(e){return e|1}function j$(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=dc(s),l=nd(s);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Gu(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=dc(e[a+1]);e[i+1]=Ty(h,a),h!==0&&(e[h+1]=mD(e[h+1],i)),e[a+1]=P$(e[a+1],i)}else e[i+1]=Ty(a,0),a!==0&&(e[a+1]=mD(e[a+1],i)),a=i;else e[i+1]=Ty(l,0),a===0?a=i:e[l+1]=mD(e[l+1],i),l=i;c&&(e[i+1]=YD(e[i+1])),Nk(e,u,i,!0),Nk(e,u,i,!1),V$(t,u,e,i,o),s=Ty(a,l),o?t.classBindings=s:t.styleBindings=s}function V$(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Gu(o,t)>=0&&(n[i+1]=ZD(n[i+1]))}function Nk(e,t,n,i){let r=e[n+1],o=t===null,s=i?dc(r):nd(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];B$(l,t)&&(a=!0,e[s+1]=i?ZD(c):YD(c)),s=i?dc(c):nd(c)}a&&(e[n+1]=i?YD(r):ZD(r))}function B$(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Gu(e,t)>=0:!1}var Eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function z$(e){return e.substring(Eo.key,Eo.keyEnd)}function H$(e){return U$(e),S1(e,M1(e,0,Eo.textEnd))}function S1(e,t){let n=Eo.textEnd;return n===t?-1:(t=Eo.keyEnd=G$(e,Eo.key=t,n),M1(e,t,n))}function U$(e){Eo.key=0,Eo.keyEnd=0,Eo.value=0,Eo.valueEnd=0,Eo.textEnd=e.length}function M1(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function G$(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function _o(e,t){return W$(e,t,null,!0),_o}function CI(e){Y$(J$,$$,e,!0)}function $$(e,t){for(let n=H$(t);n>=0;n=S1(t,n))fy(e,z$(t),!0)}function W$(e,t,n,i){let r=qe(),o=Mn(),s=JM(2);if(o.firstUpdatePass&&I1(o,e,s,i),t!==Qr&&hs(r,s,t)){let a=o.data[$s()];w1(o,a,r,r[Wt],e,r[s+1]=t3(t,n),i,s)}}function Y$(e,t,n,i){let r=Mn(),o=JM(2);r.firstUpdatePass&&I1(r,null,o,i);let s=qe();if(n!==Qr&&hs(s,o,n)){let a=r.data[$s()];if(C1(a,i)&&!D1(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=cy(l,n||"")),WD(r,a,s,n,i)}else e3(r,a,s,s[Wt],s[o+1],s[o+1]=X$(e,t,n),i,o)}}function D1(e,t){return t>=e.expandoStartIndex}function I1(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[$s()],s=D1(e,n);C1(o,i)&&t===null&&!s&&(t=!1),t=Z$(r,o,t,i),j$(r,o,t,n,s,i)}}function Z$(e,t,n,i){let r=X_(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=yD(null,e,t,n,i),n=Rf(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=yD(r,e,t,n,i),o===null){let l=q$(e,t,i);l!==void 0&&Array.isArray(l)&&(l=yD(null,e,t,l[1],i),l=Rf(l,t.attrs,i),K$(e,t,i,l))}else o=Q$(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function q$(e,t,n){let i=n?t.classBindings:t.styleBindings;if(nd(i)!==0)return e[dc(i)]}function K$(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[dc(r)]=i}function Q$(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Rf(i,s,n)}return Rf(i,t.attrs,n)}function yD(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=Rf(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function Rf(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),fy(e,s,n?!0:t[++o]))}return e===void 0?null:e}function X$(e,t,n){if(n==null||n==="")return Gi;let i=[],r=nv(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function J$(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&fy(e,i,n)}function e3(e,t,n,i,r,o,s,a){r===Qr&&(r=Gi);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&w1(e,t,n,i,p,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function w1(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=F$(c)?Ok(l,t,n,r,nd(c),s):void 0;if(!Xy(u)){Xy(o)||R$(c)&&(o=Ok(l,null,n,r,a,s));let d=PM($s(),n);jU(i,s,d,r,o)}}function Ok(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===Qr&&(h=d?Gi:void 0);let f=d?py(h,i):u===i?h:void 0;if(c&&!Xy(f)&&(f=py(l,i)),Xy(f)&&(a=f,s))return a;let p=e[r+1];r=s?dc(p):nd(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=py(l,i))}return a}function Xy(e){return e!==void 0}function t3(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=zs(nv(e)))),e}function C1(e,t){return(e.flags&(t?8:16))!==0}function L(e,t=""){let n=qe(),i=Mn(),r=e+Rn,o=i.firstCreatePass?sd(i,r,1,t,null):i.data[r],s=n3(i,n,o,t,e);n[r]=s,Iy()&&aI(i,n,s,o),Ku(o,!1)}var n3=(e,t,n,i,r)=>(wy(!0),xU(t[Wt],i));function i3(e,t,n,i=""){return hs(e,Gs(),n)?t+Uu(n)+i:Qr}function Tt(e){return ps("",e),Tt}function ps(e,t,n){let i=qe(),r=i3(i,e,t,n);return r!==Qr&&r3(i,$s(),r),ps}function r3(e,t,n){let i=PM(t,e);SU(e[Wt],i,n)}function Pn(e,t,n){sD(t)&&(t=t());let i=qe(),r=Gs();if(hs(i,r,t)){let o=Mn(),s=wf();AN(s,i,e,t,i[Wt],n)}return Pn}function Qn(e,t){let n=sD(e);return n&&e.set(t),n}function Fn(e,t){let n=qe(),i=Mn(),r=mi();return x1(i,n,n[Wt],r,e,t),Fn}function Nr(e){return hs(qe(),Gs(),e)?Uu(e):Qr}function o3(e,t,n){let i=Mn();if(i.firstCreatePass){let r=ls(e);qD(n,i.data,i.blueprint,r,!0),qD(t,i.data,i.blueprint,r,!1)}}function qD(e,t,n,i,r){if(e=gi(e),Array.isArray(e))for(let o=0;o<e.length;o++)qD(e[o],t,n,i,r);else{let o=Mn(),s=qe(),a=mi(),l=Ql(e)?e:gi(e.provide),c=kM(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ql(e)||!e.multi){let f=new cc(c,r,ue,null),p=bD(l,t,r?u:u+h,d);p===-1?(SD(Fy(a,s),o,l),vD(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=bD(l,t,u+h,d),p=bD(l,t,u,u+h),m=f>=0&&n[f],b=p>=0&&n[p];if(r&&!b||!r&&!m){SD(Fy(a,s),o,l);let v=l3(r?a3:s3,n.length,r,i,c,e);!r&&b&&(n[p].providerFactory=v),vD(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else{let v=E1(n[r?p:f],c,!r&&i);vD(o,e,f>-1?f:p,v)}!r&&i&&b&&n[p].componentProviders++}}}function vD(e,t,n,i){let r=Ql(t),o=R_(t);if(r||o){let l=(o?gi(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function E1(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function bD(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function s3(e,t,n,i,r){return KD(this.multi,[])}function a3(e,t,n,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=_f(i,i[Ne],this.providerFactory.index,r);s=l.slice(0,a),KD(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],KD(o,s);return s}function KD(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function l3(e,t,n,i,r,o){let s=new cc(e,n,ue,null);return s.multi=[],s.index=t,s.componentProviders=0,E1(s,r,i&&!n),s}function Qa(e,t=[]){return n=>{n.providersResolver=(i,r)=>o3(i,r?r(e):e,t)}}var Jy=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},EI=(()=>{class e{compileModuleSync(n){return new Wy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=EM(n),o=fN(r.declarations).reduce((s,a)=>{let l=Us(a);return l&&s.push(new uc(l)),s},[]);return new Jy(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var c3=(()=>{class e{zone=O(tt);changeDetectionScheduler=O(Ua);applicationRef=O(Ar);applicationErrorHandler=O(Kr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),T1=new ae("",{factory:()=>!1});function TI({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new tt(I(g({},_I()),{scheduleInRootZone:n})),[{provide:tt,useFactory:e},{provide:Hs,multi:!0,useFactory:()=>{let i=O(c3,{optional:!0});return()=>i.initialize()}},{provide:Hs,multi:!0,useFactory:()=>{let i=O(u3);return()=>{i.initialize()}}},t===!0?{provide:aD,useValue:!0}:[],{provide:lD,useValue:n??c1},{provide:Kr,useFactory:()=>{let i=O(tt),r=O(un),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Mo),o.handleError(s))})}}}]}function AI(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,i=TI({ngZoneFactory:()=>{let r=_I(e);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Js("NgZone_CoalesceEvent"),new tt(r)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return ec([{provide:T1,useValue:!0},{provide:Cf,useValue:!1},i])}function _I(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var u3=(()=>{class e{subscription=new sn;initialized=!1;zone=O(tt);pendingTasks=O(Ws);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var A1=(()=>{class e{applicationErrorHandler=O(Kr);appRef=O(Ar);taskService=O(Ws);ngZone=O(tt);zonelessEnabled=O(Cf);tracing=O(hc,{optional:!0});disableScheduling=O(aD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new sn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Yy):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(lD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zy||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Ek:u1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Yy+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(n),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ek(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function d3(){return typeof $localize<"u"&&$localize.locale||Hf}var kI=new ae("",{providedIn:"root",factory:()=>O(kI,{optional:!0,skipSelf:!0})||d3()});function qi(e){return v_(e)}function Uf(e,t){return _m(e,t?.equal)}var _1=class{[Ti];constructor(t){this[Ti]=t}destroy(){this[Ti].destroy()}};var N1=Symbol("InputSignalNode#UNSET"),x3=I(g({},km),{transformFn:void 0,applyValueToInputSignal(e,t){Au(e,t)}});function O1(e,t){let n=Object.create(x3);n.value=e,n.transformFn=t?.transform;function i(){if(Cu(n),n.value===N1){let r=null;throw new De(-950,r)}return n.value}return i[Ti]=n,i}var S3=new ae("");S3.__NG_ELEMENT_ID__=e=>{let t=mi();if(t===null)throw new De(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new De(204,!1)};function k1(e,t){return O1(e,t)}function M3(e){return O1(N1,e)}var L1=(k1.required=M3,k1);var NI=new ae(""),D3=new ae("");function Gf(e){return!e.moduleRef}function I3(e){let t=Gf(e)?e.r3Injector:e.moduleRef.injector,n=t.get(tt);return n.run(()=>{Gf(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(Kr),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:i})}),Gf(e)){let o=()=>t.destroy(),s=e.platformInjector.get(NI);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(NI);s.add(o),e.moduleRef.onDestroy(()=>{Af(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return C3(i,n,()=>{let o=t.get(Ws),s=o.add(),a=t.get(SI);return a.runInitializers(),a.donePromise.then(()=>{let l=t.get(kI,Hf);if(b1(l||Hf),!t.get(D3,!0))return Gf(e)?t.get(Ar):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Gf(e)){let u=t.get(Ar);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return w3?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var w3;function C3(e,t,n){try{let i=n();return fc(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e(i)),i}}var mv=null;function E3(e=[],t){return Qt.create({name:t,providers:[{provide:yf,useValue:"platform"},{provide:NI,useValue:new Set([()=>mv=null])},...e]})}function T3(e=[]){if(mv)return mv;let t=E3(e);return mv=t,m1(),A3(t),t}function A3(e){let t=e.get(ev,null);$i(e,()=>{t?.forEach(n=>n())})}var gc=(()=>{class e{static __NG_ELEMENT_ID__=_3}return e})();function _3(e){return k3(mi(),qe(),(e&16)===16)}function k3(e,t,n){if(Ya(e)&&!n){let i=Zr(e.index,t);return new qa(i,i)}else if(e.type&175){let i=t[Yi];return new qa(i,t)}return null}function R1(e){Bt(8);try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=T3(i),o=[TI({}),{provide:Ua,useExisting:A1},ok,...n||[]],s=new Of({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return I3({r3Injector:s.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Bt(9)}}function gs(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function P1(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function yv(e,t){let n=Us(e),i=t.elementInjector||$u();return new uc(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}var V1=null;function Jr(){return V1}function OI(e){V1??=e}var $f=class{},LI=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:()=>O(B1),providedIn:"platform"})}return e})();var B1=(()=>{class e extends LI{_location;_history;_doc=O(bt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jr().getBaseHref(this._doc)}onPopState(n){let i=Jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function z1(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function F1(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Xa(e){return e&&e[0]!=="?"?`?${e}`:e}var vv=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:()=>O(U1),providedIn:"root"})}return e})(),H1=new ae(""),U1=(()=>{class e extends vv{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return z1(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Xa(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Xa(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Xa(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(Ue(LI),Ue(H1,8))};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ja=(()=>{class e{_subject=new ct;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=L3(F1(j1(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Xa(i))}normalize(n){return e.stripTrailingSlash(O3(this._basePath,j1(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xa(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xa(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Xa;static joinWithSlash=z1;static stripTrailingSlash=F1;static \u0275fac=function(i){return new(i||e)(Ue(vv))};static \u0275prov=q({token:e,factory:()=>N3(),providedIn:"root"})}return e})();function N3(){return new Ja(Ue(vv))}function O3(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function j1(e){return e.replace(/\/index.html$/,"")}function L3(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function RI(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Wf=class{};var PI="browser";function G1(e){return e===PI}var xv=new ae(""),zI=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new De(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(Ue(xv),Ue(tt))};static \u0275prov=q({token:e,factory:e.\u0275fac})}return e})(),Yf=class{_doc;constructor(t){this._doc=t}manager},FI="ng-app-id";function $1(e){for(let t of e)t.remove()}function W1(e,t){let n=t.createElement("style");return n.textContent=e,n}function R3(e,t,n,i){let r=e.head?.querySelectorAll(`style[${FI}="${t}"],link[${FI}="${t}"]`);if(r)for(let o of r)o.removeAttribute(FI),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function VI(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var HI=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,R3(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,W1);i?.forEach(r=>this.addUsage(r,this.external,VI))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&($1(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])$1(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,W1(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,VI(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(Ue(bt),Ue(rd),Ue(od,8),Ue(Ka))};static \u0275prov=q({token:e,factory:e.\u0275fac})}return e})(),jI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},UI=/%COMP%/g;var Z1="%COMP%",P3=`_nghost-${Z1}`,F3=`_ngcontent-${Z1}`,j3=!0,V3=new ae("",{providedIn:"root",factory:()=>j3});function B3(e){return F3.replace(UI,e)}function z3(e){return P3.replace(UI,e)}function q1(e,t){return t.map(n=>n.replace(UI,e))}var GI=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,i,r,o,s,a,l,c=null,u,d,h=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=u,this.maxAnimationTimeout=d,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Zf(n,s,l,this.platformIsServer,this.tracingService,this.registry=Cy(),this.maxAnimationTimeout)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,i);return r instanceof bv?r.applyToHost(n):r instanceof qf&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case Ys.Emulated:o=new bv(l,c,i,this.appId,u,s,a,d,h,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Ys.ShadowDom:return new BI(l,c,n,i,s,a,this.nonce,d,h,this.registry,this.maxAnimationTimeout);default:o=new qf(l,c,i,u,s,a,d,h,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(Ue(zI),Ue(HI),Ue(rd),Ue(V3),Ue(bt),Ue(Ka),Ue(tt),Ue(od),Ue(MI),Ue(DI),Ue(hc,8))};static \u0275prov=q({token:e,factory:e.\u0275fac})}return e})(),Zf=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o,s,a){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(jI[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Y1(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(Y1(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){let{elements:i}=this.registry;if(i){i.animate(n,()=>n.remove(),this.maxAnimationTimeout);return}n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new De(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=jI[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=jI[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Zs.DashCase|Zs.Important)?t.style.setProperty(n,i,r&Zs.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Zs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=Jr().getGlobalEventTarget(this.doc,t),!t))throw new De(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Y1(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var BI=class extends Zf{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,o,s,a,l,c,u,d){super(t,o,s,l,c,u,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=q1(r.id,h);for(let p of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}let f=r.getExternalStyles?.();if(f)for(let p of f){let m=VI(p,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qf=class extends Zf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,n,i,r,o,s,a,l,c,u,d,h){super(t,o,s,a,l,c,d),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this._animationDisabled=u;let f=i.styles;this.styles=h?q1(h,f):f,this.styleUrls=i.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},bv=class extends qf{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,l,c,u,d,h){let f=r+"-"+i.id;super(t,n,i,o,s,a,l,c,u,d,h,f),this.contentAttr=B3(f),this.hostAttr=z3(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var Sv=class e extends $f{supportsDOMEvents=!0;static makeCurrent(){OI(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=H3();return n==null?null:U3(n)}resetBaseElement(){Kf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return RI(document.cookie,t)}},Kf=null;function H3(){return Kf=Kf||document.head.querySelector("base"),Kf?Kf.getAttribute("href"):null}function U3(e){return new URL(e,document.baseURI).pathname}var G3=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac})}return e})(),Q1=(()=>{class e extends Yf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(Ue(bt))};static \u0275prov=q({token:e,factory:e.\u0275fac})}return e})(),K1=["alt","control","meta","shift"],$3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W3={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},X1=(()=>{class e extends Yf{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),K1.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=$3[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),K1.forEach(s=>{if(s!==r){let a=W3[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(Ue(bt))};static \u0275prov=q({token:e,factory:e.\u0275fac})}return e})();function $I(e,t){let n=g({rootComponent:e},Y3(t));return R1(n)}function Y3(e){return{appProviders:[...X3,...e?.providers??[]],platformProviders:Q3}}function Z3(){Sv.makeCurrent()}function q3(){return new Mo}function K3(){return JD(document),document}var Q3=[{provide:Ka,useValue:PI},{provide:ev,useValue:Z3,multi:!0},{provide:bt,useFactory:K3}];var X3=[{provide:yf,useValue:"root"},{provide:Mo,useFactory:q3},{provide:xv,useClass:Q1,multi:!0,deps:[bt]},{provide:xv,useClass:X1,multi:!0,deps:[bt]},GI,HI,zI,{provide:Zi,useExisting:GI},{provide:Wf,useClass:G3},[]];var J1=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||e)(Ue(bt))};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xe="primary",dp=Symbol("RouteTitle"),KI=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vc(e){return new KI(e)}function aO(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function eW(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ms(e[n],t[n]))return!1;return!0}function ms(e,t){let n=e?QI(e):void 0,i=t?QI(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!lO(e[r],t[r]))return!1;return!0}function QI(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function lO(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function cO(e){return e.length>0?e[e.length-1]:null}function na(e){return KS(e)?e:fc(e)?Sn(Promise.resolve(e)):Re(e)}var tW={exact:dO,subset:hO},uO={exact:nW,subset:iW,ignored:()=>!0};function eO(e,t,n){return tW[n.paths](e.root,t.root,n.matrixParams)&&uO[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function nW(e,t){return ms(e,t)}function dO(e,t,n){if(!mc(e.segments,t.segments)||!Iv(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!dO(e.children[i],t.children[i],n))return!1;return!0}function iW(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>lO(e[n],t[n]))}function hO(e,t,n){return fO(e,t,t.segments,n)}function fO(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!mc(r,n)||t.hasChildren()||!Iv(r,n,i))}else if(e.segments.length===n.length){if(!mc(e.segments,n)||!Iv(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!hO(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!mc(e.segments,r)||!Iv(e.segments,r,i)||!e.children[Xe]?!1:fO(e.children[Xe],t,o,i)}}function Iv(e,t,n){return t.every((i,r)=>uO[n](e[r].parameters,i.parameters))}var vs=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Ot([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=vc(this.queryParams),this._queryParamMap}toString(){return sW.serialize(this)}},Ot=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wv(this)}},el=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=vc(this.parameters),this._parameterMap}toString(){return gO(this)}};function rW(e,t){return mc(e,t)&&e.every((n,i)=>ms(n.parameters,t[i].parameters))}function mc(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function oW(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===Xe&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Xe&&(n=n.concat(t(r,i)))}),n}var hp=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:()=>new bc,providedIn:"root"})}return e})(),bc=class{parse(t){let n=new JI(t);return new vs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Qf(t.root,!0)}`,i=cW(t.queryParams),r=typeof t.fragment=="string"?`#${aW(t.fragment)}`:"";return`${n}${i}${r}`}},sW=new bc;function wv(e){return e.segments.map(t=>gO(t)).join("/")}function Qf(e,t){if(!e.hasChildren())return wv(e);if(t){let n=e.children[Xe]?Qf(e.children[Xe],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==Xe&&i.push(`${r}:${Qf(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=oW(e,(i,r)=>r===Xe?[Qf(e.children[Xe],!1)]:[`${r}:${Qf(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[Xe]!=null?`${wv(e)}/${n[0]}`:`${wv(e)}/(${n.join("//")})`}}function pO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mv(e){return pO(e).replace(/%3B/gi,";")}function aW(e){return encodeURI(e)}function XI(e){return pO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cv(e){return decodeURIComponent(e)}function tO(e){return Cv(e.replace(/\+/g,"%20"))}function gO(e){return`${XI(e.path)}${lW(e.parameters)}`}function lW(e){return Object.entries(e).map(([t,n])=>`;${XI(t)}=${XI(n)}`).join("")}function cW(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Mv(n)}=${Mv(r)}`).join("&"):`${Mv(n)}=${Mv(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var uW=/^[^\/()?;#]+/;function WI(e){let t=e.match(uW);return t?t[0]:""}var dW=/^[^\/()?;=#]+/;function hW(e){let t=e.match(dW);return t?t[0]:""}var fW=/^[^=?&#]+/;function pW(e){let t=e.match(fW);return t?t[0]:""}var gW=/^[^&#]+/;function mW(e){let t=e.match(gW);return t?t[0]:""}var JI=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Xe]=new Ot(t,n)),i}parseSegment(){let t=WI(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new De(4009,!1);return this.capture(t),new el(Cv(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=hW(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=WI(this.remaining);r&&(i=r,this.capture(i))}t[Cv(n)]=Cv(i)}parseQueryParam(t){let n=pW(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=mW(this.remaining);s&&(i=s,this.capture(i))}let r=tO(n),o=tO(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=WI(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new De(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Xe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Xe]:new Ot([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new De(4011,!1)}};function mO(e){return e.segments.length>0?new Ot([],{[Xe]:e}):e}function yO(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=yO(r);if(i===Xe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new Ot(e.segments,t);return yW(n)}function yW(e){if(e.numberOfChildren===1&&e.children[Xe]){let t=e.children[Xe];return new Ot(e.segments.concat(t.segments),t.children)}return e}function hd(e){return e instanceof vs}function vO(e,t,n=null,i=null){let r=bO(e);return xO(r,t,n,i)}function bO(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new Ot(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=mO(i);return t??r}function xO(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return YI(r,r,r,n,i);let o=vW(t);if(o.toRoot())return YI(r,r,new Ot([],{}),n,i);let s=bW(o,r,e),a=s.processChildren?Jf(s.segmentGroup,s.index,o.commands):MO(s.segmentGroup,s.index,o.commands);return YI(r,s.segmentGroup,a,n,i)}function Ev(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function np(e){return typeof e=="object"&&e!=null&&e.outlets}function YI(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=SO(e,t,n);let a=mO(yO(s));return new vs(a,o,r)}function SO(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=SO(o,t,n)}),new Ot(e.segments,i)}var Tv=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Ev(i[0]))throw new De(4003,!1);let r=i.find(np);if(r&&r!==cO(i))throw new De(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vW(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Tv(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Tv(n,t,i)}var ud=class{segmentGroup;processChildren;index;constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function bW(e,t,n){if(e.isAbsolute)return new ud(t,!0,0);if(!n)return new ud(t,!1,NaN);if(n.parent===null)return new ud(n,!0,0);let i=Ev(e.commands[0])?0:1,r=n.segments.length-1+i;return xW(n,r,e.numberOfDoubleDots)}function xW(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new De(4005,!1);r=i.segments.length}return new ud(i,!1,r-o)}function SW(e){return np(e[0])?e[0].outlets:{[Xe]:e}}function MO(e,t,n){if(e??=new Ot([],{}),e.segments.length===0&&e.hasChildren())return Jf(e,t,n);let i=MW(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new Ot(e.segments.slice(0,i.pathIndex),{});return o.children[Xe]=new Ot(e.segments.slice(i.pathIndex),e.children),Jf(o,0,r)}else return i.match&&r.length===0?new Ot(e.segments,{}):i.match&&!e.hasChildren()?ew(e,t,n):i.match?Jf(e,0,r):ew(e,t,n)}function Jf(e,t,n){if(n.length===0)return new Ot(e.segments,{});{let i=SW(n),r={};if(Object.keys(i).some(o=>o!==Xe)&&e.children[Xe]&&e.numberOfChildren===1&&e.children[Xe].segments.length===0){let o=Jf(e.children[Xe],t,n);return new Ot(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=MO(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ot(e.segments,r)}}function MW(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(np(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!iO(l,c,s))return o;i+=2}else{if(!iO(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function ew(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(np(o)){let l=DW(o.outlets);return new Ot(i,l)}if(r===0&&Ev(n[0])){let l=e.segments[t];i.push(new el(l.path,nO(n[0]))),r++;continue}let s=np(o)?o.outlets[Xe]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Ev(a)?(i.push(new el(s,nO(a))),r+=2):(i.push(new el(s,{})),r++)}return new Ot(i,{})}function DW(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=ew(new Ot([],{}),0,i))}),t}function nO(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function iO(e,t,n){return e==n.path&&ms(t,n.parameters)}var ep="imperative",li=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(li||{}),Lr=class{id;url;constructor(t,n){this.id=t,this.url=n}},xc=class extends Lr{type=li.NavigationStart;navigationTrigger;restoredState;constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ea=class extends Lr{urlAfterRedirects;type=li.NavigationEnd;constructor(t,n,i){super(t,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ki=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Ki||{}),ip=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(ip||{}),ys=class extends Lr{reason;code;type=li.NavigationCancel;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ta=class extends Lr{reason;code;type=li.NavigationSkipped;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}},fd=class extends Lr{error;target;type=li.NavigationError;constructor(t,n,i,r){super(t,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rp=class extends Lr{urlAfterRedirects;state;type=li.RoutesRecognized;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Av=class extends Lr{urlAfterRedirects;state;type=li.GuardsCheckStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_v=class extends Lr{urlAfterRedirects;state;shouldActivate;type=li.GuardsCheckEnd;constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kv=class extends Lr{urlAfterRedirects;state;type=li.ResolveStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nv=class extends Lr{urlAfterRedirects;state;type=li.ResolveEnd;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ov=class{route;type=li.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lv=class{route;type=li.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rv=class{snapshot;type=li.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pv=class{snapshot;type=li.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fv=class{snapshot;type=li.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jv=class{snapshot;type=li.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var op=class{},pd=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function IW(e){return!(e instanceof op)&&!(e instanceof pd)}function wW(e,t){return e.providers&&!e._injector&&(e._injector=zf(e.providers,t,`Route: ${e.path}`)),e._injector??t}function ko(e){return e.outlet||Xe}function CW(e,t){let n=e.filter(i=>ko(i)===t);return n.push(...e.filter(i=>ko(i)!==t)),n}function yd(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Vv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yd(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new vd(this.rootInjector)}},vd=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Vv(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||e)(Ue(un))};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bv=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=tw(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=tw(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=nw(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return nw(t,this._root).map(n=>n.value)}};function tw(e,t){if(e===t.value)return t;for(let n of t.children){let i=tw(e,n);if(i)return i}return null}function nw(e,t){if(e===t.value)return[t];for(let n of t.children){let i=nw(e,n);if(i.length)return i.unshift(t),i}return[]}var Or=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function cd(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var sp=class extends Bv{snapshot;constructor(t,n){super(t),this.snapshot=n,uw(this,t)}toString(){return this.snapshot.toString()}};function DO(e){let t=EW(e),n=new Yn([new el("",{})]),i=new Yn({}),r=new Yn({}),o=new Yn({}),s=new Yn(""),a=new tl(n,i,o,s,r,Xe,e,t.root);return a.snapshot=t.root,new sp(new Or(a,[]),t)}function EW(e){let t={},n={},i={},o=new yc([],t,i,"",n,Xe,e,null,{});return new ap("",new Or(o,[]))}var tl=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(it(c=>c[dp]))??Re(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(it(t=>vc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(it(t=>vc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zv(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:g(g({},t.params),e.params),data:g(g({},t.data),e.data),resolve:g(g(g(g({},e.data),t.data),r?.data),e._resolvedData)}:i={params:g({},e.params),data:g({},e.data),resolve:g(g({},e.data),e._resolvedData??{})},r&&wO(r)&&(i.resolve[dp]=r.title),i}var yc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[dp]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vc(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ap=class extends Bv{url;constructor(t,n){super(n),this.url=t,uw(this,n)}toString(){return IO(this._root)}};function uw(e,t){t.value._routerState=e,t.children.forEach(n=>uw(e,n))}function IO(e){let t=e.children.length>0?` { ${e.children.map(IO).join(", ")} } `:"";return`${e.value}${t}`}function ZI(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ms(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ms(t.params,n.params)||e.paramsSubject.next(n.params),eW(t.url,n.url)||e.urlSubject.next(n.url),ms(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function iw(e,t){let n=ms(e.params,t.params)&&rW(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||iw(e.parent,t.parent))}function wO(e){return typeof e.title=="string"||e.title===null}var CO=new ae(""),fp=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Xe;activateEvents=new Yt;deactivateEvents=new Yt;attachEvents=new Yt;detachEvents=new Yt;routerOutletData=L1(void 0);parentContexts=O(vd);location=O(Xs);changeDetector=O(gc);inputBinder=O($v,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new De(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new De(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new De(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new De(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new rw(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Xt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qs]})}return e})(),rw=class{route;childContexts;parent;outletData;constructor(t,n,i,r){this.route=t,this.childContexts=n,this.parent=i,this.outletData=r}get(t,n){return t===tl?this.route:t===vd?this.childContexts:t===CO?this.outletData:this.parent.get(t,n)}},$v=new ae("");var dw=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ne({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&ce(0,"router-outlet")},dependencies:[fp],encapsulation:2})}return e})();function hw(e){let t=e.children&&e.children.map(hw),n=t?I(g({},e),{children:t}):g({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=dw),n}function TW(e,t,n){let i=lp(e,t._root,n?n._root:void 0);return new sp(i,t)}function lp(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=AW(e,t,n);return new Or(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>lp(e,a)),s}}let i=_W(t.value),r=t.children.map(o=>lp(e,o));return new Or(i,r)}}function AW(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return lp(e,i,r);return lp(e,i)})}function _W(e){return new tl(new Yn(e.url),new Yn(e.params),new Yn(e.queryParams),new Yn(e.fragment),new Yn(e.data),e.outlet,e.component,e)}var gd=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},EO="ngNavigationCancelingError";function Hv(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=hd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=TO(!1,Ki.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function TO(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[EO]=!0,n.cancellationCode=t,n}function kW(e){return AO(e)&&hd(e.url)}function AO(e){return!!e&&e[EO]}var NW=(e,t,n,i)=>it(r=>(new ow(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),ow=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),ZI(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=cd(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=cd(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=cd(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=cd(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new jv(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Pv(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(ZI(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ZI(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Uv=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},dd=class{component;route;constructor(t,n){this.component=t,this.route=n}};function OW(e,t,n){let i=e._root,r=t?t._root:null;return Xf(i,r,n,[i.value])}function LW(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function bd(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!gM(e)?e:t.get(e):i}function Xf(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=cd(t);return e.children.forEach(s=>{RW(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tp(a,n.getContext(s),r)),r}function RW(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=PW(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Uv(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xf(e,t,a?a.children:null,i,r):Xf(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new dd(a.outlet.component,s))}else s&&tp(t,a,r),r.canActivateChecks.push(new Uv(i)),o.component?Xf(e,null,a?a.children:null,i,r):Xf(e,null,n,i,r);return r}function PW(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!mc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!mc(e.url,t.url)||!ms(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iw(e,t)||!ms(e.queryParams,t.queryParams);case"paramsChange":default:return!iw(e,t)}}function tp(e,t,n){let i=cd(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?tp(s,t.children.getContext(o),n):tp(s,null,n):tp(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new dd(t.outlet.component,r)):n.canDeactivateChecks.push(new dd(null,r)):n.canDeactivateChecks.push(new dd(null,r))}function pp(e){return typeof e=="function"}function FW(e){return typeof e=="boolean"}function jW(e){return e&&pp(e.canLoad)}function VW(e){return e&&pp(e.canActivate)}function BW(e){return e&&pp(e.canActivateChild)}function zW(e){return e&&pp(e.canDeactivate)}function HW(e){return e&&pp(e.canMatch)}function _O(e){return e instanceof js||e?.name==="EmptyError"}var Dv=Symbol("INITIAL_VALUE");function md(){return ar(e=>Vu(e.map(t=>t.pipe(So(1),uf(Dv)))).pipe(it(t=>{for(let n of t)if(n!==!0){if(n===Dv)return Dv;if(n===!1||UW(n))return n}return!0}),sr(t=>t!==Dv),So(1)))}function UW(e){return hd(e)||e instanceof gd}function GW(e,t){return Zn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Re(I(g({},n),{guardsResult:!0})):$W(s,i,r,e).pipe(Zn(a=>a&&FW(a)?WW(i,o,e,t):Re(a)),it(a=>I(g({},n),{guardsResult:a})))})}function $W(e,t,n,i){return Sn(e).pipe(Zn(r=>QW(r.component,r.route,n,t,i)),Vs(r=>r!==!0,!0))}function WW(e,t,n,i){return Sn(t).pipe(Bu(r=>Va(ZW(r.route.parent,i),YW(r.route,i),KW(e,r.path,n),qW(e,r.route,n))),Vs(r=>r!==!0,!0))}function YW(e,t){return e!==null&&t&&t(new Fv(e)),Re(!0)}function ZW(e,t){return e!==null&&t&&t(new Rv(e)),Re(!0)}function qW(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Re(!0);let r=i.map(o=>af(()=>{let s=yd(t)??n,a=bd(o,s),l=VW(a)?a.canActivate(t,e):$i(s,()=>a(t,e));return na(l).pipe(Vs())}));return Re(r).pipe(md())}function KW(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>LW(s)).filter(s=>s!==null).map(s=>af(()=>{let a=s.guards.map(l=>{let c=yd(s.node)??n,u=bd(l,c),d=BW(u)?u.canActivateChild(i,e):$i(c,()=>u(i,e));return na(d).pipe(Vs())});return Re(a).pipe(md())}));return Re(o).pipe(md())}function QW(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Re(!0);let s=o.map(a=>{let l=yd(t)??r,c=bd(a,l),u=zW(c)?c.canDeactivate(e,t,n,i):$i(l,()=>c(e,t,n,i));return na(u).pipe(Vs())});return Re(s).pipe(md())}function XW(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return Re(!0);let o=r.map(s=>{let a=bd(s,e),l=jW(a)?a.canLoad(t,n):$i(e,()=>a(t,n));return na(l)});return Re(o).pipe(md(),kO(i))}function kO(e){return $S(si(t=>{if(typeof t!="boolean")throw Hv(e,t)}),it(t=>t===!0))}function JW(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return Re(!0);let o=r.map(s=>{let a=bd(s,e),l=HW(a)?a.canMatch(t,n):$i(e,()=>a(t,n));return na(l)});return Re(o).pipe(md(),kO(i))}var cp=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},up=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ld(e){return ju(new cp(e))}function e5(e){return ju(new De(4e3,!1))}function t5(e){return ju(TO(!1,Ki.GuardRejected))}var sw=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Re(i);if(r.numberOfChildren>1||!r.children[Xe])return e5(`${t.redirectTo}`);r=r.children[Xe]}}applyRedirectCommands(t,n,i,r,o){return n5(n,r,o).pipe(it(s=>{if(s instanceof vs)throw new up(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,i);if(s[0]==="/")throw new up(a);return a}))}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new vs(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Ot(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new De(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}};function n5(e,t,n){if(typeof e=="string")return Re(e);let i=e,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d}=t;return na($i(n,()=>i({params:c,data:u,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,title:d})))}var aw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function i5(e,t,n,i,r){let o=NO(e,t,n);return o.matched?(i=wW(t,i),JW(i,t,n,r).pipe(it(s=>s===!0?o:g({},aw)))):Re(o)}function NO(e,t,n){if(t.path==="**")return r5(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?g({},aw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||aO)(n,e,t);if(!r)return g({},aw);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?g(g({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function r5(e){return{matched:!0,parameters:e.length>0?cO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function rO(e,t,n,i){return n.length>0&&a5(e,n,i)?{segmentGroup:new Ot(t,s5(i,new Ot(n,e.children))),slicedSegments:[]}:n.length===0&&l5(e,n,i)?{segmentGroup:new Ot(e.segments,o5(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Ot(e.segments,e.children),slicedSegments:n}}function o5(e,t,n,i){let r={};for(let o of n)if(Wv(e,t,o)&&!i[ko(o)]){let s=new Ot([],{});r[ko(o)]=s}return g(g({},i),r)}function s5(e,t){let n={};n[Xe]=t;for(let i of e)if(i.path===""&&ko(i)!==Xe){let r=new Ot([],{});n[ko(i)]=r}return n}function a5(e,t,n){return n.some(i=>Wv(e,t,i)&&ko(i)!==Xe)}function l5(e,t,n){return n.some(i=>Wv(e,t,i))}function Wv(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function c5(e,t,n){return t.length===0&&!e.children[n]}var lw=class{};function u5(e,t,n,i,r,o,s="emptyOnly"){return new cw(e,t,n,i,r,s,o).recognize()}var d5=31,cw=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new sw(this.urlSerializer,this.urlTree)}noMatchError(t){return new De(4002,`'${t.segmentGroup}'`)}recognize(){let t=rO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(it(({children:n,rootSnapshot:i})=>{let r=new Or(i,n),o=new ap("",r),s=vO(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new yc([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Xe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Xe,n).pipe(it(i=>({children:i,rootSnapshot:n})),Ba(i=>{if(i instanceof up)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof cp?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(it(s=>s instanceof Or?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Sn(o).pipe(Bu(s=>{let a=i.children[s],l=CW(n,s);return this.processSegmentGroup(t,l,a,s,r)}),tM((s,a)=>(s.push(...a),s)),za(null),eM(),Zn(s=>{if(s===null)return ld(i);let a=OO(s);return h5(a),Re(a)}))}processSegment(t,n,i,r,o,s,a){return Sn(n).pipe(Bu(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Ba(c=>{if(c instanceof cp)return Re(null);throw c}))),Vs(l=>!!l),Ba(l=>{if(_O(l))return c5(i,r,o)?Re(new lw):ld(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return ko(i)!==s&&(s===Xe||!Wv(r,o,i))?ld(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):ld(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=NO(n,r,o);if(!l)return ld(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>d5&&(this.allowRedirects=!1));let f=new yc(o,c,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,oO(r),ko(r),r.component??r._loadedComponent??null,r,sO(r)),p=zv(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t).pipe(ar(b=>this.applyRedirects.lineralizeSegments(r,b)),Zn(b=>this.processSegment(t,i,n,b.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=i5(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(ar(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ar(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new yc(h,d,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,oO(i),ko(i),i.component??i._loadedComponent??null,i,sO(i)),m=zv(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:b,slicedSegments:v}=rO(n,h,f,c);if(v.length===0&&b.hasChildren())return this.processChildren(u,c,b,p).pipe(it(M=>new Or(p,M)));if(c.length===0&&v.length===0)return Re(new Or(p,[]));let x=ko(i)===o;return this.processSegment(u,c,b,v,x?Xe:o,!0,p).pipe(it(M=>new Or(p,M instanceof Or?[M]:[])))}))):ld(n)))}getChildConfig(t,n,i){return n.children?Re({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Re({routes:n._loadedRoutes,injector:n._loadedInjector}):XW(t,n,i,this.urlSerializer).pipe(Zn(r=>r?this.configLoader.loadChildren(t,n).pipe(si(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):t5(n))):Re({routes:[],injector:t})}};function h5(e){e.sort((t,n)=>t.value.outlet===Xe?-1:n.value.outlet===Xe?1:t.value.outlet.localeCompare(n.value.outlet))}function f5(e){let t=e.value.routeConfig;return t&&t.path===""}function OO(e){let t=[],n=new Set;for(let i of e){if(!f5(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=OO(i.children);t.push(new Or(i.value,r))}return t.filter(i=>!n.has(i))}function oO(e){return e.data||{}}function sO(e){return e.resolve||{}}function p5(e,t,n,i,r,o){return Zn(s=>u5(e,t,n,i,s.extractedUrl,r,o).pipe(it(({state:a,tree:l})=>I(g({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function g5(e,t){return Zn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Re(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of LO(l))s.add(c);let a=0;return Sn(s).pipe(Bu(l=>o.has(l)?m5(l,i,e,t):(l.data=zv(l,l.parent,e).resolve,Re(void 0))),si(()=>a++),zu(1),Zn(l=>a===s.size?Re(n):rr))})}function LO(e){let t=e.children.map(n=>LO(n)).flat();return[e,...t]}function m5(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!wO(r)&&(o[dp]=r.title),af(()=>(e.data=zv(e,e.parent,n).resolve,y5(o,e,t,i).pipe(it(s=>(e._resolvedData=s,e.data=g(g({},e.data),s),null)))))}function y5(e,t,n,i){let r=QI(e);if(r.length===0)return Re({});let o={};return Sn(r).pipe(Zn(s=>v5(e[s],t,n,i).pipe(Vs(),si(a=>{if(a instanceof gd)throw Hv(new bc,a);o[s]=a}))),zu(1),it(()=>o),Ba(s=>_O(s)?rr:ju(s)))}function v5(e,t,n,i){let r=yd(t)??i,o=bd(e,r),s=o.resolve?o.resolve(t,n):$i(r,()=>o(t,n));return na(s)}function qI(e){return ar(t=>{let n=e(t);return n?Sn(n).pipe(it(()=>t)):Re(t)})}var fw=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Xe);return i}getResolvedTitleForRoute(n){return n.data[dp]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:()=>O(RO),providedIn:"root"})}return e})(),RO=(()=>{class e extends fw{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(Ue(J1))};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gp=new ae("",{providedIn:"root",factory:()=>({})}),mp=new ae(""),PO=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(EI);loadComponent(n,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Re(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=na($i(n,()=>i.loadComponent())).pipe(it(jO),ar(VO),si(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),lf(()=>{this.componentLoaders.delete(i)})),o=new Pu(r,()=>new ct).pipe(Ru());return this.componentLoaders.set(i,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=FO(i,this.compiler,n,this.onLoadEndListener).pipe(lf(()=>{this.childrenLoaders.delete(i)})),s=new Pu(o,()=>new ct).pipe(Ru());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FO(e,t,n,i){return na($i(n,()=>e.loadChildren())).pipe(it(jO),ar(VO),Zn(r=>r instanceof lv||Array.isArray(r)?Re(r):Sn(t.compileModuleAsync(r))),it(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(mp,[],{optional:!0,self:!0}).flat()),{routes:s.map(hw),injector:o}}))}function b5(e){return e&&typeof e=="object"&&"default"in e}function jO(e){return b5(e)?e.default:e}function VO(e){return Re(e)}var Yv=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:()=>O(x5),providedIn:"root"})}return e})(),x5=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),BO=new ae("");var zO=new ae(""),HO=(()=>{class e{currentNavigation=Cr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ct;transitionAbortWithErrorSubject=new ct;configLoader=O(PO);environmentInjector=O(un);destroyRef=O(cs);urlSerializer=O(hp);rootContexts=O(vd);location=O(Ja);inputBindingEnabled=O($v,{optional:!0})!==null;titleStrategy=O(fw);options=O(gp,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(Yv);createViewTransition=O(BO,{optional:!0});navigationErrorHandler=O(zO,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Re(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new Ov(r)),i=r=>this.events.next(new Lv(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;qi(()=>{this.transitions?.next(I(g({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(n){return this.transitions=new Yn(null),this.transitions.pipe(sr(i=>i!==null),ar(i=>{let r=!1;return Re(i).pipe(ar(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ki.SupersededByNewNavigation),rr;this.currentTransition=i,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?I(g({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new ta(o.id,this.urlSerializer.serialize(o.rawUrl),"",ip.IgnoredSameUrlNavigation)),o.resolve(!1),rr;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Re(o).pipe(ar(l=>(this.events.next(new xc(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?rr:Promise.resolve(l))),p5(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),si(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=l.urlAfterRedirects,u));let c=new rp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:d,extras:h}=o,f=new xc(l,this.urlSerializer.serialize(c),u,d);this.events.next(f);let p=DO(this.rootComponentType).snapshot;return this.currentTransition=i=I(g({},o),{targetSnapshot:p,urlAfterRedirects:c,extras:I(g({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(m=>(m.finalUrl=c,m)),Re(i)}else return this.events.next(new ta(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ip.IgnoredByUrlHandlingStrategy)),o.resolve(!1),rr}),si(o=>{let s=new Av(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),it(o=>(this.currentTransition=i=I(g({},o),{guards:OW(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),GW(this.environmentInjector,o=>this.events.next(o)),si(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Hv(this.urlSerializer,o.guardsResult);let s=new _v(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),sr(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ki.GuardRejected),!1)),qI(o=>{if(o.guards.canActivateChecks.length!==0)return Re(o).pipe(si(s=>{let a=new kv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ar(s=>{let a=!1;return Re(s).pipe(g5(this.paramsInheritanceStrategy,this.environmentInjector),si({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ki.NoDataFromResolver)}}))}),si(s=>{let a=new Nv(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),qI(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let c=yd(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(si(u=>{a.component=u}),it(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return Vu(s(o.targetSnapshot.root)).pipe(za(null),So(1))}),qI(()=>this.afterPreactivation()),ar(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Sn(a).pipe(it(()=>i)):Re(i)}),it(o=>{let s=TW(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=I(g({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),i}),si(()=>{this.events.next(new op)}),NW(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),So(1),is(new ht(o=>{let s=i.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(sr(()=>!r&&!i.targetRouterState),si(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",Ki.Aborted)}))),si({next:o=>{r=!0,this.lastSuccessfulNavigation=qi(this.currentNavigation),this.events.next(new ea(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),is(this.transitionAbortWithErrorSubject.pipe(si(o=>{throw o}))),lf(()=>{r||this.cancelNavigationTransition(i,"",Ki.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ba(o=>{if(this.destroyed)return i.resolve(!1),rr;if(r=!0,AO(o))this.events.next(new ys(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),kW(o)?this.events.next(new pd(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new fd(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let a=$i(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof gd){let{message:l,cancellationCode:c}=Hv(this.urlSerializer,a);this.events.next(new ys(i.id,this.urlSerializer.serialize(i.extractedUrl),l,c)),this.events.next(new pd(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return rr}))}))}cancelNavigationTransition(n,i,r){let o=new ys(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=qi(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return n.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function S5(e){return e!==ep}var UO=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:()=>O(M5),providedIn:"root"})}return e})(),Gv=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},M5=(()=>{class e extends Gv{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Er(e)))(r||e)}})();static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),GO=(()=>{class e{urlSerializer=O(hp);options=O(gp,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(Ja);urlHandlingStrategy=O(Yv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new vs;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:r}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,s=r??o;return s instanceof vs?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:r}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=n):this.rawUrlTree=r}routerState=DO(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:()=>O(D5),providedIn:"root"})}return e})(),D5=(()=>{class e extends GO{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{n(i.url,i.state,"popstate")})})}handleRouterEvent(n,i){n instanceof xc?this.updateStateMemento():n instanceof ta?this.commitTransition(i):n instanceof rp?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof op?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof ys&&n.code!==Ki.SupersededByNewNavigation&&n.code!==Ki.Redirect?this.restoreHistory(i):n instanceof fd?this.restoreHistory(i,!0):n instanceof ea&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=g(g({},s),this.generateNgRouterState(r,a));this.location.replaceState(n,"",l)}else{let a=g(g({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Er(e)))(r||e)}})();static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pw(e,t){e.events.pipe(sr(n=>n instanceof ea||n instanceof ys||n instanceof fd||n instanceof ta),it(n=>n instanceof ea||n instanceof ta?0:(n instanceof ys?n.code===Ki.Redirect||n.code===Ki.SupersededByNewNavigation:!1)?2:1),sr(n=>n!==2),So(1)).subscribe(()=>{t()})}var I5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ci=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(bI);stateManager=O(GO);options=O(gp,{optional:!0})||{};pendingTasks=O(Ws);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(HO);urlSerializer=O(hp);location=O(Ja);urlHandlingStrategy=O(Yv);injector=O(un);_events=new ct;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(UO);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(mp,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O($v,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new sn;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=qi(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ys&&i.code!==Ki.Redirect&&i.code!==Ki.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ea)this.navigated=!0;else if(i instanceof pd){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=g({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||S5(r.source)},s);this.scheduleNavigation(a,ep,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}IW(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ep,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i,r)=>{this.navigateToSyncWithBrowser(n,r,i)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=g({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o).catch(l=>{this.disposed||this.injector.get(Kr)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return qi(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(hw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=g(g({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=bO(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return xO(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=hd(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ep,null,i)}navigate(n,i={skipLocationChange:!1}){return C5(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=g({},I5):i===!1?r=g({},w5):r=i,hd(n))return eO(this.currentUrlTree,n,r);let o=this.parseUrl(n);return eO(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return pw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function C5(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new De(4008,!1)}var T5=new ae("");function gw(e,...t){return ec([{provide:mp,multi:!0,useValue:e},[],{provide:tl,useFactory:A5,deps:[ci]},{provide:dv,multi:!0,useFactory:_5},t.map(n=>n.\u0275providers)])}function A5(e){return e.routerState.root}function _5(){let e=O(Qt);return t=>{let n=e.get(Ar);if(t!==n.components[0])return;let i=e.get(ci),r=e.get(k5);e.get(N5)===1&&i.initialNavigation(),e.get(O5,null,{optional:!0})?.setUpPreloading(),e.get(T5,null,{optional:!0})?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var k5=new ae("",{factory:()=>new ct}),N5=new ae("",{providedIn:"root",factory:()=>1});var O5=new ae("");var Zv=class e{itemData;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-nav-bar-item-component"]],inputs:{itemData:"itemData"},decls:2,vars:1,consts:[[1,"tracking-tight","cursor-pointer","normal-text","underline-offset-6","hover:underline"]],template:function(n,i){n&1&&(z(0,"span",0),L(1),G()),n&2&&(X(),Tt(i.itemData.name))},encapsulation:2})};var $O=[{id:0,name:"Offerings"},{id:1,name:"Investors"},{id:2,name:"Careers"},{id:3,name:"News & Media"},{id:4,name:"Stories"},{id:5,name:"About us"}];var qv=class e{get getNavBarItems(){return $O}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var P5=(e,t)=>t.id;function F5(e,t){if(e&1&&ce(0,"app-sandvik-nav-bar-item-component",1),e&2){let n=t.$implicit;Nt("itemData",n)}}var Kv=class e{navBarService;constructor(t){this.navBarService=t}static \u0275fac=function(n){return new(n||e)(ue(qv))};static \u0275cmp=ne({type:e,selectors:[["app-header-nav-bar"]],decls:3,vars:0,consts:[[1,"flex","gap-7"],[3,"itemData"]],template:function(n,i){n&1&&(B(0,"div",0),An(1,F5,1,1,"app-sandvik-nav-bar-item-component",1,P5),U()),n&2&&(X(),_n(i.navBarService.getNavBarItems))},dependencies:[Zv],encapsulation:2})};var Qv=class e{constructor(t){this.router=t}goToCribwise(){this.router.navigate(["/cribwise"])}static \u0275fac=function(n){return new(n||e)(ue(ci))};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-nav-bar-side-bar"]],decls:3,vars:0,consts:[[1,"flex","items-center","justify-center","gap-2"],["src","/assets/images/cribwise-logo.png",1,"cursor-pointer","h-9","hover:bg-gray-300","rounded-lg","pt-1","pb-1",3,"click"],["src","/assets/images/sandvik-navbar-magnifier.svg",1,"bg-gray-200","hover:bg-gray-300","p-2","w-9","cursor-pointer","rounded-xs"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"img",1),Ai("click",function(){return i.goToCribwise()}),G(),pt(2,"img",2),G())},encapsulation:2})};var Xv=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-header-content"]],decls:13,vars:0,consts:[[1,"pt-16","pb-11","flex","items-center","justify-between"],[1,"tracking-normal","normal-text","font-semibold","flex","flex-col","text-7xl"],[1,"tracking-tight","normal-text","flex","flex-col","text-left","items-start","pr-5","pb-6"],[1,"mt-6","bg-blue-600","hover:bg-blue-500","transition-colors","text-white","cursor-pointer","pl-5","pr-5","pt-2","pb-2"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"div",1)(2,"h1"),L(3,"Welcome to the"),G(),z(4,"h1"),L(5,"Sandvik Group"),G()(),z(6,"div",2)(7,"p"),L(8,"We apply our expert minds and collaborative ways of working"),G(),z(9,"p"),L(10,"with customers to build more resilient and stronger businesses."),G(),z(11,"button",3),L(12," View our offerings "),G()()())},encapsulation:2})};var Jv=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-header"]],decls:6,vars:0,consts:[[1,"lg:pl-[13vw]","lg:pr-[13vw]","pl-[6vw]","pr-[6vw]","pt-7","pb-8"],[1,"pb-7","flex","justify-between","border-b-1","border-gray-200","items-center"],["src","/assets/images/sandvik_logo.svg",1,"cursor-pointer","w-32"]],template:function(n,i){n&1&&(B(0,"header",0)(1,"div",1),ce(2,"img",2)(3,"app-header-nav-bar")(4,"app-sandvik-nav-bar-side-bar"),U(),ce(5,"app-sandvik-header-content"),U())},dependencies:[Kv,Qv,Xv],encapsulation:2})};var xd=class e{itemData;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-interim-report-item"]],inputs:{itemData:"itemData"},decls:5,vars:5,consts:[["target","_blank",3,"href"],[1,"bg-[#282828]","hover:bg-[#404040]","m-2","p-3","font-bold","flex","justify-between","cursor-pointer"],[1,"w-6",3,"src"]],template:function(n,i){n&1&&(z(0,"a",0)(1,"div",1)(2,"span"),L(3),G(),pt(4,"img",2),G()()),n&2&&(Ao("href",Nr(i.itemData.url),Tr),X(3),ps(" ",i.itemData.name," "),X(),Ao("src",Nr(i.itemData.iconUrl),Tr))},encapsulation:2})};var WO=[{id:0,name:"Interim Report",url:"https://www.home.sandvik/siteassets/investors/reports--presentations/interim-reports/2025/interim-report-q2-2025.pdf",iconUrl:"/assets/images/download-arrow.svg"},{id:1,name:"Webcast",url:"https://sandvik.creomediamanager.com/a81fa301-fb57-4c85-802f-d6e382719fb0?_gl=1*cxo9gz*_ga*NDQ1Mzg5NTgxLjE3NTYxMjkwMjc.*_ga_XQBQ4Y1F5Q*czE3NTY0NzEwNTQkbzgkZzEkdDE3NTY0NzEwNjgkajQ2JGwwJGg5NzQzOTcxNjE.",iconUrl:"/assets/images/forward-arrow.svg"},{id:2,name:"Financial data",url:"https://www.home.sandvik/siteassets/investors/financial-data/financial-data-2025-q2.xls",iconUrl:"/assets/images/download-arrow.svg"},{id:3,name:"Presentation",url:"https://www.home.sandvik/siteassets/investors/reports--presentations/interim-presentations/2025/presentation-q2-2025.pdf",iconUrl:"/assets/images/download-arrow.svg"},{id:4,name:"Transcript",url:"https://widget.datablocks.se/api/rose/widgets/transcript/47c29bbf-a93a-4740-8308-8d99b95ffc8a/3270989-20250716-2956",iconUrl:"/assets/images/forward-arrow.svg"}];var eb=class e{get getInterimItems(){return WO}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var V5=(e,t)=>t.id;function B5(e,t){if(e&1&&ce(0,"app-sandvik-interim-report-item",7),e&2){let n=t.$implicit;Nt("itemData",n)}}var tb=class e{interimService;constructor(t){this.interimService=t}static \u0275fac=function(n){return new(n||e)(ue(eb))};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-interim-report-section"]],decls:11,vars:0,consts:[[1,"bg-[#101010]","text-white","py-20"],[1,"px-[6vw]","lg:px-[13vw]"],[1,"grid","grid-cols-2","items-center"],[1,"flex","flex-col","gap-5"],[1,"normal-text","text-2xl"],[1,"normal-text","tracking-wider","text-sm"],[1,"grid","grid-cols-2"],[3,"itemData"]],template:function(n,i){n&1&&(B(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),L(5,"Interim Report Q2"),U(),B(6,"span",5),L(7,"July 16, 2025 at 11:30 AM CEST"),U()(),B(8,"div",6),An(9,B5,1,1,"app-sandvik-interim-report-item",7,V5),U()()()()),n&2&&(X(9),_n(i.interimService.getInterimItems))},dependencies:[xd],encapsulation:2})};function z5(e,t){if(e&1&&pt(0,"img",2),e&2){let n=fs();Ao("src",Nr(n.itemData.bigPictureUrl),Tr)}}function H5(e,t){if(e&1&&pt(0,"img",3),e&2){let n=fs();Ao("src",Nr(n.itemData.mediumPictureUrl),Tr)}}function U5(e,t){if(e&1&&(z(0,"span",4),L(1),G()),e&2){let n=fs();X(),Tt(n.itemData.type)}}function G5(e,t){if(e&1&&(z(0,"span",5),L(1),G()),e&2){let n=fs();X(),Tt(n.itemData.date)}}function $5(e,t){if(e&1&&(z(0,"p",7),L(1),G()),e&2){let n=fs();X(),Tt(n.itemData.text)}}var bs=class e{itemData;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-article-item"]],inputs:{itemData:"itemData"},decls:9,vars:8,consts:[[3,"href"],[1,"normal-text","flex","flex-col"],[1,"hover:opacity-90","mb-2","rounded-md",3,"src"],[1,"hover:opacity-90","mb-2","max-h-60","max-w-110","rounded-md",3,"src"],[1,"text-gray-600","tracking-tight","mb-2"],[1,"tracking-wide"],[1,"text-2xl","font-semibold","w-111","mt-5","underline-offset-3","hover:underline"],[1,"tracking-tight","my-4"]],template:function(n,i){n&1&&(z(0,"a",0)(1,"div",1),_r(2,z5,1,2,"img",2),_r(3,H5,1,2,"img",3),_r(4,U5,2,1,"span",4),_r(5,G5,2,1,"span",5),z(6,"h2",6),L(7),G(),_r(8,$5,2,1,"p",7),G()()),n&2&&(Ao("href",Nr(i.itemData.url),Tr),X(2),kr(i.itemData.bigPictureUrl?2:-1),X(),kr(i.itemData.mediumPictureUrl?3:-1),X(),kr(i.itemData.type?4:-1),X(),kr(i.itemData.date?5:-1),X(2),ps(" ",i.itemData.description," "),X(),kr(i.itemData.text?8:-1))},encapsulation:2})};var YO=[{id:0,date:"Aug 20, 2025 1:00 PM CEST",description:"Sandvik wins major mining equipment order in Botswana",type:"Press release",url:"https://www.home.sandvik/en/news-and-media/news/2025/08/sandvik-wins-major-mining-equipment-order-in-botswana/"},{id:1,date:"Jul 16, 2025 11:33 AM CEST",description:"Interim report second quarter 2025",type:"Press release (regulatory)",url:"https://www.home.sandvik/en/news-and-media/news/2025/07/interim-report-second-quarter-2025/"},{id:2,date:"Jul 2, 2025 2:00 PM CEST",description:"Sandvik wins major mining equipment order in Mongolia",type:"Press release",url:"https://www.home.sandvik/en/news-and-media/news/2025/07/sandvik-wins-major-mining-equipment-order-in-mongolia/"}];var nb=class e{get getNewsItems(){return YO}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var Y5=(e,t)=>t.id;function Z5(e,t){if(e&1&&ce(0,"app-sandvik-article-item",8),e&2){let n=t.$implicit;Nt("itemData",n)}}var ib=class e{newsService;constructor(t){this.newsService=t}static \u0275fac=function(n){return new(n||e)(ue(nb))};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-news-component"]],decls:12,vars:0,consts:[[1,"lg:pl-[13vw]","lg:pr-[13vw]","pl-[6vw]","pr-[6vw]","py-32"],[1,"flex","justify-between","pb-15"],[1,"normal-text","text-3xl","font-semibold"],["href","https://www.home.sandvik/en/news-and-media/news/","target","_blank"],[1,"flex","items-center","gap-3"],[1,"underline","underline-offset-3","tracking-tight"],["src","assets/images/continue-arrow.svg",1,"w-5","opacity-50"],[1,"flex","flex-col","2xl:flex-row","items-center","justify-evenly"],[3,"itemData"]],template:function(n,i){n&1&&(B(0,"div",0)(1,"div",1)(2,"h1",2),L(3,"Latest News"),U(),B(4,"a",3)(5,"div",4)(6,"span",5),L(7,"All news and press releases "),U(),ce(8,"img",6),U()()(),B(9,"div",7),An(10,Z5,1,1,"app-sandvik-article-item",8,Y5),U()()),n&2&&(X(10),_n(i.newsService.getNewsItems))},dependencies:[bs],encapsulation:2})};var ZO=[{id:0,description:"Become one of us!",type:"Careers",text:"When you join our global team, you will experience a culture that enables important shifts.",url:"https://www.home.sandvik/en/careers/",bigPictureUrl:"https://www.home.sandvik/contentassets/829927e934114a969ac6809da1e8274d/careers.jpg"},{id:1,description:"Our sustainable future",type:"Sustainability",text:"We want to be a positive force in shaping the future of industry and leading the way with innovation and engineering for the world we need.",url:"https://www.home.sandvik/en/about-us/sustainability/",bigPictureUrl:"https://www.home.sandvik/siteassets/about-us/sustainability/women-in-control-room_16.9.jpg"}];var rb=class e{get getMixContentItems(){return ZO}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var K5=(e,t)=>t.id;function Q5(e,t){if(e&1&&ce(0,"app-sandvik-article-item",1),e&2){let n=t.$implicit;Nt("itemData",n)}}var ob=class e{mixContentService;constructor(t){this.mixContentService=t}static \u0275fac=function(n){return new(n||e)(ue(rb))};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-mix-content"]],decls:3,vars:0,consts:[[1,"bg-[#f8f8f8]","lg:pl-[13vw]","lg:pr-[13vw]","pl-[6vw]","pr-[6vw]","py-32","flex","gap-8"],[3,"itemData"]],template:function(n,i){n&1&&(B(0,"div",0),An(1,Q5,1,1,"app-sandvik-article-item",1,K5),U()),n&2&&(X(),_n(i.mixContentService.getMixContentItems))},dependencies:[bs],encapsulation:2})};var qO=[{id:0,date:"Aug 27, 2025 10:06 AM CEST",description:"Indian hub will boost innovation and efficiency",type:"Innovation",text:"A Sandvik India innovation hub will contribute to accelerated innovation within digital manufacturing as well as growing the business in one of the world\u2019s biggest economies.",url:"https://www.home.sandvik/en/stories/articles/2025/08/indian-hub-will-boost-innovation-and-efficiency/",mediumPictureUrl:"https://www.home.sandvik/contentassets/d4b83166c2234b81b2d93c09ebc9150b/pune-innovation-hub-1200-675.jpg"},{id:1,date:"Jul 16, 2025 1:58 PM CEST",description:"Studio Sandvik Episode 12: Q2 results & global highlights",type:"People, Innovation",text:"President and CEO Stefan Widing reflects on the Sandvik performance in the second quarter, sharing insights on market development, business resilience and the strategic restructuring within Business Area Machining.",url:"https://www.home.sandvik/en/stories/articles/2025/07/studio-sandvik-episode-12-q2-results--global-highlights/",mediumPictureUrl:"https://www.home.sandvik/contentassets/1f64f452c4484ca18cfb8ea5df449e49/ss12_thumbnail.jpg"},{id:2,date:"Jul 14, 2025 2:41 PM CEST",description:"School of industry rocks!",text:"G\xF6ranssonska technical high school in Sandviken, Sweden, shows how industry and education create lasting value for society and business.",url:"https://www.home.sandvik/en/stories/articles/2025/07/g%C3%B6ranssonska-skolan/",mediumPictureUrl:"https://www.home.sandvik/globalassets/sandvik-goranssonska-skolan-47.jpg"}];var sb=class e{get getLatestStories(){return qO}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var J5=(e,t)=>t.id;function eY(e,t){if(e&1&&ce(0,"app-sandvik-article-item",8),e&2){let n=t.$implicit;Nt("itemData",n)}}var ab=class e{latestStoriesService;constructor(t){this.latestStoriesService=t}static \u0275fac=function(n){return new(n||e)(ue(sb))};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-latest-stories"]],decls:12,vars:0,consts:[[1,"lg:pl-[13vw]","lg:pr-[13vw]","pl-[6vw]","pr-[6vw]","py-32"],[1,"flex","justify-between","pb-15"],[1,"normal-text","text-3xl","font-semibold"],["href","https://www.home.sandvik/en/stories/","target","_blank"],[1,"flex","items-center","gap-3"],[1,"underline","underline-offset-3","tracking-tight"],["src","assets/images/continue-arrow.svg",1,"w-5","opacity-50"],[1,"flex","flex-col","2xl:flex-row","justify-evenly","align-top","gap-7","mx-3"],[3,"itemData"]],template:function(n,i){n&1&&(B(0,"div",0)(1,"div",1)(2,"h1",2),L(3,"Latest Stories"),U(),B(4,"a",3)(5,"div",4)(6,"span",5),L(7,"All stories and articles "),U(),ce(8,"img",6),U()()(),B(9,"div",7),An(10,eY,1,1,"app-sandvik-article-item",8,J5),U()()),n&2&&(X(10),_n(i.latestStoriesService.getLatestStories))},dependencies:[bs],encapsulation:2})};function tY(e,t){e&1&&pt(0,"div",6)}function nY(e,t){}var lb=class e{itemData;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-upcoming-event-item"]],inputs:{itemData:"itemData"},decls:13,vars:4,consts:[[1,"flex","gap-5","px-10","py-8"],[1,"flex","flex-col"],[1,"text-3xl"],[1,"font-light","tracking-tighter"],[1,"text-2xl"],[1,"cursor-pointer","tracking-tight","font-light"],[1,"bg-gray-200","w-full","h-0.5"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"div",1)(2,"h2",2),L(3),G(),z(4,"span",3),L(5),G()(),z(6,"div",1)(7,"h2",4),L(8),G(),z(9,"span",5),L(10,"Add to calendar"),G()()(),_r(11,tY,1,0,"div",6)(12,nY,0,0)),n&2&&(X(3),Tt(i.itemData.dateNumber),X(2),Tt(i.itemData.dateMonth),X(3),Tt(i.itemData.title),X(3),kr(i.itemData.id!==2?11:12))},encapsulation:2})};var KO=[{dateNumber:"01",dateMonth:"OCT",id:0,title:"Silent period third quarter 2025"},{dateNumber:"20",dateMonth:"OCT",id:1,title:"Interim report third quarter 2025"},{dateNumber:"01",dateMonth:"JAN",id:2,title:"Silent period fourth quarter 2025"}];var cb=class e{get getUpcomingEvents(){return KO}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var rY=(e,t)=>t.id;function oY(e,t){if(e&1&&ce(0,"app-sandvik-upcoming-event-item",2),e&2){let n=t.$implicit;Nt("itemData",n)}}var ub=class e{upcomingEventsService;constructor(t){this.upcomingEventsService=t}static \u0275fac=function(n){return new(n||e)(ue(cb))};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-upcoming-events"]],decls:7,vars:0,consts:[[1,"bg-gray-100","w-200","p-6"],[1,"normal-text","text-2xl","tracking-tight","mb-5"],[3,"itemData"],[1,"rounded-sm","mt-6","bg-[#e6e6e6]","hover:bg-[#dadada]","transition-colors","cursor-pointer","pl-5","pr-5","pt-2","pb-2"]],template:function(n,i){n&1&&(B(0,"div",0)(1,"h2",1),L(2,"Upcoming events"),U(),An(3,oY,1,1,"app-sandvik-upcoming-event-item",2,rY),B(5,"button",3),L(6," All events "),U()()),n&2&&(X(3),_n(i.upcomingEventsService.getUpcomingEvents))},dependencies:[lb],encapsulation:2})};var db=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-share-info"]],decls:10,vars:0,consts:[[1,"px-8","py-8","bg-black","w-139","h-135","justify-between","flex","flex-col","normal-text"],[1,"text-white","text-xl","tracking-wide","font-semibold"],[1,"text-2xl","tracking-tight","font-semibold","text-[#a08c64]"],[1,"text-white","sandvik-title-font","text-7xl"],[1,"text-sm","tracking-wide","font-light","text-gray-300"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"h2",1),L(2,"Share price"),G(),z(3,"div")(4,"span",2),L(5,"SAND"),G(),z(6,"h1",3),L(7,"239.10 SEK"),G(),z(8,"span",4),L(9,"-2.30 SEK (-1.0%)"),G()()())},encapsulation:2})};var QO=[{id:0,name:"Sandvik at a glance",url:"https://www.home.sandvik/en/about-us/sandvik-at-a-glance/",iconUrl:"/assets/images/forward-arrow.svg"},{id:1,name:"Business areas",url:"https://www.home.sandvik/en/about-us/business-areas/",iconUrl:"/assets/images/forward-arrow.svg"},{id:2,name:"Sandvik in figures",url:"https://www.home.sandvik/en/about-us/sandvik-at-a-glance/sandvik-in-figures/",iconUrl:"/assets/images/forward-arrow.svg"}];var hb=class e{get getAboutItems(){return QO}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var aY=(e,t)=>t.id;function lY(e,t){if(e&1&&ce(0,"app-sandvik-interim-report-item",7),e&2){let n=t.$implicit;Nt("itemData",n)}}var fb=class e{aboutService;constructor(t){this.aboutService=t}static \u0275fac=function(n){return new(n||e)(ue(hb))};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-about"]],decls:11,vars:0,consts:[[1,"bg-[#101010]","text-white","py-20","my-32"],[1,"px-[6vw]","lg:px-[13vw]"],[1,"flex","items-center","justify-between"],[1,"flex","flex-col","gap-5"],[1,"normal-text","text-2xl"],[1,"normal-text","tracking-wider","text-sm","w-113","leading-6"],[1,"w-120","flex","flex-col","gap-2"],[3,"itemData"]],template:function(n,i){n&1&&(B(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),L(5,"About Sandvik"),U(),B(6,"p",5),L(7," Sandvik is a global, high-tech engineering group providing solutions that enhance productivity, profitability and sustainability for the manufacturing, mining and infrastructure industries. In 2024 the Group had approximately 41,000 employees and revenues of about 123 billion SEK in more than 150 countries. "),U()(),B(8,"div",6),An(9,lY,1,1,"app-sandvik-interim-report-item",7,aY),U()()()()),n&2&&(X(9),_n(i.aboutService.getAboutItems))},dependencies:[xd],encapsulation:2})};var pb=class e{itemData;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-info-card"]],inputs:{itemData:"itemData"},decls:7,vars:6,consts:[["target","_blank",3,"href"],[1,"bg-gray-100","w-110","px-5","h-95","flex","flex-col","justify-between"],[3,"itemData"],[1,"flex","gap-2","hover:gap-4","transition-all","ease-in","py-5"],[1,"tracking-tight","underline","underline-offset-3"],[1,"w-5","opacity-50",3,"src"]],template:function(n,i){n&1&&(B(0,"a",0)(1,"div",1),ce(2,"app-sandvik-article-item",2),B(3,"div",3)(4,"span",4),L(5),U(),ce(6,"img",5),U()()()),n&2&&(Nt("href",Nr(i.itemData.url),Tr),X(2),Nt("itemData",i.itemData),X(3),Tt(i.itemData.urlText),X(),Nt("src",Nr(i.itemData.urlTextIconUrl),Tr))},dependencies:[bs],encapsulation:2})};var XO=[{id:0,description:"Expertise and innovation",urlText:"Expertise and innovation",url:"https://www.home.sandvik/en/about-us/expertise-and-innovation/",text:"We have proven capabilities to enhance customer productivity, profitability and sustainability.",urlTextIconUrl:"assets/images/continue-arrow.svg"},{id:1,description:"Meet Sandvik Podcast",urlText:"Podcasts",url:"https://www.home.sandvik/en/stories/podcasts/",text:"Meet different persons that give their perspective on Sandvik.",urlTextIconUrl:"assets/images/continue-arrow.svg"},{id:2,description:"Vacancies",urlText:"Available jobs",url:"https://www.home.sandvik/en/careers/job-search/",text:"We offer career opportunities in many different job areas worldwide",urlTextIconUrl:"assets/images/continue-arrow.svg"}];var gb=class e{get getInfoCards(){return XO}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var uY=(e,t)=>t.id;function dY(e,t){if(e&1&&ce(0,"app-sandvik-info-card",1),e&2){let n=t.$implicit;Nt("itemData",n)}}var mb=class e{infoCardsSectionService;constructor(t){this.infoCardsSectionService=t}static \u0275fac=function(n){return new(n||e)(ue(gb))};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-info-cards-section"]],decls:3,vars:0,consts:[[1,"flex","justify-center","gap-8","mb-32"],[3,"itemData"]],template:function(n,i){n&1&&(B(0,"div",0),An(1,dY,1,1,"app-sandvik-info-card",1,uY),U()),n&2&&(X(),_n(i.infoCardsSectionService.getInfoCards))},dependencies:[pb],encapsulation:2})};var JO=[{id:0,description:"Contact",url:"https://www.home.sandvik/en/contact/"},{id:1,description:"About us",url:"https://www.home.sandvik/en/about-us/"},{id:2,description:"Sustainability",url:"https://www.home.sandvik/en/about-us/sustainability/"},{id:3,description:"Corporate governance",url:"https://www.home.sandvik/en/investors/corporate-governance/"},{id:4,description:"Products & Services",url:"https://www.home.sandvik/en/offerings/products-and-services/"},{id:5,description:"Careers",url:"https://www.home.sandvik/en/careers/"},{id:6,description:"Investors",url:"https://www.home.sandvik/en/investors/"},{id:7,description:"News & Media",url:"https://www.home.sandvik/en/news-and-media/news/"},{id:8,description:"Whistleblowing (Speak Up)",url:"https://www.home.sandvik/en/about-us/sustainability/governance-and-compliance/code-of-conduct/whistleblowing/"},{id:9,description:"Data privacy",url:"https://www.home.sandvik/en/about-this-site/data-privacy/"},{id:10,description:"Manage cookies",url:""},{id:11,description:"Accessibility statement",url:"https://www.home.sandvik/en/about-this-site/accessibility-statement/"},{id:12,description:"About this site",url:"https://www.home.sandvik/en/about-this-site/"},{id:13,description:"Trademarks",url:"https://www.home.sandvik/en/about-this-site/legal-notice/trademarks/"}];var yb=class e{get getPageLinks(){return JO}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var fY=(e,t)=>t.id;function pY(e,t){if(e&1&&(z(0,"a",5)(1,"span",18),L(2),G()()),e&2){let n=t.$implicit;Ao("href",Nr(n.url),Tr),X(2),Tt(n.description)}}var vb=class e{footerService;constructor(t){this.footerService=t}static \u0275fac=function(n){return new(n||e)(ue(yb))};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-footer-section"]],decls:26,vars:0,consts:[[1,"bg-[#101010]","text-white","py-20"],[1,"px-[6vw]","lg:px-[13vw]"],[1,"flex","items-start","justify-center","gap-112"],["src","/assets/images/sandvik_logo_white.svg",1,"cursor-pointer","w-48"],[1,"grid","grid-cols-2"],[1,"mx-25","my-0.5",3,"href"],[1,"flex","justify-between","mt-40"],[1,"flex","flex-col","items-center","justify-center","cursor-pointer"],[1,"flex","gap-2","p-2"],[1,"text-lg","font-semibold"],["href","https://github.com/acolote1998/","target","_blank"],["src","/assets/images/github-icon.svg",1,"w-6"],["href","https://www.linkedin.com/in/manuelacevedodev/","target","_blank"],["src","/assets/images/linkedin-icon.svg",1,"w-7"],["href","https://github.com/acolote1998/sandvik-cribwise-manuel","target","_blank",1,"flex","gap-5","items-center","border-white","border-1","w-fit","p-4","rounded-sm","cursor-pointer"],[1,"hover:opacity-70","transition-all","ease-in","normal-text","font-semibold"],[1,"border-gray-400","w-full","my-6"],[1,"normal-text","font-light","text-center","text-gray-400"],[1,"hover:underline","tracking-tighter"]],template:function(n,i){n&1&&(z(0,"footer",0)(1,"div",1)(2,"div",2),pt(3,"img",3),z(4,"div",4),An(5,pY,3,3,"a",5,fY),G()(),z(7,"div",6)(8,"div",7)(9,"div",8)(10,"span",9),L(11,"Manuel Acevedo"),G(),z(12,"a",10),pt(13,"img",11),G(),z(14,"a",12),pt(15,"img",13),G()(),z(16,"div")(17,"span"),L(18,"manuel.acevedo@appliedtechnology.se"),G()()(),z(19,"a",14),pt(20,"img",11),z(21,"span",15),L(22,"See GitHub Repository"),G()()(),pt(23,"hr",16),z(24,"p",17),L(25," Angular learning project \u2013 demo for interview (2025/09/02) "),G()()()),n&2&&(X(5),_n(i.footerService.getPageLinks))},encapsulation:2})};var nl=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-mobile-disclaimer"]],decls:29,vars:0,consts:[[1,"bg-black","text-white","min-h-screen","flex","flex-col","items-center","py-8","px-4"],[1,"flex","flex-col","items-center","gap-4"],[1,"bg-white","rounded-lg","p-4","flex","flex-col","items-center","gap-2","shadow"],["src","/assets/images/sandvik_logo.svg","alt","Sandvik Logo",1,"h-10"],["src","/assets/images/cribwise-logo.png","alt","Cribwise Logo",1,"h-10"],[1,"flex-1","flex","flex-col","justify-center","items-center","w-full"],[1,"text-2xl","md:text-3xl","font-bold","text-center","normal-text","mb-4","tracking-wide"],[1,"w-full","max-w-2xl","mt-auto","flex","flex-col","items-center"],[1,"normal-text","font-light","text-center","text-gray-400","text-sm"],[1,"border-gray-400","w-full","my-6"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","w-full","gap-6","mb-2"],[1,"flex","flex-col","items-center","gap-2"],[1,"text-lg","font-semibold"],[1,"flex","gap-4"],["href","https://github.com/acolote1998/","target","_blank","aria-label","GitHub"],["src","/assets/images/github-icon.svg","alt","GitHub",1,"w-6"],["href","https://www.linkedin.com/in/manuelacevedodev/","target","_blank","aria-label","LinkedIn"],["src","/assets/images/linkedin-icon.svg","alt","LinkedIn",1,"w-7"],[1,"text-base","text-gray-300"],["href","https://github.com/acolote1998/sandvik-cribwise-manuel","target","_blank",1,"flex","items-center","gap-3","border","border-white","px-4","py-2","rounded","hover:bg-white","hover:text-black","transition"],[1,"font-semibold","normal-text"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"div",1)(2,"div",2),pt(3,"img",3)(4,"img",4),G()(),z(5,"div",5)(6,"h2",6),L(7," For the complete experience,"),pt(8,"br"),L(9," please access this demo on a desktop computer. "),G()(),z(10,"div",7)(11,"p",8),L(12," Angular learning project \u2013 demo for interview (2025/09/02) "),G(),pt(13,"hr",9),z(14,"div",10)(15,"div",11)(16,"span",12),L(17,"Manuel Acevedo"),G(),z(18,"div",13)(19,"a",14),pt(20,"img",15),G(),z(21,"a",16),pt(22,"img",17),G()(),z(23,"span",18),L(24,"manuel.acevedo@appliedtechnology.se"),G()(),z(25,"a",19),pt(26,"img",15),z(27,"span",20),L(28,"See GitHub Repository"),G()()()()())},encapsulation:2})};var bb=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-sandvik-landing-page"]],decls:15,vars:0,consts:[[1,"block","xl:hidden"],[1,"hidden","xl:block"],["src","/assets/images/sandvik-index-picture.webp",1,"w-full"],[1,"flex","2xl:flex-row","flex-col","items-center","justify-center-safe","gap-5"]],template:function(n,i){n&1&&(B(0,"div",0),ce(1,"app-sandvik-mobile-disclaimer"),U(),B(2,"div",1),ce(3,"app-header")(4,"img",2)(5,"app-sandvik-interim-report-section")(6,"app-sandvik-news-component")(7,"app-sandvik-mix-content")(8,"app-sandvik-latest-stories"),B(9,"div",3),ce(10,"app-sandvik-upcoming-events")(11,"app-sandvik-share-info"),U(),ce(12,"app-sandvik-about")(13,"app-sandvik-info-cards-section")(14,"app-sandvik-footer-section"),U())},dependencies:[Jv,tb,ib,ob,ab,ub,db,fb,mb,vb,nl],encapsulation:2})};var xb=class e{constructor(t){this.router=t}toSandvikLandingPage(){this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||e)(ue(ci))};static \u0275cmp=ne({type:e,selectors:[["app-crib-wise-landing-nav-bar"]],decls:14,vars:0,consts:[[1,"bg-black/30","p-2","flex","justify-between","font-bold","tracking-tight","pr-10"],[1,"cursor-pointer",3,"click"],[1,"flex","gap-4"],[1,"cursor-pointer"],["href","https://github.com/acolote1998/","target","_blank"],["href","https://www.linkedin.com/in/manuelacevedodev/","target","_blank"],["href","https://github.com/acolote1998/sandvik-cribwise-manuel","target","_blank"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"span",1),Ai("click",function(){return i.toSandvikLandingPage()}),L(2,"BACK TO SANDVIK"),G(),z(3,"div",2)(4,"span",3),L(5,"MANUEL ACEVEDO"),G(),z(6,"span",3),L(7,"MANUEL.ACEVEDO@APPLIEDTECHNOLOGY.SE"),G(),z(8,"a",4),L(9,"GITHUB"),G(),z(10,"a",5),L(11,"LINKEDIN"),G(),z(12,"a",6),L(13,"THIS REPOSITORY"),G()()())},encapsulation:2})};var Sb=class e{constructor(t){this.router=t}toCribwiseDemoPage(){this.router.navigate(["cribwise/demo"])}static \u0275fac=function(n){return new(n||e)(ue(ci))};static \u0275cmp=ne({type:e,selectors:[["app-crib-wise-landing-page"]],decls:24,vars:0,consts:[[1,"block","xl:hidden"],[1,"hidden","xl:block"],[1,"absolute","z-10","text-white","w-full","h-screen","pointer-events-none","select-none"],[1,"pointer-events-auto","select-auto"],["src","https://cribwise.com/wp-content/uploads/2020/03/CribWise-Logo-Black_600px.png","alt","Cribwise Logo",1,"w-60","ml-10","pointer-events-auto","select-auto",2,"filter","invert(1) brightness(2)"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"flex","flex-col","justify-center","items-start","text-left","normal-text","pointer-events-auto","select-none"],[1,"flex","flex-col","text-8xl","font-semibold","leading-25","pr-35"],[1,"flex","flex-wrap"],[1,"px-1","text-[#ff6a20]"],[1,"text-lg","md:text-2xl","my-6"],[1,"bg-[#ff6a20]","py-3","px-8","font-semibold","tracking-tight","border","border-white","hover:bg-white","hover:border-black","hover:text-black","transition-colors","ease-in","cursor-pointer","select-auto",3,"click"],[1,"w-full","h-screen","overflow-hidden"],["src","/assets/images/cribwise/landing-bg.jpg","alt","Cribwise Landing",1,"w-full","h-full","object-cover","scale-120"]],template:function(n,i){n&1&&(B(0,"div",0),ce(1,"app-sandvik-mobile-disclaimer"),U(),B(2,"div",1)(3,"div",2),ce(4,"app-crib-wise-landing-nav-bar",3)(5,"img",4),B(6,"div",5)(7,"div",6)(8,"div",7)(9,"h1"),L(10,"CRIBWISE will help you"),U(),B(11,"div",8)(12,"h1"),L(13,"save"),U(),B(14,"h1",9),L(15,"money"),U(),B(16,"h1"),L(17,"from day one"),U()()(),B(18,"h2",10),L(19," CRIBWISE customers have reduced tool inventory costs by as much as 20%. "),U(),B(20,"button",11),lr("click",function(){return i.toCribwiseDemoPage()}),L(21," SEE DEMO "),U()()()(),B(22,"div",12),ce(23,"img",13),U()())},dependencies:[xb,nl],encapsulation:2})};var cr=class e{constructor(t){this.router=t}toIndex(){this.router.navigate(["/cribwise/demo"])}static \u0275fac=function(n){return new(n||e)(ue(ci))};static \u0275cmp=ne({type:e,selectors:[["app-cribwise-demo-header"]],decls:4,vars:0,consts:[[1,"bg-black","text-white","p-2","flex","justify-start","tracking-tight","pr-10"],[1,"cursor-pointer",3,"click"],["src","https://cribwise.com/wp-content/uploads/2020/03/CribWise-Logo-Black_600px.png","alt","Cribwise Logo",1,"cursor-pointer","w-85","ml-10","pointer-events-auto","select-auto",3,"click"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"span",1),Ai("click",function(){return i.toIndex()}),L(2,"Admin portal"),G()(),z(3,"img",2),Ai("click",function(){return i.toIndex()}),G())},encapsulation:2})};var ur=class e{constructor(t){this.router=t}toReportsPage(){this.router.navigate(["cribwise/demo/reports"])}toToolsPage(){this.router.navigate(["cribwise/demo/tools"])}toMachinesPage(){this.router.navigate(["cribwise/demo/machines"])}toAboutThisDemoPage(){this.router.navigate(["cribwise/demo/about-this-demo"])}static \u0275fac=function(n){return new(n||e)(ue(ci))};static \u0275cmp=ne({type:e,selectors:[["app-cribwise-demo-nav-bar"]],decls:21,vars:0,consts:[[1,"mx-5","normal-text","w-70"],[1,"bg-black","flex","items-center","justify-center","text-white","gap-5","py-3","px-5","font-semibold","rounded-xs","border-gray-400","border-1","rounded-b-sm"],["src","/assets/images/menu-item.svg",1,"w-8"],[1,"text-xl"],[1,"cursor-pointer","hover:pl-10","hover:bg-gray-200","transition-all","ease-in","mt-0.5","bg-white","flex","items-center","justify-start","gap-5","py-3","px-5","rounded-xs","border-gray-400","border-1","rounded-b-sm",3,"click"],["src","/assets/images/report-icon.svg",1,"w-6"],["src","/assets/images/tool-icon.svg",1,"w-6"],["src","/assets/images/machine-icon.svg",1,"w-6"],["src","/assets/images/details-icon.svg",1,"w-6"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"div",1),pt(2,"img",2),z(3,"span",3),L(4,"Menu"),G()(),z(5,"div",4),Ai("click",function(){return i.toReportsPage()}),pt(6,"img",5),z(7,"span"),L(8,"Reports"),G()(),z(9,"div",4),Ai("click",function(){return i.toToolsPage()}),pt(10,"img",6),z(11,"span"),L(12,"Tools"),G()(),z(13,"div",4),Ai("click",function(){return i.toMachinesPage()}),pt(14,"img",7),z(15,"span"),L(16,"Machines"),G()(),z(17,"div",4),Ai("click",function(){return i.toAboutThisDemoPage()}),pt(18,"img",8),z(19,"span"),L(20,"About this demo"),G()()())},encapsulation:2})};var Mb=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-cribwise-demo-landing-page"]],decls:6,vars:0,consts:[[1,"block","xl:hidden"],[1,"hidden","xl:block"],[1,"bg-gray-100","h-screen","w-screen"]],template:function(n,i){n&1&&(B(0,"div",0),ce(1,"app-sandvik-mobile-disclaimer"),U(),B(2,"div",1)(3,"div",2),ce(4,"app-cribwise-demo-header")(5,"app-cribwise-demo-nav-bar"),U()())},dependencies:[cr,ur,nl],encapsulation:2})};var gY=Object.defineProperty,iL=(e,t)=>{for(var n in t)gY(e,n,{get:t[n],enumerable:!0})},P={};iL(P,{error:()=>rL,errorOnce:()=>vY,log:()=>mY,logGroup:()=>xY,reset:()=>bY,table:()=>yY,warn:()=>yw,warnOnce:()=>yp});var mw=new Set;function mY(...e){console.log(...e)}function yw(e,...t){console.warn(`AG Charts - ${e}`,...t)}function rL(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)}function yY(...e){console.table(...e)}function oL(e,t,n){let i;e instanceof Error?i=e.message:typeof e=="string"?i=e:typeof e=="object"?i=JSON.stringify(e):i=String(e);let r=`${t}: ${i}`;mw.has(r)||(n(e),mw.add(r))}function yp(e,...t){oL(e,"Logger.warn",n=>yw(n,...t))}function vY(e,...t){oL(e,"Logger.error",n=>rL(n,...t))}function bY(){mw.clear()}function xY(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var ui={};iL(ui,{detectChartDefinition:()=>wY,getAxisModule:()=>CY,getPresetModule:()=>EY,getSeriesModule:()=>TY,hasModule:()=>DY,listModulesByType:()=>IY,register:()=>sL,registerMany:()=>SY,reset:()=>MY});var xp=(e=>(e.Axis="axis",e.Chart="chart",e.Preset="preset",e.Plugin="plugin",e.Series="series",e))(xp||{}),xs=new Map;function sL(e,t){let{def:n,version:i}=xs.get(e.name)??{};if(!n){xs.set(e.name,{def:e,version:t});return}if(!n.enterprise&&e.enterprise&&t===i){xs.set(e.name,{def:e,version:t});return}if(i===t){yw([`AG Charts - Module '${e.name}' already registered,',
                'ignoring (version: ${i}).`,"Check your code for duplicate loading of charts NPM modules."].join(" "));return}throw new Error([`AG Charts - Module '${e.name}' already registered with different version:`,`${i} vs ${t}`,"","Check your package.json for conflicting dependencies - depending on your package manager","one of these commands may help:","- npm ls ag-charts-community","- yarn why ag-charts-community"].join(`
`))}function SY(e,t){for(let n of e)sL(n,t)}function MY(){xs.clear()}function DY(e){return xs.has(e)}function*IY(e){for(let t of xs.values())Sp(e,t.def)&&(yield t.def)}function wY(e){for(let t of xs.values())if(Sp("chart",t.def)&&t.def.detect(e))return t.def;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function CY(e){let t=xs.get(e);if(Sp("axis",t?.def))return t?.def}function EY(e){let t=xs.get(e);if(Sp("preset",t?.def))return t?.def}function TY(e){let t=xs.get(e);if(Sp("series",t?.def))return t?.def}function Sp(e,t){return t?.type===e}var _i=class{constructor(){this.events=new Map}on(e,t){return this.events.has(e)||this.events.set(e,new Set),this.events.get(e)?.add(t),()=>this.off(e,t)}off(e,t){let n=this.events.get(e);n&&(n.delete(t),n.size===0&&this.events.delete(e))}emit(e,t){this.events.get(e)?.forEach(n=>n(t))}clear(e){e?this.events.delete(e):this.events.clear()}},Ss={};typeof window<"u"?Ss.window=window:typeof global<"u"&&(Ss.window=global.window);typeof document<"u"?Ss.document=document:typeof global<"u"&&(Ss.document=global.document);function ki(e){return e?Ss.document?.[e]:Ss.document}function Ce(e){return e?Ss.window?.[e]:Ss.window}function aL(e){Ss.document=e}function lL(e){Ss.window=e}function fe(e,t,n){let i=ki().createElement(e);if(typeof t=="object"&&(n=t,t=void 0),t)for(let r of t.split(" "))i.classList.add(r);return n&&Object.assign(i.style,n),i}function St(e){return ki().createElementNS("http://www.w3.org/2000/svg",e)}function cL(e,t){let n=ki("body"),i=fe("a",{display:"none"});i.href=e,i.download=t,n.appendChild(i),i.click(),setTimeout(()=>n.removeChild(i))}function gt(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}var Db;function AY(e){if(Db==null){let t=Ce("Option");Db=new t().style}return Db.color=e,Db.color||null}function Mc(e){return e!=null}function Ie(e){return Array.isArray(e)}function _Y(e){return typeof e=="boolean"}function ra(e){return e instanceof Date}function Tb(e){return ra(e)&&!isNaN(Number(e))}function uL(e){return e instanceof RegExp}function No(e){return typeof e=="function"}function yt(e){return typeof e=="object"&&e!==null&&!Ie(e)}function Dc(e){return Ie(e)||$e(e)}function $e(e){return typeof e=="object"&&e!==null&&e.constructor?.name==="Object"}function Ab(e){if(typeof e!="object"||e===null)return!1;for(let t in e)return!1;return!0}function nn(e){return typeof e=="string"}function Ic(e){return typeof e=="number"}function nt(e){return Number.isFinite(e)}function dL(e){return typeof window<"u"&&e instanceof HTMLElement}function Md(e){return typeof e=="symbol"}function kY(e){return nn(e)&&(e==="none"||AY(e)!=null)}function vw(e,t,n){let{leading:i=!0,trailing:r=!0}=n??{},o,s,a=!1;function l(){r&&s?(o=setTimeout(l,t),e(...s)):a=!1,s=null}function c(...u){a?s=u:(a=!0,o=setTimeout(l,t),i?e(...u):s=u)}return Object.assign(c,{cancel(){clearTimeout(o),a=!1,s=null}})}function hL(e,t,n=""){try{return e(...t)}catch(i){let r=n?` \`${n}\``:"";yp(`Uncaught exception in user callback${r}`,i)}}function Dd(e,t="and",n=String,i=1/0){if(e.length===0)return"";if(e.length===1)return n(e[0]);e=e.map(n);let r=e.pop();if(e.length>=i){let o=e.length-(i-1);return`${e.slice(0,i-1).join(", ")}, and ${o} more ${t} ${r}`}return`${e.join(", ")} ${t} ${r}`}function bw(e,t=1/0){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}let n=JSON.stringify(e)??typeof e;return n.length>t?`${n.slice(0,t)}... (+${n.length-t} characters)`:n}function fL(e){let t=1;for(let n=0;n<e.length;n++)e.charCodeAt(n)===10&&t++;return t}function NY(e,t){if(e===t)return 0;let[n,i]=e.length<t.length?[e,t]:[t,e],r=n.length,o=i.length,s=new Array(r+1).fill(0).map((l,c)=>c),a=new Array(r+1);for(let l=1;l<=o;l++){a[0]=l;for(let c=1;c<=r;c++){let u=i[l-1]===n[c-1]?0:1;a[c]=Math.min(s[c]+1,a[c-1]+1,s[c-1]+u)}[s,a]=[a,s]}return s[r]}function pL(e){return e.replace(OY,(t,n)=>(n>0?"-":"")+t.toLowerCase())}var OY=/[A-Z]+(?![a-z])|[A-Z]/g;function Mp(e){return Ie(e)?e.map(t=>t.text).join(""):e??""}var Pr=Symbol("description"),gL=Symbol("required"),Cb=Symbol("marked"),mL=Symbol("undocumented"),vp=Symbol("union"),LY=[["placement","position"],["padding","spacing","gap"],["color","fill","stroke"],["whisker","wick"],["nodeClick","seriesNodeClick"],["nodeDoubleClick","seriesNodeDoubleClick"],["src","url"]].reduce((e,t)=>{for(let n of t)e.set(n.toLowerCase(),new Set(t.filter(i=>i!==n)));return e},new Map),_b=(e=>(e.Invalid="invalid",e.Required="required",e.Unknown="unknown",e))(_b||{});function bp(e,t){return nt(t)?`${e}[${t}]`:e?`${e}.${t}`:t}var ia=class{constructor(e,t,n,i,r){this.type=e,this.description=t,this.value=n,this.path=i,this.key=r}setUnionType(e,t){if(this.path.startsWith(t)){let n=this.path.slice(t.length);this.altPath=`${t}[type=${e}]${n}`}}getPrefix(){let{altPath:e=this.path,key:t}=this;return!e&&!t?"Value":`Option \`${t?bp(e,t):e}\``}toString(){let{description:e="unknown",type:t,value:n}=this;return t==="required"&&n==null?`${this.getPrefix()} is required and has not been provided; expecting ${e}, ignoring.`:`${this.getPrefix()} cannot be set to \`${bw(n,50)}\`; expecting ${e}, ignoring.`}},kb=class extends ia{constructor(e,t,n,i){super("unknown",void 0,t,n,i),this.suggestions=e,this.key=i}getPrefix(){return`Unknown option \`${bp(this.altPath??this.path,this.key)}\``}getPostfix(){let e=Dd(RY(this.key,this.suggestions),"or",t=>`\`${t}\``);return e?`; Did you mean ${e}? Ignoring.`:", ignoring."}toString(){return`${this.getPrefix()}${this.getPostfix()}`}};function Dn(e,t,n=""){if(!yt(e))return{cleared:null,invalid:[new ia("required","an object",e,n)]};let i={},r=[],o=new Set(Object.keys(e)),s=[];if(vp in t){let l=Object.keys(t),c=t[vp];if(e.type!=null&&l.includes(e.type)||e.type==null&&c!=null){let a=e,{type:u=c}=a,d=Vt(a,["type"]),h=Dn(d,t[u],n);Object.assign(i,{type:u},h.cleared);for(let f of h.invalid)f.setUnionType(u,n);r.push(...h.invalid)}else{let u=Dd(l,"or",d=>`'${d}'`);r.push(new ia("required",`a keyword such as ${u}`,e.type,n,"type"))}return{cleared:i,invalid:r}}for(let l of Object.keys(t)){let c=t[l],u=c[gL],d=e[l];if(o.delete(l),typeof d>"u"&&(c[mL]||s.push(l),!u))continue;let h=bp(n,l);if(No(c)){let p=c(d,{options:e,path:h});if(typeof p=="object"){if(r.push(...p.invalid),p.valid){i[l]=p.cleared;continue}else if(Tc(p.invalid,h))continue}else if(p){i[l]=d;continue}r.push(new ia(u?"required":"invalid",c[Pr],d,n,l))}else{let f=Dn(d,c,h);f.cleared!=null&&(i[l]=f.cleared),r.push(...f.invalid)}}for(let l of o){let c=e[l];typeof c>"u"||r.push(new kb(s,c,n,l))}return{cleared:i,invalid:r}}function RY(e,t,n=2){let i=[],r=e.toLowerCase(),o=LY.get(r);for(let s of t){let a=s.toLowerCase();(o?.has(s)||a.includes(r)||NY(r,a)<=n)&&i.push(s)}return i}function rt(e,t){if(No(e)){let i=function(r,o){return e(r,o)};var n=i;return i[Pr]=t,i}else return I(g({},e),{[Pr]:t})}function Q(e){return Object.assign(No(e)?(t,n)=>e(t,n):Jt(e),{[gL]:!0,[Pr]:e[Pr]})}function ye(e){return Object.assign(No(e)?(t,n)=>e(t,n):Jt(e),{[mL]:!0,[Pr]:e[Pr]})}var Jt=(e,t="an object")=>rt((n,i)=>{let r=Dn(n,e,i.path);return{valid:!Tc(r.invalid,i.path),cleared:r.cleared,invalid:r.invalid}},t),wc=(e,t,n)=>I(g({},e),{[Pr]:t,[vp]:n}),At=(...e)=>rt((t,n)=>{let i=[];for(let r of e){let o=r(t,n);if(typeof o=="object"){if(i.push(...o.invalid),!o.valid)return{valid:!1,cleared:t,invalid:i};t=o.cleared}else if(!o)return!1}return{valid:!0,cleared:t,invalid:i}},e.map(t=>t[Pr]).filter(Boolean).join(" and ")),Se=(...e)=>rt((t,n)=>{for(let i of e){let r=i(t,n);if(typeof r=="object"?r.valid:r)return r}return!1},e.map(t=>t[Pr]).filter(Boolean).join(" or ")),Eb=e=>nt(e)||Tb(e),PY=e=>ra(e)||(nt(e)||nn(e))&&Tb(new Date(e)),Xi=rt(Ie,"an array"),T=rt(_Y,"a boolean"),ut=rt(No,"a function"),K=rt(kY,"a color string"),to=rt(PY,"a date"),me=rt(Mc,"a defined value"),F=rt(nt,"a number"),Cc=rt(yt,"an object"),R=rt(nn,"a string"),Nb=rt(e=>typeof HTMLElement>"u"||e instanceof HTMLElement,"an html element"),Oo=(e,t=1/0)=>{let n;return t===1/0?n=`an array of at least ${e} items`:e===t?n=`an array of exactly ${e} items`:e===0?n=`an array of no more than ${t} items`:n=`an array of at least ${e} and no more than ${t} items`,rt(i=>Ie(i)&&i.length>=e&&i.length<=t,n)},yL=(e,t=1/0)=>{let n;return t===1/0?n=`a string of at least ${e} characters`:e===t?n=`an string of exactly ${e} characters`:e===0?n=`an string of no more than ${t} characters`:n=`an string of at least ${e} and no more than ${t} characters`,rt(i=>nn(i)&&i.length>=e&&i.length<=t,n)},vL=(e,t=!0)=>rt(n=>nt(n)&&(n>e||t&&n===e),`a number greater than ${t?"or equal to ":""}${e}`),FY=(e,t)=>rt(n=>nt(n)&&n>=e&&n<=t,`a number between ${e} and ${t} inclusive`),A=vL(0),Ec=vL(0,!1),oe=FY(0,1),Ji=e=>rt((t,{options:n})=>!Eb(t)||!Eb(n[e])||t<n[e],`the value to be less than \`${e}\``),er=e=>rt((t,{options:n})=>!Eb(t)||!Eb(n[e])||t>n[e],`the value to be greater than \`${e}\``);function H(...e){yt(e[0])&&(e=Object.values(e[0]));let t=Dd(e,"or",n=>`'${n}'`);return rt(n=>e.includes(n),`a keyword such as ${t}`)}var ot=e=>rt(t=>e===t,`the value ${JSON.stringify(e)}`);var he=(e,t,n=!0)=>rt((i,r)=>{if(!Ie(i))return!1;let o=n,s=[],a=[],l=c=>o=n?o&&c:o||c;if(i.length===0)return{valid:!0,cleared:s,invalid:a};for(let c=0;c<i.length;c++){let u=i[c],d=e(u,{options:u,path:`${r.path}[${c}]`});typeof d=="object"?(o=l(d.valid),a.push(...d.invalid),d.cleared!=null&&s.push(d.cleared)):(o=l(d),d&&s.push(u))}return{valid:o,cleared:o||!n?s:null,invalid:a}},t??`${e[Pr]} array`),en=(e,t="an object array")=>rt((n,i)=>{if(!Ie(n))return!1;let r=[],o=[];for(let s=0;s<n.length;s++){let a=`${i.path}[${s}]`,l=Dn(n[s],e,a);Tc(l.invalid,a)||r.push(l.cleared),o.push(...l.invalid)}return{valid:!0,cleared:r,invalid:o}},t),oa=(e,t)=>rt((n,i)=>No(n)?Cb in n?!0:{valid:!0,cleared:Object.assign((...o)=>{let s=hL(n,o);if(s==null)return;let a=e(s,{options:s,path:""});if(typeof a=="object"){if(a.invalid.forEach(bL(i,t??e[Pr])),a.valid)return a.cleared}else{if(a)return s;yp(`Callback \`${i.path}\` returned an invalid value \`${bw(s,50)}\`; expecting ${t??e[Pr]}, ignoring.`)}},{[Cb]:!0}),invalid:[]}:!1,"a function"),_t=(e,t="an object")=>rt((n,i)=>No(n)?Cb in n?!0:{valid:!0,cleared:Object.assign((...o)=>{let s=hL(n,o,i.path);if(s==null)return;let a=Dn(s,e);return a.invalid.forEach(bL(i,t)),a.cleared},{[Cb]:!0}),invalid:[]}:!1,"a function");function Tc(e,t){return e.some(n=>n.type==="required"&&n.path===t)}function bL(e,t){return n=>{if(n instanceof kb)return yp(`Callback \`${e.path}\` returned an unknown property \`${bp(n.path,n.key)}\`${n.getPostfix()}`);let i=bw(n.value,50);yp(n.key?`Callback \`${e.path}\` returned an invalid property \`${bp(n.path,n.key)}\`: \`${i}\`; expecting ${n.description}, ignoring.`:`Callback \`${e.path}\` returned an invalid value \`${i}\`; expecting ${t??n.description}, ignoring.`)}}var Id=e=>{if(!yt(e))return!1;let t=Object.keys(e);return t.length===1&&t[0].startsWith("$")},jY=Jt({color:K,stop:oe},""),xw=rt(e=>{let t=-1/0;for(let n of e)if(n?.stop!=null){if(n.stop<t)return!1;t=n.stop}return!0},"color stops to be defined in ascending order"),Sw=At(Oo(2),he(jY),xw),Mw=H("axis","item","series"),Ob=Jt({type:Q(ot("gradient")),colorStops:Q(Sw),rotation:F,gradient:ye(H("linear","radial","conic")),bounds:ye(Mw),reverse:ye(T)},"a gradient object with color stops"),W={stroke:K,strokeWidth:A,strokeOpacity:oe},VY=Jt({type:Q(ot("gradient")),gradient:Q(H("linear","radial","conic")),bounds:Q(Mw),colorStops:Q(Se(Sw,At(Oo(2),he(K)))),rotation:Q(F),reverse:Q(T)}),BY=Jt({type:Q(ot("pattern")),pattern:Q(H("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),path:yL(2),width:Q(A),height:Q(A),fill:Q(K),fillOpacity:Q(oe),backgroundFill:Q(K),backgroundFillOpacity:Q(oe),padding:Q(A),rotation:Q(F),scale:Q(A),stroke:Q(K),strokeWidth:Q(A),strokeOpacity:Q(oe)}),zY=Jt({type:Q(ot("image")),url:R,width:A,height:A,rotation:Q(F),backgroundFill:Q(K),backgroundFillOpacity:oe,fit:Q(H("stretch","contain","cover")),repeat:Q(H("repeat","repeat-x","repeat-y","no-repeat"))}),HY=wc({gradient:{colorStops:Sw,rotation:F,gradient:ye(H("linear","radial","conic")),bounds:ye(Mw),reverse:ye(T)},pattern:I(g({pattern:H("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),path:yL(2),width:A,height:A,rotation:F,scale:A,fill:K,fillOpacity:oe,backgroundFill:K,backgroundFillOpacity:oe},W),{padding:ye(A)}),image:{url:Q(R),backgroundFill:K,backgroundFillOpacity:oe,width:A,height:A,fit:H("stretch","contain","cover","none"),repeat:H("repeat","repeat-x","repeat-y","no-repeat"),rotation:F}},"a color object"),Ni=Se(K,Jt(HY,"a color object")),J={fill:Ni,fillOpacity:oe};J.fillGradientDefaults=ye(VY);J.fillPatternDefaults=ye(BY);J.fillImageDefaults=ye(zY);var ie={lineDash:he(A),lineDashOffset:F},no=I(g(g(g({},J),W),ie),{opacity:oe,cornerRadius:A}),sa=I(g(g({},W),ie),{opacity:oe}),wt=I(g(g(g({},J),W),ie),{opacity:oe});function Lb(e){return{enabled:T,range:H("tooltip","node"),highlightedItem:e,unhighlightedItem:e}}function Pt(e,t){return{enabled:T,range:H("tooltip","node"),highlightedItem:e,unhighlightedItem:e,highlightedSeries:t,unhighlightedSeries:t,bringToFront:T}}var eL=Jt({googleFont:R},"google font"),Rb=Se(R,Id,eL,he(Se(R,eL))),st={color:K,fontFamily:Rb,fontSize:A,fontStyle:H("normal","italic","oblique"),fontWeight:Se(A,H("normal","bold","bolder","lighter"))},UY=Jt({top:F,right:F,bottom:F,left:F},"padding object"),Dp=Se(F,UY),Ip={enabled:T,stroke:K,strokeWidth:A,strokeOpacity:oe},Oi=g({border:g({},Ip),cornerRadius:F,padding:Dp},J);function xL(e,t,n=1/0){let i=t,r=n,o=e%180*(Math.PI/180),s=Math.abs(Math.sin(o)),a=Math.abs(Math.cos(o));if(s===0)return{width:i,height:r};if(a===0)return{width:r,height:i};if(!isFinite(r)){let c=a/s,u=i/(a+c*s);return{width:u,height:c*u}}let l=a*a-s*s;if(l===0){let c=Math.min(i,r)/Math.SQRT2;return{width:c,height:c}}return{width:Math.abs((i*a-r*s)/l),height:Math.abs((r*a-i*s)/l)}}function Ac(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function SL(e){return Array.from(new Set(e))}function wd(e,t){return e.reduce((n,i)=>{let r=t(i);return n[r]??(n[r]=[]),n[r].push(i),n},{})}function dr(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(Array.isArray(e[n])&&Array.isArray(t[n])){if(!dr(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function Lo(e,t,n=0){if(e.length===0)return[];let i=[];for(let r=0;r<t;r++)i.push(e.at((r+n)%e.length));return i}function ML(e,t){let n=new Map;return t.forEach((i,r)=>{n.set(i,r)}),e.sort((i,r)=>{let o=n.get(i)??1/0,s=n.get(r)??1/0;return o-s})}function DL(e,t){let n=0;for(;n<e.length&&t(e[n]);)n+=1;let i=n;i!==0&&e.splice(0,i)}function IL(e,t){let n=e.length-1;for(;n>=0&&t(e[n]);)n-=1;let i=e.length-1-n;i!==0&&e.splice(e.length-i,i)}var Dw=class{constructor(){this.queue=[]}await(e=50){return new Promise(t=>{let n=()=>{clearTimeout(r),t(!0)},r=setTimeout(()=>{let o=this.queue.indexOf(n);o<0||(this.queue.splice(o,1),t(!1))},e);this.queue.push(n)})}notify(){this.queue.splice(0).forEach(e=>e())}};function Iw(e=0){return new Promise(t=>{setTimeout(t,e)})}function*rl(...e){for(let t of e)yield*Du(t)}function wL(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}function Cd(e){for(let t of e)return t;throw new Error("AG Charts - no first() value found")}function*di(e){let t=[void 0,void 0];for(let n of Object.keys(e))t[0]=n,t[1]=e[n],yield t}function il(e){return e==="true"}function GY(e){return Number(e)}function Rr(e){return e}var $Y={role:Rr,"aria-checked":il,"aria-controls":Rr,"aria-describedby":Rr,"aria-disabled":il,"aria-expanded":il,"aria-haspopup":Rr,"aria-hidden":il,"aria-label":Rr,"aria-labelledby":Rr,"aria-live":Rr,"aria-orientation":Rr,"aria-selected":il,"data-focus-override":il,"data-focus-visible-override":il,"data-preventdefault":il,class:Rr,for:Rr,id:Rr,tabindex:GY,title:Rr,placeholder:Rr};function Ee(e,t,n){n==null||n===""||n===""?e?.removeAttribute(t):e?.setAttribute(t,n.toString())}function ol(e,t){if(t!=null)for(let[n,i]of di(t))n!=="class"&&Ee(e,n,i)}function Ms(e,t,n){if(!(e instanceof HTMLElement))return;let i=e.getAttribute(t);return i===null?n:$Y[t]?.(i)??void 0}function hr(e,t,n){e!=null&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n.toString()))}function CL(e,t){for(let[n,i]of di(t))hr(e,n,i)}function Pb(e,t,n,i,r){return t<e.x+e.width&&t+i>e.x&&n<e.y+e.height&&n+r>e.y}function Ed(e,t,n,i=0,r=0){return t>=e.x&&t+i<=e.x+e.width&&n>=e.y&&n+r<=e.y+e.height}function Td(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ro(e,t,n){if(e>t)return;let i;for(;t>=e;){let r=Math.floor((t+e)/2);n(r)?(i=r,e=r+1):t=r-1}return i}function aa(e,t,n){if(e>t)return;let i;for(;t>=e;){let r=Math.floor((t+e)/2);n(r)?(i=r,t=r-1):e=r+1}return i}var EL=class{constructor(e){this.getter=e}get(){let e=this.result?.deref();return e||(e=this.getter(),this.result=new WeakRef(e),e)}clear(){this.result=void 0}},Be=class{constructor(){this.callbacks=new Set}flush(){for(let e of this.callbacks)e();this.callbacks.clear()}merge(e){for(let t of e.callbacks)this.callbacks.add(t)}register(...e){for(let t of e)t&&this.callbacks.add(t)}};function TL(e,t){let n=Math.max(e.length,t.length),i=new Set,r=new Set;for(let o=0;o<n;o++){let s=e[o],a=t[o];s!==a&&(r.has(a)?r.delete(a):a&&i.add(a),i.has(s)?i.delete(s):s&&r.add(s))}return{changed:i.size>0||r.size>0,added:i,removed:r}}function se(e,t,n){return Math.min(n,Math.max(e,t))}function AL(e,t,n=1e-10){return e>=t[0]-n&&e<=t[1]+n}function Qi(e,t,n=1e-10){return e===t||Math.abs(e-t)<n}function Ad(e){return Math.sign(e)===-1||Object.is(e,-0)}function _L(e){return e%1===0}function ww(e,t=2){let n=10**t;return Math.round(e*n)/n}function kL(e,t){return Math.floor(e%t+(e<0?Math.abs(t):0))}function _d(e){if(Math.floor(e)===e)return 0;let t=String(e),n=0;if(e<1e-6||e>=1e21){let r;[t,r]=t.split("e"),r!=null&&(n=Number(r))}let i=t.split(".")[1]?.length??0;return Math.max(i-n,0)}function NL(e){return Array.isArray(e)&&e.length>=2&&e.every(nt)}function wb(e){return Array.isArray(e)&&e.length>=2&&e.every(NL)}function WY(e){let t=e[0],n=e[e.length-1];return Qi(t[0],n[0],.001)&&Qi(t[1],n[1],.001)}function tL(e){return Array.isArray(e)&&e.every(wb)&&e.every(WY)}function OL(e){if(e===null)return!0;if(!yt(e)||e.type==null)return!1;let{type:t,coordinates:n}=e;switch(t){case"GeometryCollection":return Array.isArray(e.geometries)&&e.geometries.every(OL);case"MultiPolygon":return Array.isArray(n)&&n.every(tL);case"Polygon":return tL(n);case"MultiLineString":return Array.isArray(n)&&n.every(wb);case"LineString":return wb(n);case"MultiPoint":return wb(n);case"Point":return NL(n);default:return!1}}function YY(e){return yt(e)&&e.type==="Feature"&&OL(e.geometry)}function ZY(e){return yt(e)&&e.type==="FeatureCollection"&&Array.isArray(e.features)&&e.features.every(YY)}var LL=rt(ZY,"a GeoJSON object"),RL=class{constructor(e,t){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[],this.cachedNeighboursEdge=e,this.processedEdge=t}clear(){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}addVertex(e){let t=new qY(e);return this._vertexCount++,t}addEdge(e,t,n){n===this.cachedNeighboursEdge?e.updateCachedNeighbours().set(t.value,t):n===this.processedEdge&&(this.pendingProcessingEdgesFrom.push(e),this.pendingProcessingEdgesTo.push(t));let{edges:i}=e,r=i.get(n);r?r.indexOf(t)===-1&&r.push(t):i.set(n,[t])}removeVertex(e){this._vertexCount--;let t=e.edges;if(t){for(let[n,i]of t)this._vertexCount-=i.length;e.clear()}}removeEdge(e,t){for(let[n,i]of e.edges){let r=i.indexOf(t);i.splice(r,1),i.length===0&&e.edges.delete(n)}}removeEdges(e,t){e.edges.delete(t)}getVertexValue(e){return e.value}*neighbours(e){for(let[t,n]of e.edges)for(let i of n)yield i}*neighboursAndEdges(e){for(let[t,n]of e.edges)for(let i of n)yield[i,t]}neighboursWithEdgeValue(e,t){return e.edges.get(t)}findNeighbour(e,t){return e.edges.get(t)?.[0]}findNeighbourValue(e,t){let n=this.findNeighbour(e,t);if(n)return this.getVertexValue(n)}findNeighbourWithValue(e,t,n){let i=n==null?this.neighbours(e):this.neighboursWithEdgeValue(e,n);if(i){for(let r of i)if(this.getVertexValue(r)===t)return r}}findVertexAlongEdge(e,t,n){if(n===this.cachedNeighboursEdge){let r;for(let o of t)if(r=(r??e).readCachedNeighbours()?.get(o),!r)return;return r}if(t.length===0)return;let i=e;for(let r of t){let o=i?this.neighboursWithEdgeValue(i,n):void 0;if(!o)return;i=o.find(s=>s.value===r)}return i}adjacent(e,t){for(let[n,i]of e.edges)if(i.includes(t))return!0;return!1}},qY=class{constructor(e){this.value=e,this.edges=new Map}readCachedNeighbours(){return this._cachedNeighbours}updateCachedNeighbours(){return this._cachedNeighbours??(this._cachedNeighbours=new Map),this._cachedNeighbours}clear(){this.edges.clear(),this._cachedNeighbours?.clear()}},nL=new Map,nbe=Symbol("ElementID"),KY=1;function In(e){let t=e.constructor,n=Object.hasOwn(t,"className")?t.className:t.name;if(!n)throw new Error(`The ${t} is missing the 'className' property.`);let i=(nL.get(n)??0)+1;return nL.set(n,i),`${n}-${i}`}function _c(){return`ag-charts-${KY++}`}function Fb(){return crypto.randomUUID?.()??QY()}function QY(){let e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let n=0;n<e.length;n++)(n===4||n===6||n===8||n===10)&&(t+="-"),t+=e[n].toString(16).padStart(2,"0");return t}var PL=(e,t,n)=>{let i=e,r=i;for(let o of t)if(i==null||n(i.value,o)>0)i={value:o,next:i},r=i;else{for(r=r;r.next!=null&&n(r.next.value,o)<=0;)r=r.next;r.next={value:o,next:r.next}}return i},FL=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,jL=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function VL(e){if(!nn(e))return!1;let t=jL.exec(e);return FL.test(t?t[2]:e)}function wp(e){let t,n,i=jL.exec(e);i&&([,t,e,n]=i);let r=FL.exec(e);if(!r){P.warnOnce(`The number formatter is invalid: ${e}`);return}let[,o,s,a,l,c,u,d,h,f,p]=r;return{fill:o,align:s,sign:a,symbol:l,zero:c,width:parseInt(u),comma:d,precision:parseInt(h),trim:!!f,type:p,prefix:t,suffix:n}}function jb(e){let t=typeof e=="string"?wp(e):e;if(t==null)return;let{fill:n,align:i,sign:r="-",symbol:o,zero:s,width:a,comma:l,type:c,prefix:u="",suffix:d="",precision:h}=t,{trim:f}=t,p=h==null||isNaN(h),m;if(!c)m=eo.g,f=!0;else if(c in eo&&c in Sd)m=p?Sd[c]:eo[c];else if(c in eo)m=eo[c];else if(c in Sd)m=Sd[c];else throw new Error(`The number formatter type is invalid: ${c}`);let b=c?6:12,v;return p||(v=h),(x,M)=>{let D=m(x,v??M??b);return f&&(D=e8(D)),l&&(D=t8(D,l)),D=i8(x,D,r),o&&o!=="#"&&(D=`${o}${D}`),o==="#"&&c==="x"&&(D=`0x${D}`),c==="s"&&(D=`${D}${n8(x)}`),(c==="%"||c==="p")&&(D=`${D}%`),a!=null&&!isNaN(a)&&(D=r8(D,a,n??s,i)),D=`${u}${D}${d}`,D}}var Sd={b:e=>Ib(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>Ib(e).toString(8),x:e=>Ib(e).toString(16),X:e=>Sd.x(e).toUpperCase(),n:e=>Sd.d(e),"%":e=>`${Ib(e*100).toFixed(0)}`},eo={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>eo.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>eo.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";let n=Math.abs(e),i=Math.floor(Math.log10(n));return i>=-4&&i<t?n.toFixed(t-1-i):n.toExponential(t-1)},G:(e,t)=>eo.g(e,t).toUpperCase(),n:(e,t)=>eo.g(e,t),p:(e,t)=>eo.r(e*100,t),r:(e,t)=>{if(e===0)return"0";let n=Math.abs(e),r=Math.floor(Math.log10(n))-(t-1);if(r<=0)return n.toFixed(-r);let o=10**r;return(Math.round(n/o)*o).toFixed()},s:(e,t)=>{let n=HL(e);return eo.r(e/10**n,t)},"%":(e,t)=>eo.f(e*100,t)},BL=-24,zL=24,XY={[BL]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[zL]:"Y"},JY="\u2212";function Ib(e){return Math.floor(Math.abs(e))}function e8(e){if(!e.endsWith("0")||e.indexOf(".")===-1)return e;let t=e.length-1;for(;t>0;)if(e[t]=="0")t-=1;else if(e[t]=="."){t-=1;break}else break;return e.substring(0,t+1)}function t8(e,t){let n=e.indexOf(".");n<0&&(n=e.length);let i=e.substring(0,n).split(""),r=e.substring(n);for(let o=i.length-3;o>0;o-=3)i.splice(o,0,t);return`${i.join("")}${r}`}function n8(e){return XY[HL(e)]}function HL(e){return se(BL,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,zL)}function i8(e,t,n=""){if(n==="(")return e>=0?t:`(${t})`;let i=n==="+"?"+":"";return`${e>=0?i:JY}${t}`}function r8(e,t,n=" ",i=">"){let r=e;if(i===">"||!i)r=r.padStart(t,n);else if(i==="<")r=r.padEnd(t,n);else if(i==="^"){let o=Math.max(0,t-r.length),s=Math.ceil(o/2),a=Math.floor(o/2);r=r.padStart(s+r.length,n),r=r.padEnd(a+r.length,n)}return r}var PP=Object.defineProperty,o8=Object.getOwnPropertyDescriptor,Ls=(e,t)=>{for(var n in t)PP(e,n,{get:t[n],enumerable:!0})},y=(e,t,n,i)=>{for(var r=i>1?void 0:i?o8(t,n):t,o=e.length-1,s;o>=0;o--)(s=e[o])&&(r=(i?s(t,n,r):s(r))||r);return i&&r&&PP(t,n,r),r},Wx=class{constructor(){this.cleanup=new Be}destroy(){this.cleanup.flush()}},s8=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...e){for(let t of e){this.registerDependencies(t);let n=this.modules.find(i=>t.type===i.type&&("optionsKey"in t&&"optionsKey"in i?t.optionsKey===i.optionsKey:!0)&&t.identifier===i.identifier);if(n){if(t.packageType==="enterprise"&&n.packageType==="community"){let i=this.modules.indexOf(n);this.modules.splice(i,1,t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}else this.modules.push(t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){let t=new Set,n=this.modules.filter(o=>e.includes(o.type)),i=o=>{let s=this.dependencies.get(o);return s?.flatMap(i).concat(s)??[]},r=[];for(let o of n){let s="optionsKey"in o?o.optionsKey:o.contextKey;if(!t.has(s)){for(let a of i(s)){if(t.has(a))continue;let l=this.modulesByOptionKey.get(a);if(!l){r.push(a);continue}e.includes(l.type)&&(yield l,t.add(a))}yield o,t.add(s)}}if(r.length>0)throw new Error(`Could not resolve module dependencies: ${r}`)}registerDependencies(e){if(e.dependencies==null||e.dependencies.length===0)return;let t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},_s=new s8,Yx=Symbol("interpolate"),vx=e=>e[Yx]!=null;function Zx(e,t,n,i=1/0){let r={nearest:void 0,distanceSquared:i};for(let o of n){let s=o.distanceSquared(e,t);if(s===0)return{nearest:o,distanceSquared:0};s<r.distanceSquared&&(r.nearest=o,r.distanceSquared=s)}return r}function a8(e,t,n,i=1/0){let{x:r=e,y:o=t}=n.transformPoint?.(e,t)??{},s={nearest:void 0,distanceSquared:i};for(let a of n.children){let{nearest:l,distanceSquared:c}=a.nearestSquared(r,o,s.distanceSquared);if(c===0)return{nearest:l,distanceSquared:c};c<s.distanceSquared&&(s.nearest=l,s.distanceSquared=c)}return s}var Zp=class Fd{constructor(t,n,i,r){this.x=t,this.y=n,this.width=i,this.height=r}static fromDOMRect({x:t,y:n,width:i,height:r}){return new Fd(t,n,i,r)}static merge(t){let n=1/0,i=1/0,r=-1/0,o=-1/0;for(let s of t)s.x<n&&(n=s.x),s.y<i&&(i=s.y),s.x+s.width>r&&(r=s.x+s.width),s.y+s.height>o&&(o=s.y+s.height);return new Fd(n,i,r-n,o-i)}static nearestBox(t,n,i){return Zx(t,n,i)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){let{x:t,y:n,width:i,height:r}=this;return new Fd(t,n,i,r)}equals(t){return Td(this,t)}containsPoint(t,n){return Ed(this,t,n)}intersection(t){if(!this.collidesBBox(t))return;let n=se(t.x,this.x,t.x+t.width),i=se(t.y,this.y,t.y+t.height),r=se(t.x,this.x+this.width,t.x+t.width),o=se(t.y,this.y+this.height,t.y+t.height);return new Fd(n,i,r-n,o-i)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,n){if(this.containsPoint(t,n))return 0;let i=t-se(this.x,t,this.x+this.width),r=n-se(this.y,n,this.y+this.height);return i*i+r*r}shrink(t,n){if(typeof t=="number")this.applyMargin(t,n);else for(let i of Object.keys(t)){let r=t[i];typeof r=="number"&&this.applyMargin(r,i)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(t,n){if(typeof t=="number")this.applyMargin(-t,n);else for(let i of Object.keys(t)){let r=t[i];typeof r=="number"&&this.applyMargin(-r,i)}return this}applyMargin(t,n){switch(n){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=t*2;break;case"horizontal":this.x+=t,this.width-=t*2;break;case void 0:this.x+=t,this.y+=t,this.width-=t*2,this.height-=t*2;break}}translate(t,n){return this.x+=t,this.y+=n,this}[Yx](t,n){return new Fd(this.x*(1-n)+t.x*n,this.y*(1-n)+t.y*n,this.width*(1-n)+t.width*n,this.height*(1-n)+t.height*n)}};Zp.zero=Object.freeze(new Zp(0,0,0,0));Zp.NaN=Object.freeze(new Zp(NaN,NaN,NaN,NaN));var re=Zp,l8=2e3,UL=Date.now(),c8=()=>{let e=Date.now()-UL;if(e>l8){let t=(Math.floor(e/100)/10).toFixed(1);P.log(`**** ${t}s since last log message ****`)}UL=Date.now()},We={create(...e){return Object.assign((...n)=>{We.check(...e)&&(typeof n[0]=="function"&&(n=Ac(n[0]())),c8(),P.log(...n))},{check:()=>We.check(...e),group:(n,i)=>We.check(...e)?P.logGroup(n,i):i()})},check(...e){return e.length===0&&e.push(!0),Ac(Ce("agChartsDebug")).some(n=>e.includes(n))},inDevelopmentMode(e){if(We.check("dev"))return e()}};function FP({context:e,pixelRatio:t,width:n,height:i}){e.save();try{e.resetTransform(),e.clearRect(0,0,Math.ceil(n*t),Math.ceil(i*t))}finally{e.restore()}}function jP(e){if(We.check("canvas")){let t=e.save.bind(e),n=e.restore.bind(e),i=0;Object.assign(e,{save(){t(),i++},restore(){if(i===0)throw new Error("AG Charts - Unable to restore() past depth 0");n(),i--},verifyDepthZero(){if(i!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${i}`)}})}}function GL(e,t,n){return[Math.floor(e*n),Math.floor(t*n)]}var rE=class{constructor(e){let{width:t,height:n,pixelRatio:i,willReadFrequently:r=!1}=e;this.width=t,this.height=n,this.pixelRatio=i;let[o,s]=GL(t,n,i);this.canvas=new OffscreenCanvas(o,s),this.context=this.canvas.getContext("2d",{willReadFrequently:r}),this.context.setTransform(i,0,0,i,0,0),jP(this.context)}drawImage(e,t=0,n=0){return e.drawImage(this.canvas,t,n)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,n){if(!(e>0&&t>0))return;let{canvas:i,context:r}=this;if(e!==this.width||t!==this.height||n!==this.pixelRatio){let[o,s]=GL(e,t,n);i.width=o,i.height=s}r.setTransform(n,0,0,n,0,0),this.width=e,this.height=t,this.pixelRatio=n}clear(){FP(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},gC=Symbol("BREAK"),Bp="__decorator_config",Vb="__decorator_accessors";function u8(e,t){oE(e,t).optional=!0}function oE(e,t){if(Object.getOwnPropertyDescriptor(e,Bp)==null&&Object.defineProperty(e,Bp,{value:{}}),Object.getOwnPropertyDescriptor(e,Vb)==null){let u=Object.getPrototypeOf(e)?.[Vb]?.slice()??[];Object.defineProperty(e,Vb,{value:u})}let n=e[Bp],i=t.toString();if(n[i]!=null)return n[i];n[i]={setters:[],getters:[],observers:[]};let r=Object.getOwnPropertyDescriptor(e,t),o=r?.get,s=r?.set;if(o==null||s==null){let c=e[Vb],u=c.indexOf(t);u===-1&&(u=c.push(t)-1),o??(o=function(){let d=this.__accessors;return d==null&&(d=c.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:d})),d[u]}),s??(s=function(d){let h=this.__accessors;h==null&&(h=c.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:h})),h[u]=d})}return Object.defineProperty(e,t,{set:function(c){let{setters:u,observers:d}=n[i],h;u.some(f=>f.length>2)&&(h=o.call(this));for(let f of u)if(c=f(this,t,c,h),c===gC)return;s.call(this,c);for(let f of d)f(this,c,h)},get:function(){let c=o.call(this);for(let u of n[i].getters)if(c=u(this,t,c),c===gC)return;return c},enumerable:!0,configurable:!1}),n[i]}function Jc(e,t,n){return(i,r)=>{let o=oE(i,r);o.setters.push(e),t&&o.getters.unshift(t),n&&Object.assign(o,n)}}function VP(e){return(t,n)=>{oE(t,n).observers.push(e)}}function qx(e){return typeof e<"u"&&Bp in e}function ml(e){let t=new Set;for(;qx(e);)t.add(e?.[Bp]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(n=>Object.keys(n))}function BP(e){return ml(e).reduce((t,n)=>(t[String(n)]=e[n]??null,t),{})}function Un(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((n,i)=>Un(n,t[i])):$e(e)?$e(t)?sE(e,t,Un):!1:e===t}function sE(e,t,n){if(Object.is(e,t))return!0;for(let i of Object.keys(t))if(!(i in e))return!1;for(let i of Object.keys(e))if(!(i in t)||!n(e[i],t[i]))return!1;return!0}function Dt(...e){let t={};for(let n of e){if(!yt(n))continue;let i=qx(n)?ml(n):Object.keys(n);for(let r of i)$e(t[r])&&$e(n[r])?t[r]=Dt(t[r],n[r]):t[r]??(t[r]=n[r])}return t}function qp(...e){let t={};for(let n of e){if(!yt(n))continue;let i=qx(n)?ml(n):Object.keys(n);for(let r of i)$e(t[r])&&$e(n[r])?t[r]=qp(t[r],n[r]):r in t||(t[r]??(t[r]=n[r]))}return t}function zP(e,...t){return t&&Ie(e)?e.map(n=>Dt(n,...t)):e}function HP(e,t){let n={};for(let[i,r]of di(e))n[i]=t(r,i,e);return n}function ee(e,t){let n=g({},e);for(let i of t)delete n[i];return n}function mC(e,t){if(e==null)return;let n={};for(let i of t)Object.hasOwn(e,i)&&(n[i]=e[i]);return n}function aE(e,t){return(Ie(t)?t:t.split(".")).reduce((i,r)=>i[r],e)}var lE=new Set(["__proto__","constructor","prototype"]);function cE(e,t,n){let i=Ie(t)?t.slice():t.split("."),r=i.pop();if(i.some(s=>lE.has(s)))return;let o=i.reduce((s,a)=>s[a],e);return o[r]=n,o[r]}function yC(e,t,n){if(n===void 0)return t;for(let i of e){let r=n[i];r!==void 0&&(t[i]=r)}return t}function ga(e){return e==null||typeof e!="object"||!$e(e)||(Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{let n=e[t];n!==null&&(typeof n=="object"||typeof n=="function")&&!Object.isFrozen(n)&&ga(n)})),e}function UP(e,t){return $e(e)&&t in e}function d8(e,t){return UP(e,t)&&typeof e[t]=="string"}var mh=(e,t)=>e===t;function Y(e){return function(t,n){let i=`__${n}`;t[n]||h8(t,n,i,e)}}function GP(e){return Y(e)}function Ur(e){return Y(e)}function uE(e){let t=e??{};return t.equals=dr,Y(e)}function h8(e,t,n,i){let{changeCb:r,convertor:o,checkDirtyOnAssignment:s=!1}=i??{},a={changeCb:r,checkDirtyOnAssignment:s,convertor:o},l=g8(n,p8(f8(m8(n,a),a),a),a);Object.defineProperty(e,t,{set:l,get:function(){return this[n]},enumerable:!0,configurable:!0})}function f8(e,t){let{convertor:n}=t;return n?function(i){e.call(this,n(i))}:e}var $P=Symbol("no-change");function p8(e,t){let{changeCb:n}=t;return n?function(i){let r=e.call(this,i);return r!==$P&&n.call(this,this),r}:e}function g8(e,t,n){let{checkDirtyOnAssignment:i}=n;return i?function(r){let o=t.call(this,r);return r?._dirty===!0&&this.markDirty(e),o}:t}function m8(e,t){let{equals:n=mh}=t;return function(i){let r=this[e];return n(i,r)?$P:(this[e]=i,this.onChangeDetection(e),i)}}var Cw=(e,t)=>Math.sign(e-t);function WP(e,t){if(typeof e=="number"&&typeof t=="number")return Cw(e,t);let n=typeof e=="number"?[e]:e,i=typeof t=="number"?[t]:t,r=Math.min(n.length,i.length);for(let o=0;o<r;o+=1){let s=Cw(n[o],i[o]);if(s!==0)return s}return Cw(n.length,i.length)}var YP=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(YP||{}),y8=5,dE=(()=>{let e=class vC{constructor(n){this.serialNumber=vC._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=In(this),this.name=void 0,this.transitionOut=void 0,this.pointerEvents=0,this._datum=void 0,this._previousDatum=void 0,this.scene=void 0,this._debugDirtyProperties=void 0,this.parentNode=void 0,this.cachedBBox=void 0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.batchLevel=0,this.batchDirty=!1,this.name=n?.name,this.tag=n?.tag??NaN,this.zIndex=n?.zIndex??0,this.scene=n?.scene,(n?.debugDirty??vC._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(n,i,r){let o=n?.toSVG();if(o==null||!o.elements.length&&!o.defs?.length)return;let s=St("svg");if(s.setAttribute("width",String(i)),s.setAttribute("height",String(r)),s.setAttribute("viewBox",`0 0 ${i} ${r}`),s.setAttribute("overflow","visible"),o.defs?.length){let a=St("defs");a.append(...o.defs),s.append(a)}return s.append(...o.elements),s.outerHTML}static*extractBBoxes(n,i){for(let r of n)if(!i||r.visible&&!r.transitionOut){let o=r.getBBox();o&&(yield o)}}get datum(){return this._datum}set datum(n){this._datum!==n&&(this._previousDatum=this._datum,this._datum=n)}get previousDatum(){return this._previousDatum}get layerManager(){return this.scene?.layersManager}get imageLoader(){return this.scene?.imageLoader}closestDatum(){for(let{datum:n}of this.traverseUp(!0))if(n!=null)return n}preRender(n,i=1){if(this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=i,this.childNodeCounts.thisComplexity=i,this.batchLevel>0||this.batchDirty)throw new Error("AG Charts - illegal rendering state; batched update in progress");return this.childNodeCounts}isolatedRender(n){n.ctx.save();try{this.render(n)}catch(i){let r=i.errorCount??1;if(r>=y8)throw i.errorCount=r,i;P.warnOnce("Error during rendering",i,i.stack)}finally{n.ctx.restore()}}render(n){let{stats:i}=n;if(this.debugDirtyProperties(),n.debugNodeSearch){let r=this.name??this.id;n.debugNodeSearch.some(o=>typeof o=="string"?o===r:o.test(r))&&(n.debugNodes[this.name??this.id]=this)}i&&(i.nodesRendered++,i.opsPerformed+=this.childNodeCounts.thisComplexity)}setScene(n){this.scene=n}*traverseUp(n){let i=this;for(n&&(yield i);i=i.parentNode;)yield i}isRoot(){return!this.parentNode}removeChild(n){throw new Error(`AG Charts - internal error, unknown child node ${n.name??n.id} in $${this.name??this.id}`)}remove(){this.parentNode?.removeChild(this)}destroy(){this.parentNode?.removeChild(this)}batchedUpdate(n){this.batchLevel++,n(),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1)}setProperties(n){return this.batchLevel++,Object.assign(this,n),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1),this}containsPoint(n,i){return!1}pickNode(n,i){if(this.containsPoint(n,i))return this}pickNodes(n,i,r=[]){return this.containsPoint(n,i)&&r.push(this),r}getBBox(){return this.cachedBBox??(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}onChangeDetection(n){this.markDirty(n)}markDirtyChildrenOrder(){this.cachedBBox=void 0}markDirty(n){if(this.batchLevel>0){this.batchDirty=!0;return}n!=null&&this._debugDirtyProperties&&this.markDebugProperties(n),this.cachedBBox=void 0,this.parentNode?.markDirty()}markDebugProperties(n){let i=this._debugDirtyProperties?.get(n)??[],r=new Error().stack?.split(`
`).filter(o=>o!=="Error"&&!o.includes(".markDebugProperties")&&!o.includes(".markDirty")&&!o.includes("Object.assign ")&&!o.includes(`${this.constructor.name}.`))??"unknown";i.push(r[0].replace(" at ","").trim()),this._debugDirtyProperties?.set(n,i)}debugDirtyProperties(){this._debugDirtyProperties!=null&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((n,i)=>{n.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${i} (${n.length}x)`),n.forEach(r=>console.log(r)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){this.parentNode?.markDirtyChildrenOrder()}toSVG(){}};return e._nextSerialNumber=0,e._debugEnabled=!1,e})();y([Y()],dE.prototype,"visible",2);y([Ur({equals:Un,changeCb:e=>e.onZIndexChange()})],dE.prototype,"zIndex",2);var xa=dE,lo=Math.PI*2,Cp=Math.PI/2;function Nn(e){return e%=lo,e+=lo,e%=lo,e}function v8(e){return e%=lo,e+=lo,e!==lo&&(e%=lo),e}function bx(e){return e%=lo,e<-Math.PI?e+=lo:e>=Math.PI&&(e-=lo),e}function $c(e,t,n){let i=Nn(e),r=Nn(t),o=Nn(n);return r<o?r<=i&&i<=o:r>o?r<=i||i<=o:t!==n}function Ci(e){return e/180*Math.PI}function b8(e){return e/Math.PI*180}function Kx(e,t){return e=Nn(e),t=Nn(t),t-e+(e>t?lo:0)}function ZP(e){let t=Nn(e);return t<=Cp?t/Cp:t<=Math.PI?(Math.PI-t)/Cp:t<=1.5*Math.PI?(t-Math.PI)/Cp:(lo-t)/Cp}function bC(e,t,n){let i=ZP(n);return e*i+t*Math.abs(1-i)}function Sa(e){return e?Nn(Ci(e)):0}var kc=(e,t,n)=>e*(1-n)+t*n,Ew=e=>{let t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4},Tw=e=>{let t=e<0?-1:1,n=Math.abs(e);return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e},x8=(()=>{let e=class Et{constructor(n,i,r,o=1){this.r=se(0,n||0,1),this.g=se(0,i||0,1),this.b=se(0,r||0,1),this.a=se(0,o||0,1)}static validColorString(n){return n.indexOf("#")>=0?!!Et.parseHex(n):n.indexOf("rgb")>=0?!!Et.stringToRgba(n):Et.nameToHex.has(n.toLowerCase())}static fromString(n){if(n.indexOf("#")>=0)return Et.fromHexString(n);let i=Et.nameToHex.get(n.toLowerCase());if(i)return Et.fromHexString(i);if(n.indexOf("rgb")>=0)return Et.fromRgbaString(n);throw new Error(`Invalid color string: '${n}'`)}static parseHex(n){n=n.replace(/ /g,"").slice(1);let i;switch(n.length){case 6:case 8:i=[];for(let r=0;r<n.length;r+=2)i.push(parseInt(`${n[r]}${n[r+1]}`,16));break;case 3:case 4:i=n.split("").map(r=>parseInt(r,16)).map(r=>r+r*16);break}if(i?.length>=3&&i.every(r=>r>=0))return i.length===3&&i.push(255),i}static fromHexString(n){let i=Et.parseHex(n);if(i){let[r,o,s,a]=i;return new Et(r/255,o/255,s/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${n}'`)}static stringToRgba(n){let i=-1,r=-1;for(let l=0;l<n.length;l++){let c=n[l];if(i===-1&&c==="(")i=l;else if(c===")"){r=l;break}}if(i===-1||r===-1)return;let s=n.substring(i+1,r).split(","),a=[];for(let l=0;l<s.length;l++){let c=s[l],u=parseFloat(c);if(!Number.isFinite(u))return;c.indexOf("%")>=0?(u=se(0,u,100),u/=100):l===3?u=se(0,u,1):(u=se(0,u,255),u/=255),a.push(u)}return a}static fromRgbaString(n){let i=Et.stringToRgba(n);if(i){if(i.length===3)return new Et(i[0],i[1],i[2]);if(i.length===4)return new Et(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${n}'`)}static fromArray(n){if(n.length===4)return new Et(n[0],n[1],n[2],n[3]);if(n.length===3)return new Et(n[0],n[1],n[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(n,i,r,o=1){let s=Et.HSBtoRGB(n,i,r);return new Et(s[0],s[1],s[2],o)}static fromHSL(n,i,r,o=1){let s=Et.HSLtoRGB(n,i,r);return new Et(s[0],s[1],s[2],o)}static fromOKLCH(n,i,r,o=1){let s=Et.OKLCHtoRGB(n,i,r);return new Et(s[0],s[1],s[2],o)}static padHex(n){return n.length===1?"0"+n:n}toHexString(){let n="#"+Et.padHex(Math.round(this.r*255).toString(16))+Et.padHex(Math.round(this.g*255).toString(16))+Et.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(n+=Et.padHex(Math.round(this.a*255).toString(16))),n}toRgbaString(n=3){let i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,n);return this.a!==1?(i.push(Math.round(this.a*r)/r),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Et.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(n,i,r){let o=Ew(n),s=Ew(i),a=Ew(r),l=Math.cbrt(.4122214708*o+.5363325363*s+.0514459929*a),c=Math.cbrt(.2119034982*o+.6806995451*s+.1073969566*a),u=Math.cbrt(.0883024619*o+.2817188376*s+.6299787005*a),d=.2104542553*l+.793617785*c-.0040720468*u,h=1.9779984951*l-2.428592205*c+.4505937099*u,f=.0259040371*l+.7827717662*c-.808675766*u,p=Math.atan2(f,h)*180/Math.PI,m=d,b=Math.hypot(h,f),v=p>=0?p:p+360;return[m,b,v]}static OKLCHtoRGB(n,i,r){let o=n,s=i*Math.cos(r*Math.PI/180),a=i*Math.sin(r*Math.PI/180),l=(o+.3963377774*s+.2158037573*a)**3,c=(o-.1055613458*s-.0638541728*a)**3,u=(o-.0894841775*s-1.291485548*a)**3,d=4.0767416621*l-3.3077115913*c+.2309699292*u,h=-1.2684380046*l+2.6097574011*c-.3413193965*u,f=-.0041960863*l-.7034186147*c+1.707614701*u,p=Tw(d),m=Tw(h),b=Tw(f);return[p,m,b]}static RGBtoHSL(n,i,r){let o=Math.min(n,i,r),s=Math.max(n,i,r),a=(s+o)/2,l,c;if(s===o)l=0,c=0;else{let u=s-o;c=a>.5?u/(2-s-o):u/(s+o),s===n?l=(i-r)/u+(i<r?6:0):s===i?l=(r-n)/u+2:l=(n-i)/u+4,l*=60}return[l,c,a]}static HSLtoRGB(n,i,r){if(n=(n%360+360)%360,i===0)return[r,r,r];let o=r<.5?r*(1+i):r+i-r*i,s=2*r-o;function a(d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?s+(o-s)*6*d:d<.5?o:d<.6666666666666666?s+(o-s)*(.6666666666666666-d)*6:s}let l=a(n/360+1/3),c=a(n/360),u=a(n/360-1/3);return[l,c,u]}static RGBtoHSB(n,i,r){let o=Math.min(n,i,r),s=Math.max(n,i,r),a=s===0?0:(s-o)/s,l=0;if(o!==s){let c=s-o,u=(s-n)/c,d=(s-i)/c,h=(s-r)/c;n===s?l=h-d:i===s?l=2+u-h:l=4+d-u,l/=6,l<0&&(l=l+1)}return[l*360,a,s]}static HSBtoRGB(n,i,r){n=(n%360+360)%360/360;let o=0,s=0,a=0;if(i===0)o=s=a=r;else{let l=(n-Math.floor(n))*6,c=l-Math.floor(l),u=r*(1-i),d=r*(1-i*c),h=r*(1-i*(1-c));switch(l>>0){case 0:o=r,s=h,a=u;break;case 1:o=d,s=r,a=u;break;case 2:o=u,s=r,a=h;break;case 3:o=u,s=d,a=r;break;case 4:o=h,s=u,a=r;break;case 5:o=r,s=u,a=d;break}}return[o,s,a]}static mix(n,i,r){return new Et(kc(n.r,i.r,r),kc(n.g,i.g,r),kc(n.b,i.b,r),kc(n.a,i.a,r))}static lighten(n,i){let r=Et.RGBtoOKLCH(n.r,n.g,n.b);return Et.fromOKLCH(se(0,r[0]+i,1),r[1],r[2])}static darken(n,i){let r=Et.RGBtoOKLCH(n.r,n.g,n.b);return Et.fromOKLCH(se(0,r[0]-i,1),r[1],r[2])}static interpolate(n,i){let r=1/(n.length-1),o=n.map(s=>Et.RGBtoOKLCH(s.r,s.g,s.b));return Array.from({length:i},(s,a)=>{let l=a/(i-1),c=n.length<=2?0:Math.min(Math.floor(l*(n.length-1)),n.length-2),u=(l-c*r)/r,d=o[c],h=o[c+1];return Et.fromOKLCH(kc(d[0],h[0],u),kc(d[1],h[1],u),kc(d[2],h[2],u))})}};return e.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]),e})(),zt=x8,qP=(e=>(e[e.Leading=0]="Leading",e[e.Trailing=1]="Trailing",e[e.Interpolate=2]="Interpolate",e))(qP||{}),Qx=class{ticks(e,t,n){}niceDomain(e,t=this.domain){return t}get bandwidth(){}get step(){}get inset(){}},vg=(e,t)=>{let n=Symbol(String(t));e[n]=void 0,Object.defineProperty(e,t,{get(){return this[n]},set(i){this[n]!==i&&(this[n]=i,this.invalid=!0)},enumerable:!0,configurable:!1})},$L=e=>{let t=zt.fromString(e),[n,i,r]=zt.RGBtoOKLCH(t.r,t.g,t.b);return{l:n,c:i,h:r,a:t.a}},Aw=1e-6,WL=e=>e.c<Aw||e.l<Aw||e.l>1-Aw,S8=(e,t,n)=>{n=se(0,n,1);let i;if(WL(e))i=t.h;else if(WL(t))i=e.h;else{let a=e.h,l=t.h,c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),i=a*(1-n)+l*n}let r=e.c*(1-n)+t.c*n,o=e.l*(1-n)+t.l*n,s=e.a*(1-n)+t.a*n;return zt.fromOKLCH(o,r,i,s)},yh=class extends Qx{constructor(){super(...arguments),this.type="color",this.defaultTickCount=0,this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map($L)}update(){let{domain:e,range:t}=this;e.length<2&&(P.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let n=1;n<e.length;n++){let i=e[n-1],r=e[n];if(i>r){P.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((o,s)=>o-s);break}}if(t.length<e.length)for(let n=t.length;n<e.length;n++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map($L)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();let{domain:t,range:n,parsedRange:i}=this,r=t[0],o=t.at(-1),s=n[0],a=n[n.length-1];if(e<=r)return s;if(e>=o)return a;let l,c;if(t.length===2){let h=(e-r)/(o-r),f=1/(n.length-1);l=n.length<=2?0:Math.min(Math.floor(h*(n.length-1)),n.length-2),c=(h-l*f)/f}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);let h=t[l],f=t[l+1];c=(e-h)/(f-h)}let u=i[l],d=i[l+1];return S8(u,d,c).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&P.warnOnce("Expected update to not invalidate scale"))}};y([vg],yh.prototype,"domain",2);y([vg],yh.prototype,"range",2);var Xx=class{constructor(e,t=[],n){this.colorSpace=e,this.stops=t,this.bbox=n,this._cache=void 0}createGradient(e,t,n){let i=this.bbox??t;if(!i.isFinite())return;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(i))return this._cache.gradient;let{stops:r,colorSpace:o}=this;if(r.length===0)return;if(r.length===1)return r[0].color;let s=this.createCanvasGradient(e,i,n);if(s==null)return;let a=o==="oklch",l=.05,c=r[0];s.addColorStop(c.stop,c.color);for(let u=1;u<r.length;u+=1){let d=r[u];if(a){let h=new yh;h.domain=[c.stop,d.stop],h.range=[c.color,d.color];for(let f=c.stop+l;f<d.stop;f+=l)s.addColorStop(f,h.convert(f))}s.addColorStop(d.stop,d.color),c=d}return"createPattern"in s&&(s=s.createPattern()),this._cache={ctx:e,bbox:i,gradient:s},s}toSvg(e){let t=this.bbox??e,n=this.createSvgGradient(t);return this.stops.forEach(({stop:i,color:r})=>{let o=St("stop");o.setAttribute("offset",`${i}`),o.setAttribute("stop-color",`${r}`),n.appendChild(o)}),n}},KP=class extends Xx{constructor(e,t,n=0,i){super(e,t,i),this.angle=n}createCanvasGradient(e,t,n){let{angle:r}=this,o=Sa(r+-90),s=n?.centerX??t.x+t.width*.5,a=n?.centerY??t.y+t.height*.5;return e.createConicGradient(o,s,a)}createSvgGradient(e){return St("linearGradient")}},QP=class extends Xx{constructor(e,t,n=0,i){super(e,t,i),this.angle=n}getGradientPoints(e){let{angle:n}=this,i=Sa(n+90),r=Math.cos(i),o=Math.sin(i),s=e.width,a=e.height,l=e.x+s*.5,c=e.y+a*.5,u=Math.sqrt(a*a+s*s)/2,d=Math.atan2(a,s),h;i<Math.PI/2?h=i:i<Math.PI?h=Math.PI-i:i<1.5*Math.PI?h=i-Math.PI:h=2*Math.PI-i;let f=u*Math.abs(Math.cos(h-d));return{x0:l+r*f,y0:c+o*f,x1:l-r*f,y1:c-o*f}}createCanvasGradient(e,t){let{x0:n,y0:i,x1:r,y1:o}=this.getGradientPoints(t);if(!(isNaN(n)||isNaN(i)||isNaN(r)||isNaN(o)))return e.createLinearGradient(n,i,r,o)}createSvgGradient(e){let{x0:t,y0:n,x1:i,y1:r}=this.getGradientPoints(e),o=St("linearGradient");return o.setAttribute("x1",String(t)),o.setAttribute("y1",String(n)),o.setAttribute("x2",String(i)),o.setAttribute("y2",String(r)),o.setAttribute("gradientUnits","userSpaceOnUse"),o}},M8=class extends Xx{constructor(e,t,n){super(e,t,n)}createCanvasGradient(e,t,n){let i=n?.centerX??t.x+t.width*.5,r=n?.centerY??t.y+t.height*.5,o=n?.innerRadius??0,s=n?.outerRadius??Math.hypot(t.width*.5,t.height*.5)/Math.SQRT2;return e.createRadialGradient(i,r,o,i,r,s)}createSvgGradient(e){let t=e.x+e.width*.5,n=e.y+e.height*.5,i=St("radialGradient");return i.setAttribute("cx",String(t)),i.setAttribute("cy",String(n)),i.setAttribute("r",String(Math.hypot(e.width*.5,e.height*.5)/Math.SQRT2)),i.setAttribute("gradientUnits","userSpaceOnUse"),i}},S=u8,Te=class{handleUnknownProperties(e,t){}set(e){let{className:t=this.constructor.name}=this.constructor;if(e==null)return this.clear(),this;if(typeof e!="object")return P.warn(`unable to set ${t} - expecting a properties object`),this;let n=new Set(Object.keys(e));for(let i of ml(this))if(n.has(i)){let r=e[i],o=this;if(Zc(o[i]))if(o[i]instanceof bg){let s=o[i].reset(r);s==null?P.warn(`unable to set [${String(i)}] - expecting a properties array`):o[i]=s}else o[i].set(r);else $e(r)?o[i]=qp(r,o[i]??{}):o[i]=r;n.delete(i)}this.handleUnknownProperties(n,e);for(let i of n)P.warn(`unable to set [${String(i)}] in ${t} - property is unknown`);return this}clear(){for(let e of ml(this)){let t=this[e];Zc(t)?t.clear():this[e]=void 0}return this}toJson(){return ml(this).reduce((e,t)=>{let n=this[t];return e[String(t)]=Zc(n)?n.toJson():n,e},{})}},bg=class XP extends Array{constructor(t,...n){super(n.length);let r=(o=>!!o?.prototype?.constructor?.name)(t)?o=>new t().set(o):t;Object.defineProperty(this,"itemFactory",{value:r,enumerable:!1,configurable:!1}),this.set(n)}set(t){if(Ie(t)){this.length=t.length;for(let n=0;n<t.length;n++)this[n]=this.itemFactory(t[n])}return this}reset(t){if(Array.isArray(t))return new XP(this.itemFactory,...t)}toJson(){return this.map(t=>t?.toJson?.()??t)}};function Zc(e){return e instanceof Te||e instanceof bg}var hE=class extends Te{constructor(){super(...arguments),this.color="black"}};y([S],hE.prototype,"stop",2);y([S],hE.prototype,"color",2);function D8(e){let t;for(let n of e)if(n?.stop!=null){if(t!=null&&n.stop<t)return!1;t=n.stop}return!0}function JP(e){return e.flatMap((t,n)=>{let{stop:i}=t,r=e.at(n+1)?.color;return r!=null?[t,{stop:i,color:r}]:[t]})}function I8(e,t){let n=t==="discrete"?1:0,i=e.map((r,o,{length:s})=>({stop:(o+n)/(s-1+n),color:r}));return t==="discrete"?JP(i):i}function e2(e,t,n,i="continuous"){let r=e.map(p=>typeof p=="string"?{color:p}:p);if(r.length===0)return I8(t,i);if(!D8(r))return P.warnOnce("[fills] must have the stops defined in ascending order"),[];let o=Math.min(...n),s=Math.max(...n),a=i==="discrete",l=new Float64Array(r.length),c=0,u=-1;for(let p=0;p<r.length;p+=1){let m=r[p];if(p>=u){u=r.length-1;for(let v=p+1;v<r.length;v+=1)if(r[v]?.stop!=null){u=v;break}}let b=m?.stop;if(b==null){let v=r[c]?.stop,x=r[u]?.stop,M=v??o,D=x??s,w=a&&v==null?1:0;b=M+(D-M)*(p-c+w)/(u-c+w)}else c=p;l[p]=Math.max(0,Math.min(1,(b-o)/(s-o)))}let d=r.find(p=>p.color!=null)?.color,h,f=r.map((p,m)=>{let b=p?.color,v=l[m];return b!=null?d=b:d!=null?b=d:(h==null&&(h=new yh,h.domain=[0,1],h.range=t),b=h.convert(v)),{stop:v,color:b}});return i==="discrete"?JP(f):f}var w8=class{constructor(e,t){this.imageLoader=e,this._cache=void 0,this.url=t.url,this.backgroundFill=t.backgroundFill??"black",this.backgroundFillOpacity=t.backgroundFillOpacity??1,this.repeat=t.repeat??"no-repeat",this.width=t.width,this.height=t.height,this.fit=t.fit??"stretch",this.rotation=t.rotation??0}createCanvasImage(e,t,n,i){if(!t)return null;let[r,o]=this.getSize(t.width,t.height,n,i);return r<1||o<1?(P.warnOnce("Image fill is too small to render, ignoring."),null):e.createPattern(t,this.repeat)}getSize(e,t,n,i){let{fit:r}=this,o=e,s=t,a=1,l=n/i,c=e/t;return r==="stretch"||e===0||t===0?(o=n,s=i):r==="contain"?a=c>l?n/e:i/t:r==="cover"&&(a=c>l?i/t:n/e),[Math.max(1,o*a),Math.max(1,s*a)]}setImageTransform(e,t){if(typeof e=="string")return;let{url:n,rotation:i,width:r,height:o}=this,s=this.imageLoader?.loadImage(n);if(!s)return;let a=Sa(i),l=Math.cos(a),c=Math.sin(a),[u,d]=this.getSize(s.width,s.height,r??t.width,o??t.height),h=u/s.width,f=d/s.height,p=t.x+t.width/2,m=t.y+t.height/2,b=l*u-c*d,v=c*u+l*d,x=b/2,M=v/2;e?.setTransform(new DOMMatrix([l*h,c*f,-c*h,l*f,p-x,m-M]))}createPattern(e,t,n,i){let r=this.width??t,o=this.height??n,s=this._cache;if(s!=null&&s.ctx===e&&s.width===r&&s.height===o)return s.pattern;let a=this.imageLoader?.loadImage(this.url,i),l=this.createCanvasImage(e,a,r,o);if(l!=null)return this._cache={ctx:e,pattern:l,width:r,height:o},l}toSvg(e,t){let{url:n,rotation:i,backgroundFill:r,backgroundFillOpacity:o}=this,{x:s,y:a,width:l,height:c}=e,u=St("pattern");u.setAttribute("viewBox",`0 0 ${l} ${c}`),u.setAttribute("x",String(s)),u.setAttribute("y",String(a)),u.setAttribute("width",String(l)),u.setAttribute("height",String(c)),u.setAttribute("patternUnits","userSpaceOnUse");let d=St("rect");d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("width",String(l)),d.setAttribute("height",String(c)),d.setAttribute("fill",r),d.setAttribute("fill-opacity",String(o)),u.appendChild(d);let h=St("image");return h.setAttribute("href",n),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(l)),h.setAttribute("height",String(c)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("transform",`scale(${1/t}) rotate(${i}, ${l/2}, ${c/2})`),u.appendChild(h),u}};function YL(e,t,n,i){let r=e-n,o=t-i;return r*r+o*o}function xx(e,t,n,i,r,o,s){if(n===r&&i===o)return Math.min(s,YL(e,t,n,i));let a=r-n,l=o-i,c=Math.max(0,Math.min(1,((e-n)*a+(t-i)*l)/(a*a+l*l))),u=n+c*a,d=i+c*l;return Math.min(s,YL(e,t,u,d))}var C8=/^[\t\n\f\r ]*([achlmqstvz])[\t\n\f\r ]*/i,Zt=/^[+-]?((\d*\.\d+)|(\d+\.)|(\d+))(e[+-]?\d+)?/i,E8=/[\t\n\f\r ]*,?[\t\n\f\r ]*/,ZL=/^[01]/,T8={z:[],h:[Zt],v:[Zt],m:[Zt,Zt],l:[Zt,Zt],t:[Zt,Zt],s:[Zt,Zt,Zt,Zt],q:[Zt,Zt,Zt,Zt],c:[Zt,Zt,Zt,Zt,Zt,Zt],a:[Zt,Zt,Zt,ZL,ZL,Zt,Zt]};function A8(e){if(!e)return;let t=[],n=0,i;for(;n<e.length;){let r=C8.exec(e.slice(n)),o;if(r==null){if(!i){P.warnOnce(`Invalid SVG path, error at index ${n}: Missing command.`);return}o=i}else o=r[1],n+=r[0].length;let s=_8(o,e,n);if(!s)return;n=s[0],i=o,t.push(s[1])}return t}function _8(e,t,n){let i=T8[e.toLocaleLowerCase()],r={command:e,params:[]};for(let o of i){let s=t.slice(n),a=o.exec(s);if(a!=null){r.params.push(parseFloat(a[0])),n+=a[0].length;let l=E8.exec(s.slice(a[0].length));l!=null&&(n+=l[0].length)}else{if(r.params.length===1)return[n,r];P.warnOnce(`Invalid SVG path, error at index ${n}: No path segment parameters for command [${e}]`);return}}return[n,r]}function k8(e,t){let n=-t/e;return e!==0&&n>=0&&n<=1?[n]:[]}function N8(e,t,n,i=1e-6){if(Math.abs(e)<i)return k8(t,n);let r=t*t-4*e*n,o=[];if(Math.abs(r)<i){let s=-t/(2*e);s>=0&&s<=1&&o.push(s)}else if(r>0){let s=Math.sqrt(r),a=(-t-s)/(2*e),l=(-t+s)/(2*e);a>=0&&a<=1&&o.push(a),l>=0&&l<=1&&o.push(l)}return o}function O8(e,t,n,i,r=1e-6){if(Math.abs(e)<r)return N8(t,n,i,r);let o=t/e,s=n/e,a=i/e,l=(3*s-o*o)/9,c=(9*o*s-27*a-2*o*o*o)/54,u=l*l*l+c*c,d=1/3,h=[];if(u>=0){let f=Math.sqrt(u),p=Math.sign(c+f)*Math.pow(Math.abs(c+f),d),m=Math.sign(c-f)*Math.pow(Math.abs(c-f),d),b=Math.abs(Math.sqrt(3)*(p-m)/2),v=-d*o+(p+m);if(v>=0&&v<=1&&h.push(v),Math.abs(b)<r){let x=-d*o-(p+m)/2;x>=0&&x<=1&&h.push(x)}}else{let f=Math.acos(c/Math.sqrt(-l*l*l)),p=d*o,m=2*Math.sqrt(-l),b=m*Math.cos(d*f)-p,v=m*Math.cos(d*(f+2*Math.PI))-p,x=m*Math.cos(d*(f+4*Math.PI))-p;b>=0&&b<=1&&h.push(b),v>=0&&v<=1&&h.push(v),x>=0&&x<=1&&h.push(x)}return h}function zp(e,t,n,i,r,o,s,a){let l=(n-e)*(a-o)-(i-t)*(s-r);if(l===0)return 0;let c=((s-r)*(t-o)-(e-r)*(a-o))/l,u=((n-e)*(t-o)-(i-t)*(e-r))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function L8(e,t,n,i,r,o,s,a,l,c,u,d){let h=0,f=c-d,p=u-l,m=l*(d-c)-c*(u-l),b=qL(e,n,r,s),v=qL(t,i,o,a),x=f*b[0]+p*v[0],M=f*b[1]+p*v[1],D=f*b[2]+p*v[2],w=f*b[3]+p*v[3]+m,E=O8(x,M,D,w);for(let C of E){let _=C*C,N=C*_,k=b[0]*N+b[1]*_+b[2]*C+b[3],j=v[0]*N+v[1]*_+v[2]*C+v[3],V;l===u?V=(j-c)/(d-c):V=(k-l)/(u-l),V>=0&&V<=1&&h++}return h}function qL(e,t,n,i){return[-e+3*t-3*n+i,3*e-6*t+3*n,-3*e+3*t,e]}function ih(e,t,n,i,r){return(1-r)**3*e+3*(1-r)**2*r*t+3*(1-r)*r**2*n+r**3*i}function Sx(e,t,n,i,r){if(r<=Math.min(e,i))return e<i?0:1;if(r>=Math.max(e,i))return e<i?1:0;let o=0,s=1,a=NaN;for(let l=0;l<12;l+=1)a=(o+s)/2,ih(e,t,n,i,a)<r?o=a:s=a;return a}function Kp(e,t,n,i,r,o,s,a,l){let c=(1-l)*e+l*n,u=(1-l)*t+l*i,d=(1-l)*n+l*r,h=(1-l)*i+l*o,f=(1-l)*r+l*s,p=(1-l)*o+l*a,m=(1-l)*c+l*d,b=(1-l)*u+l*h,v=(1-l)*d+l*f,x=(1-l)*h+l*p,M=(1-l)*m+l*v,D=(1-l)*b+l*x;return[[{x:e,y:t},{x:c,y:u},{x:m,y:b},{x:M,y:D}],[{x:M,y:D},{x:v,y:x},{x:f,y:p},{x:s,y:a}]]}function KL(e,t,n,i){let r=-e+3*t-3*n+i,o=2*(e-2*t+n),s=-e+t;if(r===0){if(o!==0){let l=-s/o;if(l>0&&l<1)return[l]}return[]}let a=o*o-4*r*s;if(a>=0){let l=Math.sqrt(a),c=(-o+l)/(2*r),u=(-o-l)/(2*r);return[c,u].filter(d=>d>0&&d<1)}return[]}function t2(e,t,n,i,r,o,s,a){let l=KL(e,n,r,s),c=KL(t,i,o,a);return[...l,...c]}function _w(e,t,n){let i=ih(e[0].x,e[1].x,e[2].x,e[3].x,.5),r=ih(e[0].y,e[1].y,e[2].y,e[3].y,.5),o=Math.hypot(i-t,r-n),s=Math.min(Math.hypot(e[0].x-t,e[0].y-n),Math.hypot(e[1].x-t,e[1].y-n),Math.hypot(e[2].x-t,e[2].y-n),Math.hypot(e[3].x-t,e[3].y-n));return{points:e,distance:o,minDistance:s}}function n2(e,t,n,i,r,o,s,a,l,c,u=1){let h={value:_w([{x:e,y:t},{x:n,y:i},{x:r,y:o},{x:s,y:a}],l,c),next:null},f;for(;h!=null;){let{points:p,distance:m,minDistance:b}=h.value;if(h=h.next,(f==null||m<f.distance)&&(f={distance:m,minDistance:b}),f!=null&&f.distance-b<=u)continue;let[v,x]=Kp(p[0].x,p[0].y,p[1].x,p[1].y,p[2].x,p[2].y,p[3].x,p[3].y,.5),M=[_w(v,l,c),_w(x,l,c)].sort(QL);h=PL(h,M,QL)}return f?.distance??1/0}var QL=(e,t)=>t.minDistance-e.minDistance,rh=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.cx=NaN,this.cy=NaN,this.sx=NaN,this.sy=NaN,this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.sx=e,this.sy=t,this.cx=e,this.cy=t,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.cx=e,this.cy=t,this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}cubicCurveTo(e,t,n,i,r,o){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,n,i,r,o),this.commands.push(2),this.params.push(e,t,n,i,r,o)}closePath(){this.openedPath&&(this.cx=this.sx,this.cy=this.sy,this.sx=NaN,this.sy=NaN,this.path2d.closePath(),this.commands.push(3),this.openedPath=!1,this.closedPath=!0)}rect(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()}roundRect(e,t,n,i,r){r=Math.min(r,n/2,i/2),this.moveTo(e,t+r),this.arc(e+r,t+r,r,Math.PI,1.5*Math.PI),this.lineTo(e+r,t),this.lineTo(e+n-r,t),this.arc(e+n-r,t+r,r,1.5*Math.PI,2*Math.PI),this.lineTo(e+n,t+r),this.lineTo(e+n,t+i-r),this.arc(e+n-r,t+i-r,r,0,Math.PI/2),this.lineTo(e+n-r,t+i),this.lineTo(e+r,t+i),this.arc(e+ +r,t+i-r,r,Math.PI/2,Math.PI),this.lineTo(e,t+i-r),this.closePath()}ellipse(e,t,n,i,r,o,s,a=!1){let l=n,c=i/n,u=Math.cos(r),d=Math.sin(r),h=-c*d,f=c*u,p=l*Math.cos(o),m=l*Math.sin(o),b=e+u*p+h*m,v=t+d*p+f*m,x=(b-this.cx)**2+(v-this.cy)**2;this.openedPath?x>1e-6&&this.lineTo(b,v):this.moveTo(b,v);let M=a?-Nn(o-s):Nn(s-o);Math.abs(Math.abs(s-o)-2*Math.PI)<1e-6&&M<2*Math.PI&&(M+=2*Math.PI*(a?-1:1));let D=Math.max(Math.ceil(Math.abs(M)/(Math.PI/2)),1),w=M/D,E=4/3*Math.tan(w/4);for(let C=0;C<D;C+=1){let _=o+w*(C+0),N=o+w*(C+1),k=l*Math.sin(_),j=l*Math.cos(_),V=l*Math.sin(N),$=l*Math.cos(N),te=j-E*k,Z=k+E*j,de=$+E*V,Oe=V-E*$,Ke=$,vt=V;this.cubicCurveTo(e+u*te+h*Z,t+d*te+f*Z,e+u*de+h*Oe,t+d*de+f*Oe,e+u*Ke+h*vt,t+d*Ke+f*vt)}}arc(e,t,n,i,r,o){this.ellipse(e,t,n,n,0,i,r,o)}appendSvg(e){let t=A8(e);if(t==null)return!1;let n=0,i=0,r,o,s=0,a=0;for(let{command:l,params:c}of t){r??(r=c[0]),o??(o=c[1]);let u=l===l.toLowerCase(),d=u?r:0,h=u?o:0;switch(l.toLowerCase()){case"m":this.moveTo(d+c[0],h+c[1]),r=d+c[0],o=h+c[1],n=r,i=o;break;case"c":this.cubicCurveTo(d+c[0],h+c[1],d+c[2],h+c[3],d+c[4],h+c[5]),s=d+c[2],a=h+c[3],r=d+c[4],o=h+c[5];break;case"s":this.cubicCurveTo(r+r-s,o+o-a,d+c[0],h+c[1],d+c[2],h+c[3]),s=d+c[0],a=h+c[1],r=d+c[2],o=h+c[3];break;case"q":this.cubicCurveTo((d+2*c[0])/3,(h+2*c[1])/3,(2*c[0]+c[2])/3,(2*c[1]+c[3])/3,c[2],c[3]),s=c[0],a=c[1],r=c[2],o=c[3];break;case"t":this.cubicCurveTo((r+2*(r+r-s))/3,(o+2*(o+o-a))/3,(2*(r+r-s)+c[0])/3,(2*(o+o-a)+c[1])/3,c[0],c[1]),s=r+r-s,a=o+o-a,r=c[0],o=c[1];break;case"a":this.svgEllipse(r,o,c[0],c[1],c[2]*Math.PI/180,c[3],c[4],d+c[5],h+c[6]),r=d+c[5],o=h+c[6];break;case"h":this.lineTo(d+c[0],o),r=d+c[0];break;case"l":this.lineTo(d+c[0],h+c[1]),r=d+c[0],o=h+c[1];break;case"v":this.lineTo(r,h+c[0]),o=h+c[0];break;case"z":this.closePath(),r=n,o=i;break;default:throw new Error(`Could not translate command '${l}' with '${c.join(" ")}'`)}}return!0}svgEllipse(e,t,n,i,r,o,s,a,l){n=Math.abs(n),i=Math.abs(i);let c=(e-a)/2,u=(t-l)/2,d=Math.sin(r),h=Math.cos(r),f=h*c+d*u,p=-d*c+h*u,m=f/n,b=p/i,v=m*m+b*b,x=(e+a)/2,M=(t+l)/2,D=0,w=0;v>=1?(v=Math.sqrt(v),n*=v,i*=v):(v=Math.sqrt(1/v-1),o===s&&(v=-v),D=v*n*b,w=-v*i*m,x+=h*D-d*w,M+=d*D+h*w);let E=Math.atan2((p-w)/i,(f-D)/n),C=Math.atan2((-p-w)/i,(-f-D)/n)-E,_=E+C,N=!!(1-s);this.ellipse(x,M,n,i,r,E,_,N)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){let n=this.commands,i=this.params,r=n.length,o=-1e4,s=-1e4,a=NaN,l=NaN,c=0,u=0,d=0;for(let h=0,f=0;h<r;h++)switch(n[h]){case 0:d+=zp(a,l,c,u,o,s,e,t),c=i[f++],a=c,u=i[f++],l=u;break;case 1:d+=zp(c,u,i[f++],i[f++],o,s,e,t),c=i[f-2],u=i[f-1];break;case 2:d+=L8(c,u,i[f++],i[f++],i[f++],i[f++],i[f++],i[f++],o,s,e,t),c=i[f-2],u=i[f-1];break;case 3:d+=zp(a,l,c,u,o,s,e,t);break}return d%2===1}distanceSquared(e,t){let n=1/0,i=this.commands,r=this.params,o=i.length,s=NaN,a=NaN,l=0,c=0;for(let u=0,d=0;u<o;u++)switch(i[u]){case 0:l=s=r[d++],c=a=r[d++];break;case 1:{let x=l,M=c;l=r[d++],c=r[d++],n=xx(e,t,x,M,l,c,n);break}case 2:let h=l,f=c,p=r[d++],m=r[d++],b=r[d++],v=r[d++];l=r[d++],c=r[d++],n=n2(h,f,p,m,b,v,l,c,e,t)**2;break;case 3:n=xx(e,t,l,c,s,a,n);break}return n}toSVG(e=(t,n)=>({x:t,y:n})){let t=[],{commands:n,params:i}=this,r=(s,a)=>{t.push(s);for(let l=0;l<a;l+=2){let{x:c,y:u}=e(i[o++],i[o++]);t.push(c,u)}},o=0;for(let s of n)switch(s){case 0:r("M",2);break;case 1:r("L",2);break;case 2:r("C",6);break;case 3:r("Z",0);break}return t.join(" ")}computeBBox(){let{commands:e,params:t}=this,[n,i,r,o]=[1/0,1/0,-1/0,-1/0],[s,a]=[NaN,NaN],[l,c]=[NaN,NaN],u=(h,f)=>{n=Math.min(f,n),i=Math.min(h,i),r=Math.max(h,r),o=Math.max(f,o),s=h,a=f},d=0;for(let h of e)switch(h){case 0:u(t[d++],t[d++]),l=s,c=a;break;case 1:u(t[d++],t[d++]);break;case 2:{let f=s,p=a,m=t[d++],b=t[d++],v=t[d++],x=t[d++],M=t[d++],D=t[d++];t2(f,p,m,b,v,x,M,D).forEach(E=>{let C=ih(f,m,v,M,E),_=ih(p,b,x,D,E);u(C,_)}),u(M,D);break}case 3:u(l,c),l=NaN,c=NaN;break}return new re(i,n,r-i,o-n)}};function ti(e,t,n){let i=Math.round(t*e)/e;return n==null?i:n===0?0:n<1?Math.ceil(n*e)/e:Math.round((n+t)*e)/e-i}function XL(e,t){return Math.floor(t*e)/e}function kw(e,t,n){let{width:i,height:r,padding:o,strokeWidth:s}=t,a=i/2,l=r/2,c=Math.max(1,i-o-s/2),u=Math.max(1,r-o-s/2),d=!1;for(let[h,f]of n){let p=a+(h-.5)*c,m=l+(f-.5)*u;d?e.lineTo(p,m):e.moveTo(p,m),d=!0}e.closePath()}var JL={circles(e,{width:t,strokeWidth:n,padding:i}){let r=t/2,o=Math.max(1,r-i-n/2);e.arc(r,r,o,0,Math.PI*2)},squares(e,{width:t,height:n,pixelRatio:i,padding:r,strokeWidth:o}){let s=r+o/2;e.moveTo(ti(i,s),ti(i,s)),e.lineTo(ti(i,t-s),ti(i,s)),e.lineTo(ti(i,t-s),ti(i,n-s)),e.lineTo(ti(i,s),ti(i,n-s)),e.closePath()},triangles(e,t){kw(e,t,[[.5,0],[1,1],[0,1]])},diamonds(e,t){kw(e,t,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(e,{width:t,height:n,padding:i}){let o=Math.max(1,(t-i)/2),s=o/2,a=Math.PI/2;for(let l=0;l<10;l++){let c=l%2===0?o:s,u=l*Math.PI/5-a,d=t/2+Math.cos(u)*c,h=n/2+Math.sin(u)*c;e.lineTo(d,h)}e.closePath()},hearts(e,{width:t,height:n,padding:i}){let r=Math.max(1,t/4-i/2),o=t/2,s=n/2+r/2;e.arc(o-r,s-r,r,Ci(130),Ci(330)),e.arc(o+r,s-r,r,Ci(220),Ci(50)),e.lineTo(o,s+r),e.closePath()},crosses(e,t){kw(e,t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(e,{width:t,height:n,pixelRatio:i,strokeWidth:r}){let o=ti(i,t/2)-r%2/2;e.moveTo(o,0),e.lineTo(o,n)},"horizontal-lines"(e,{width:t,height:n,pixelRatio:i,strokeWidth:r}){let o=ti(i,n/2)-r%2/2;e.moveTo(0,o),e.lineTo(t,o)},"forward-slanted-lines"(e,{width:t,height:n,strokeWidth:i}){let r=Math.atan2(n,t),o=i*Math.cos(r),s=i*Math.sin(r);e.moveTo(-o,s),e.lineTo(o,-s),e.moveTo(-o,n+s),e.lineTo(t+o,-s),e.moveTo(t-o,n+s),e.lineTo(t+o,n-s)},"backward-slanted-lines"(e,{width:t,height:n,strokeWidth:i}){let r=Math.atan2(n,t),o=i*Math.cos(r),s=i*Math.sin(r);e.moveTo(t-o,-s),e.lineTo(t+o,s),e.moveTo(-o,-s),e.lineTo(t+o,n+s),e.moveTo(-o,n-s),e.lineTo(o,n+s)}},R8=class{constructor(e){this._cache=void 0,this.width=Math.max(e?.width??10,1),this.height=Math.max(e?.height??10,1),this.fill=e.fill??"none",this.fillOpacity=e.fillOpacity??1,this.backgroundFill=e.backgroundFill??"none",this.backgroundFillOpacity=e.backgroundFillOpacity??1,this.stroke=e.stroke??"black",this.strokeOpacity=e.strokeOpacity??1,this.strokeWidth=e.strokeWidth??1,this.padding=e.padding??1,this.pattern=e.pattern??"forward-slanted-lines",this.rotation=e.rotation??0,this.scale=e.scale??1,this.path=e.path}getPath(e){let{pattern:t,width:n,height:i,padding:r,strokeWidth:o,path:s}=this,a=new rh,l=JL[t]!=null;return s&&l&&(l=!a.appendSvg(s)),l&&JL[t](a,{width:n,height:i,pixelRatio:e,strokeWidth:o,padding:r}),a}renderStroke(e,t){let{stroke:n,strokeWidth:i,strokeOpacity:r}=this;i&&(t.strokeStyle=n,t.lineWidth=i,t.globalAlpha=r,t.stroke(e))}renderFill(e,t){let{fill:n,fillOpacity:i}=this;n!=="none"&&(t.fillStyle=n,t.globalAlpha=i,t.fill(e))}createCanvasPattern(e,t){let{width:n,height:i,scale:r,backgroundFill:o,backgroundFillOpacity:s}=this;if(n*r<1||i*r<1)return P.warnOnce("Pattern fill is too small to render, ignoring."),null;let a=new rE({width:n,height:i,pixelRatio:t*r}),l=a.context;o!=="none"&&(l.fillStyle=o,l.globalAlpha=s,l.fillRect(0,0,n,i));let c=this.getPath(t).getPath2D();this.renderFill(c,l),this.renderStroke(c,l);let u=e.createPattern(a.canvas,"repeat");return this.setPatternTransform(u,t),a.destroy(),u}setPatternTransform(e,t,n=0,i=0){if(e==null)return;let r=Sa(this.rotation),o=1/t,s=Math.cos(r)*o,a=Math.sin(r)*o;e.setTransform(new DOMMatrix([s,a,-a,s,n,i]))}createPattern(e,t){if(this._cache!=null&&this._cache.ctx===e&&this._cache.pixelRatio===t)return this._cache.pattern;let n=this.createCanvasPattern(e,t);if(n!=null)return this._cache={ctx:e,pattern:n,pixelRatio:t},n}toSvg(){let{width:e,height:t,fill:n,fillOpacity:i,backgroundFill:r,backgroundFillOpacity:o,stroke:s,strokeWidth:a,strokeOpacity:l,rotation:c,scale:u}=this,d=St("pattern");d.setAttribute("viewBox",`0 0 ${e} ${t}`),d.setAttribute("width",String(e)),d.setAttribute("height",String(t)),d.setAttribute("patternUnits","userSpaceOnUse");let h=St("rect");h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(e)),h.setAttribute("height",String(t)),h.setAttribute("fill",r),h.setAttribute("fill-opacity",String(o)),d.appendChild(h);let f=St("path");return f.setAttribute("fill",n),f.setAttribute("fill-opacity",String(i)),f.setAttribute("stroke-opacity",String(l)),f.setAttribute("stroke",s),f.setAttribute("stroke-width",String(a)),f.setAttribute("transform",`rotate(${c}) scale(${u})`),f.setAttribute("d",this.getPath(1).toSVG()),d.appendChild(f),d}};function Wo(e){return yt(e)&&e.type=="gradient"}function P8(e){return Ie(e)&&e.every(t=>typeof t=="string")}function Dl(e){return e!==null&&yt(e)&&e.type=="pattern"}function eu(e){return e!==null&&yt(e)&&e.type=="image"}function F8(e){return Wo(e)||Dl(e)}function eR(e,t){let{fontStyle:n,fontWeight:i,fontSize:r,fontFamily:o}=t;n&&e.setAttribute("font-style",n),i&&e.setAttribute("font-weight",String(i)),r!=null&&e.setAttribute("font-size",String(r)),o&&e.setAttribute("font-family",o)}function j8(e,t){let{stroke:n,strokeWidth:i,strokeOpacity:r}=t;n&&e.setAttribute("stroke",n),i!=null&&e.setAttribute("stroke-width",String(i)),r!=null&&e.setAttribute("stroke-opacity",String(r))}function V8(e,t){let{lineDash:n,lineDashOffset:i}=t;if(n?.some(r=>r!==0)){let r=n.length%2===1?[...n,...n]:n;e.setAttribute("stroke-dasharray",r.join(" ")),i!=null&&e.setAttribute("stroke-dashoffset",String(i))}}var On=class extends xa{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill="black",this.strokeWidth=0,this.lineDashOffset=0,this.opacity=1}getGradient(e){if(Wo(e))return this.createGradient(e)}createGradient(e){let{colorSpace:t="rgb",gradient:n="linear",colorStops:i,rotation:r=0,reverse:o=!1}=e;if(i==null)return;let s=e2(i,["black"],[0,1]);switch(o&&(s=s.map(a=>({color:a.color,stop:1-a.stop})).reverse()),n){case"linear":return new QP(t,s,r);case"radial":return new M8(t,s);case"conic":return new KP(t,s,r)}}getPattern(e){if(Dl(e))return this.createPattern(e)}createPattern(e){return new R8(e)}getImage(e){if(eu(e))return this.createImage(e)}createImage(e){return new w8(this.imageLoader,e)}onFillChange(){typeof this.fill=="object"&&Un(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this.fillImage=this.getImage(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(e,t){return ti(this.layerManager?.canvas?.pixelRatio??1,e,t)}markDirty(e){super.markDirty(e),this.cachedDefaultGradientFillBBox=void 0}fillStroke(e,t){this.renderFill(e,t),this.renderStroke(e,t)}renderFill(e,t){let{fill:n,fillOpacity:i,fillImage:r}=this;if(n!=null&&n!=="none"&&i>0){let{globalAlpha:o}=e;r&&(e.globalAlpha=r.backgroundFillOpacity,e.fillStyle=r.backgroundFill,this.executeFill(e,t),e.globalAlpha=o),this.applyFillAndAlpha(e),this.applyShadow(e),this.executeFill(e,t),e.globalAlpha=o,e.shadowColor="rgba(0, 0, 0, 0)"}}executeFill(e,t){t?e.fill(t):e.fill()}applyFillAndAlpha(e){let{fill:t,fillGradient:n,fillPattern:i,fillImage:r,fillOpacity:o=1,opacity:s=1}=this;if(e.globalAlpha*=s*o,n){let{fillBBox:a=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:l}=this;e.fillStyle=n.createGradient(e,a,l)??"black"}else if(i){let{x:a,y:l}=this.getBBox(),c=this.layerManager?.canvas?.pixelRatio??1,u=i.createPattern(e,c);i.setPatternTransform(u,c,a,l),u?e.fillStyle=u:(e.fillStyle=i.fill,e.globalAlpha*=i.fillOpacity)}else if(r){let a=this.getBBox(),l=r.createPattern(e,a.width,a.height,this);r.setImageTransform(l,a),e.fillStyle=l??"transparent"}else e.fillStyle=typeof t=="string"?t:"black"}applyStrokeAndAlpha(e){let{stroke:t,strokeOpacity:n=1,strokeGradient:i,opacity:r=1}=this;e.strokeStyle=i?.createGradient(e,this.getBBox())??(typeof t=="string"?t:void 0)??"black",e.globalAlpha*=r*n}applyShadow(e){let t=this.layerManager?.canvas.pixelRatio??1,n=this.fillShadow;n?.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t)}renderStroke(e,t){let{stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:s,lineCap:a,lineJoin:l,miterLimit:c}=this;if(n!=null&&n!=="none"&&i>0&&r>0){let{globalAlpha:u}=e;this.applyStrokeAndAlpha(e),e.lineWidth=i,o&&e.setLineDash(o),s&&(e.lineDashOffset=s),a&&(e.lineCap=a),l&&(e.lineJoin=l),c!=null&&(e.miterLimit=c),this.executeStroke(e,t),e.globalAlpha=u}}executeStroke(e,t){t?e.stroke(t):e.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox??(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(e,t){return this.isPointInPath(e,t)}applySvgFillAttributes(e,t){let{fill:n,fillOpacity:i}=this;if(typeof n=="string")e.setAttribute("fill",n);else if(Wo(n)&&this.fillGradient){t??(t=[]);let r=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),o=Fb();r.setAttribute("id",o),t.push(r),e.setAttribute("fill",`url(#${o})`)}else if(Dl(n)&&this.fillPattern){t??(t=[]);let r=this.fillPattern.toSvg(),o=Fb();r.setAttribute("id",o),t.push(r),e.setAttribute("fill",`url(#${o})`)}else if(eu(n)&&this.fillImage){t??(t=[]);let r=this.layerManager?.canvas?.pixelRatio??1,o=this.fillImage.toSvg(this.getBBox(),r),s=Fb();o.setAttribute("id",s),t.push(o),e.setAttribute("fill",`url(#${s})`)}else e.setAttribute("fill","none");return e.setAttribute("fill-opacity",String(i)),t}applySvgStrokeAttributes(e){let{stroke:t,strokeOpacity:n,strokeWidth:i,lineDash:r,lineDashOffset:o}=this;j8(e,{stroke:nn(t)?t:void 0,strokeOpacity:n,strokeWidth:i}),V8(e,{lineDash:r,lineDashOffset:o})}};y([Y()],On.prototype,"fillOpacity",2);y([Y()],On.prototype,"strokeOpacity",2);y([Ur({equals:Un,changeCb:e=>e.onFillChange()})],On.prototype,"fill",2);y([Ur({equals:Un,changeCb:e=>e.onStrokeChange()})],On.prototype,"stroke",2);y([Y()],On.prototype,"strokeWidth",2);y([uE()],On.prototype,"lineDash",2);y([Y()],On.prototype,"lineDashOffset",2);y([Y()],On.prototype,"lineCap",2);y([Y()],On.prototype,"lineJoin",2);y([Y()],On.prototype,"miterLimit",2);y([Y({convertor:e=>se(0,e??1,1)})],On.prototype,"opacity",2);y([Ur({equals:mh,checkDirtyOnAssignment:!0})],On.prototype,"fillShadow",2);y([Ur({equals:Td,changeCb:e=>e.onFillChange()})],On.prototype,"fillBBox",2);y([Ur({equals:Un,changeCb:e=>e.onFillChange()})],On.prototype,"fillParams",2);var i2=[1,0,0,1,0,0],Ma=class tx{get e(){return[...this.elements]}constructor(t=i2){this.elements=[...t]}setElements(t){let n=this.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],this}get identity(){let t=this.elements;return Qi(t[0],1)&&Qi(t[1],0)&&Qi(t[2],0)&&Qi(t[3],1)&&Qi(t[4],0)&&Qi(t[5],0)}AxB(t,n,i){let r=t[0]*n[0]+t[2]*n[1],o=t[1]*n[0]+t[3]*n[1],s=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],c=t[1]*n[4]+t[3]*n[5]+t[5];i=i??t,i[0]=r,i[1]=o,i[2]=s,i[3]=a,i[4]=l,i[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){let n=new Array(6);return t instanceof tx?this.AxB(this.elements,t.elements,n):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],n),new tx(n)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){let t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=1/(n*o-i*r);return n*=l,i*=l,r*=l,o*=l,new tx([o,-i,-r,n,r*a-o*s,i*s-n*a])}invertSelf(){let t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=1/(n*o-i*r);return n*=l,i*=l,r*=l,o*=l,t[0]=o,t[1]=-i,t[2]=-r,t[3]=n,t[4]=r*a-o*s,t[5]=i*s-n*a,this}transformPoint(t,n){let i=this.elements;return{x:t*i[0]+n*i[2]+i[4],y:t*i[1]+n*i[3]+i[5]}}transformBBox(t,n){let i=this.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=t.width*.5,c=t.height*.5,u=t.x+l,d=t.y+c,h=Math.abs(l*r)+Math.abs(c*s),f=Math.abs(l*o)+Math.abs(c*a);return n??(n=new re(0,0,0,0)),n.x=u*r+d*s+i[4]-h,n.y=u*o+d*a+i[5]-f,n.width=h+h,n.height=f+f,n}toContext(t){if(this.identity)return;let n=this.elements;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}static updateTransformMatrix(t,n,i,r,o,s,a){let l=n,c=i,u,d;l===1&&c===1?(u=0,d=0):(u=a?.scalingCenterX??0,d=a?.scalingCenterY??0);let h=r,f=Math.cos(h),p=Math.sin(h),m,b;h===0?(m=0,b=0):(m=a?.rotationCenterX??0,b=a?.rotationCenterY??0);let v=o,x=s,M=u*(1-l)-m,D=d*(1-c)-b;return t.setElements([f*l,p*l,-p*c,f*c,f*M-p*D+m+v,p*M+f*D+b+x]),t}};function sl(e){return o2(e.constructor)}var r2=Symbol("isMatrixTransform");function o2(e){return e[r2]===!0}function fE(e){var t,n;let i=e;if(o2(e))return e;let r=Symbol("matrix_combined_transform");class o extends i{constructor(){super(...arguments),this[n]=new Ma,this._dirtyTransform=!0}onChangeDetection(a){super.onChangeDetection(a),this._dirtyTransform=!0,!(this.batchLevel>0)&&this.markDirty("transform")}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[r].setElements(i2),this.updateMatrix(this[r]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[r].identity?a.clone():this[r].transformBBox(a)}toParentPoint(a,l){return this.computeTransformMatrix(),this[r].identity?{x:a,y:l}:this[r].transformPoint(a,l)}fromParent(a){return this.computeTransformMatrix(),this[r].identity?a.clone():this[r].inverse().transformBBox(a)}fromParentPoint(a,l){return this.computeTransformMatrix(),this[r].identity?{x:a,y:l}:this[r].inverse().transformPoint(a,l)}computeBBox(){let a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,l){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNode(a,l)}pickNodes(a,l,c){return{x:a,y:l}=this.fromParentPoint(a,l),super.pickNodes(a,l,c)}render(a){this.computeTransformMatrix();let{ctx:l}=a,c=this[r],u=!1;try{c.identity||(l.save(),u=!0,c.toContext(l)),super.render(a)}finally{u&&l.restore()}}toSVG(){this.computeTransformMatrix();let a=super.toSVG(),l=this[r];if(l.identity||a==null)return a;let c=St("g");c.append(...a.elements);let[u,d,h,f,p,m]=l.e;return c.setAttribute("transform",`matrix(${u} ${d} ${h} ${f} ${p} ${m})`),{elements:[c],defs:a.defs}}}return t=r2,n=r,o[t]=!0,o}function vh(e){var t;let n=e,i=Symbol("matrix_rotation");class r extends fE(n){constructor(){super(...arguments),this[t]=new Ma,this.rotationCenterX=0,this.rotationCenterY=0,this.rotation=0}updateMatrix(s){super.updateMatrix(s);let{rotation:a,rotationCenterX:l,rotationCenterY:c}=this;a!==0&&(Ma.updateTransformMatrix(this[i],1,1,a,0,0,{rotationCenterX:l,rotationCenterY:c}),s.multiplySelf(this[i]))}}return t=i,y([Y()],r.prototype,"rotationCenterX",2),y([Y()],r.prototype,"rotationCenterY",2),y([Y()],r.prototype,"rotation",2),r}function pE(e){var t;let n=e,i=Symbol("matrix_scale");class r extends fE(n){constructor(){super(...arguments),this[t]=new Ma,this.scalingX=1,this.scalingY=1,this.scalingCenterX=0,this.scalingCenterY=0}updateMatrix(s){super.updateMatrix(s);let{scalingX:a,scalingY:l,scalingCenterX:c,scalingCenterY:u}=this;a===1&&l===1||(Ma.updateTransformMatrix(this[i],a,l,0,0,0,{scalingCenterX:c,scalingCenterY:u}),s.multiplySelf(this[i]))}}return t=i,y([Y()],r.prototype,"scalingX",2),y([Y()],r.prototype,"scalingY",2),y([Y()],r.prototype,"scalingCenterX",2),y([Y()],r.prototype,"scalingCenterY",2),r}function bh(e){var t;let n=e,i=Symbol("matrix_translation");class r extends fE(n){constructor(){super(...arguments),this[t]=new Ma,this.translationX=0,this.translationY=0}updateMatrix(s){super.updateMatrix(s);let{translationX:a,translationY:l}=this;a===0&&l===0||(Ma.updateTransformMatrix(this[i],1,1,0,a,l),s.multiplySelf(this[i]))}}return t=i,y([Y()],r.prototype,"translationX",2),y([Y()],r.prototype,"translationY",2),r}var gn=class{static fromCanvas(e,t){let n=[];for(let i of e.traverseUp())sl(i)&&n.unshift(i);for(let i of n)t=i.fromParent(t);return sl(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():sl(e)&&(t=e.toParent(t));for(let n of e.traverseUp())sl(n)&&(t=n.toParent(t));return t}static fromCanvasPoint(e,t,n){let i=[];for(let r of e.traverseUp())sl(r)&&i.unshift(r);for(let r of i)({x:t,y:n}=r.fromParentPoint(t,n));return sl(e)&&({x:t,y:n}=e.fromParentPoint(t,n)),{x:t,y:n}}static toCanvasPoint(e,t,n){sl(e)&&({x:t,y:n}=e.toParentPoint(t,n));for(let i of e.traverseUp())sl(i)&&({x:t,y:n}=i.toParentPoint(t,n));return{x:t,y:n}}},Ep,s2=(()=>{let e=class Op extends xa{constructor(n){super(n),this.childNodes=new Set,this.dirty=!1,this.dirtyZIndex=!1,this.clipRect=void 0,this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=n?.renderToOffscreenCanvas===!0}static is(n){return n instanceof Op}static computeChildrenBBox(n,i=!0){return re.merge(xa.extractBBoxes(n,i))}static compareChildren(n,i){return WP(n.zIndex,i.zIndex)||n.serialNumber-i.serialNumber}containsPoint(n,i){return!0}computeBBox(){return Op.computeChildrenBBox(this.children())}computeSafeClippingBBox(n){let i=this.computeBBox();if(i?.isFinite()!==!0)return;let r=0,o=4;for(let f of this.descendants())f instanceof On&&(r=Math.max(r,f.strokeWidth));let s=Math.max(1,r/2*o),{x:a,y:l}=gn.toCanvasPoint(this,0,0),c=XL(n,a+i.x-s)-a,u=XL(n,l+i.y-s)-l,d=Math.ceil(i.x+i.width-c+s),h=Math.ceil(i.y+i.height-u+s);return new re(c,u,d,h)}prepareSharedCanvas(n,i,r){return Ep==null||Ep.pixelRatio!==r?Ep=new rE({width:n,height:i,pixelRatio:r}):Ep.resize(n,i,r),Ep}setScene(n){super.setScene(n),this.layer&&(this.scene?.layersManager.removeLayer(this.layer),this.layer=void 0);for(let i of this.children())i.setScene(n)}markDirty(n){this.dirty=!0,super.markDirty(n)}markDirtyChildrenOrder(){super.markDirtyChildrenOrder(),this.dirtyZIndex=!0,this.markDirty()}append(n){for(let i of wL(n))i.parentNode?.removeChild(i),this.childNodes.add(i),i.parentNode=this,i.setScene(this.scene);this.markDirtyChildrenOrder(),this.markDirty()}appendChild(n){return this.append(n),n}removeChild(n){if(!this.childNodes?.delete(n))throw new Error(`AG Charts - internal error, unknown child node ${n.name??n.id} in $${this.name??this.id}`);n.parentNode=void 0,n.setScene(),this.markDirtyChildrenOrder(),this.markDirty()}clear(){for(let n of this.children())delete n.parentNode,n.setScene();this.childNodes?.clear(),this.markDirty()}pickNode(n,i){if(!(!this.visible||this.pointerEvents===1||!this.containsPoint(n,i))){if(this.childNodes!=null&&this.childNodes.size!==0){let r=[...this.children()];for(let o=r.length-1;o>=0;o--){let a=r[o].pickNode(n,i);if(a!=null)return a}}else if(!this.isContainerNode)return this}}pickNodes(n,i,r=[]){if(!this.visible||this.pointerEvents===1||!this.containsPoint(n,i))return r;this.isContainerNode||r.push(this);for(let o of this.children())o.pickNodes(n,i,r);return r}isDirty(n){let{width:i,height:r,devicePixelRatio:o}=n,{dirty:s,layer:a}=this,l=a!=null&&(this._lastWidth!==i||this._lastHeight!==r),c=this._lastDevicePixelRatio!==o;return this._lastWidth=i,this._lastHeight=r,this._lastDevicePixelRatio=o,s||l||c}preRender(n){let i;if(this.dirty){i=super.preRender(n,0);for(let r of this.children()){let o=r.preRender(n);i.groups+=o.groups,i.nonGroups+=o.nonGroups,i.complexity+=o.complexity}i.groups+=1,i.nonGroups-=1}else i=this.childNodeCounts;return this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&i.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=this.layerManager?.addLayer({name:this.name})):this.layer!=null&&(this.layerManager?.removeLayer(this.layer),this.layer=void 0),i}render(n){let{layer:i,renderToOffscreenCanvas:r}=this,o=g({},n),s=this.isDirty(n);if(this.dirty=!1,!r){this.renderInContext(o),super.render(o);return}let{ctx:a,stats:l,devicePixelRatio:c}=n,{image:u}=this;if(s){u?.bitmap.close(),u=void 0;let h=i?void 0:this.computeSafeClippingBBox(c),f=(p,...m)=>{let b=p.context;o.ctx=b,p.clear(),b.save();try{b.setTransform(...m),b.globalAlpha=1,this.renderInContext(o)}finally{b.restore(),b.verifyDepthZero?.()}};if(i)f(i,a.getTransform());else if(h){let{x:p,y:m,width:b,height:v}=h,x=this.prepareSharedCanvas(b,v,c);f(x,c,0,0,c,-p*c,-m*c),u={bitmap:x.transferToImageBitmap(),x:p,y:m,width:b,height:v}}this.image=u,l&&l.layersRendered++}else l&&l.layersSkipped++;let{globalAlpha:d}=a;if(a.globalAlpha=d*this.opacity,i){a.save();try{a.resetTransform(),i.drawImage(a)}finally{a.restore()}}else if(u){let{bitmap:h,x:f,y:p,width:m,height:b}=u;a.drawImage(h,0,0,m*c,b*c,f,p,m,b)}a.globalAlpha=d,super.render(o)}applyClip(n,i){let{x:r,y:o,width:s,height:a}=i;n.beginPath(),n.rect(r,o,s,a),n.clip()}renderInContext(n){let{ctx:i,stats:r}=n;this.dirtyZIndex&&(this.sortChildren(Op.compareChildren),this.dirtyZIndex=!1),i.save();try{i.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(i,this.clipRect),n.clipBBox=gn.toCanvas(this,this.clipRect));for(let o of this.children()){if(!o.visible){r&&(r.nodesSkipped+=o.childNodeCounts.nonGroups+o.childNodeCounts.groups,r.opsSkipped+=o.childNodeCounts.complexity);continue}o.isolatedRender(n)}}finally{i.restore()}}sortChildren(n){if(!this.childNodes)return;let i=[...this.childNodes].sort(n);this.childNodes.clear();for(let r of i)this.childNodes.add(r)}*children(){yield*Du(this.childNodes)}*excludeChildren(n){for(let i of this.children())(n.instance&&!(i instanceof n.instance)||n.name&&i.name!==n.name)&&(yield i)}*descendants(){for(let n of this.children())yield n,n instanceof Op&&(yield*Du(n.descendants()))}setClipRect(n){this.clipRect=n?gn.fromCanvas(this,n):void 0}setClipRectCanvasSpace(n){this.clipRect=n}getVisibility(){for(let n of this.traverseUp(!0))if(!n.visible)return!1;return!0}toSVG(){if(!this.visible)return;let n=[],i=[];for(let r of this.children()){let o=r.toSVG();o!=null&&(i.push(...o.elements),o.defs!=null&&n.push(...o.defs))}return{elements:i,defs:n}}};return e.className="Group",e})();y([Y({convertor:e=>se(0,e,1)})],s2.prototype,"opacity",2);var Ve=s2,B8=class extends pE(Ve){},z8=class extends vh(Ve){},Fi=class extends bh(Ve){},jd=class extends vh(bh(Ve)){};function H8(e,t){return"context"in e}function tR(e,t){return e!=null&&H8(e,t)&&t[0]!=null&&typeof t[0]=="object"&&t[0].context===void 0?(t[0].context=e.context,!0):!1}function Yo(e,t,...n){if(Array.isArray(e)){for(let i of e)if(tR(i,n))break}else tR(e,n);return t(...n)}var a2=class{constructor(){this.cache=new WeakMap}call(e,t,...n){let i,r=this.cache.get(t);try{i=JSON.stringify(n)}catch{return this.invoke(e,t,r,void 0,...n)}return r==null&&(r=new Map,this.cache.set(t,r)),r.has(i)?r.get(i):this.invoke(e,t,r,i,...n)}invoke(e,t,n,i,...r){try{let o=Yo(e,t,...r);return n&&i!=null&&n.set(i,o),o}catch(o){P.warnOnce("User callback errored, ignoring",o);return}}invalidateCache(){this.cache=new WeakMap}};function Mx(e,t){if(!e)return;let{x:n,y:i,width:r,height:o}=G8(t);Bb(e.style,"width",r),Bb(e.style,"height",o),Bb(e.style,"left",n),Bb(e.style,"top",i)}function l2(e){let t=parseFloat(e.style.width)||e.offsetWidth,n=parseFloat(e.style.height)||e.offsetHeight,i=parseFloat(e.style.left)||e.offsetLeft,r=parseFloat(e.style.top)||e.offsetTop;return{x:i,y:r,width:t,height:n}}function U8(e){if(e.focus({preventScroll:!0}),e.lastChild?.textContent==null)return;let t=ki().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);let n=Ce().getSelection();n?.removeAllRanges(),n?.addRange(t)}function c2(){let e=Ce("navigator");if("scheduling"in e){let t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function Jx(e){return`ag-charts-icon ag-charts-icon-${e}`}function G8(e){let{x:t,y:n,width:i,height:r}=e;return(i==null||i>0)&&(r==null||r>0)?e:(t!=null&&i!=null&&i<0&&(i=-i,t=t-i),n!=null&&r!=null&&r<0&&(r=-r,n=n-r),{x:t,y:n,width:i,height:r})}function Bb(e,t,n){n==null?e.removeProperty(t):e.setProperty(t,`${n}px`)}var xC="class-instance";function Da(e,t,n){if(Ie(t)){if(!Ie(e)||e.length!==t.length||t.some((i,r)=>Da(e[r],i,n)!=null))return t}else if($e(t)){if(!$e(e))return t;let i={},r=new Set([...Object.keys(e),...Object.keys(t)]);for(let o of r)if(e[o]!==t[o])if(n?.has(o))i[o]=t[o];else if(typeof e[o]==typeof t[o]){let s=Da(e[o],t[o],n);s!==null&&(i[o]=s)}else i[o]=t[o];return Object.keys(i).length?i:null}else if(e!==t)return t;return null}function u2(e,t){for(let n of Object.keys(e))if(e[n]!==t?.[n])return!1;return!0}function ln(e,t){return Ie(e)?$8(e,t):$e(e)?W8(e,t):e instanceof Map?new Map(ln(Array.from(e))):gE(e)}function $8(e,t){let n=[],i=t?.seen;for(let r of e){if(typeof r=="object"&&i?.includes(r)){P.warn("cycle detected in array",r);continue}i?.push(r),n.push(ln(r,t)),i?.pop()}return n}function W8(e,t){let n={};for(let i of Object.keys(e))t?.assign?.has(i)?n[i]=e[i]:t?.shallow?.has(i)?n[i]=gE(e[i]):n[i]=ln(e[i],t);return n}function gE(e){return Ie(e)?e.slice(0):$e(e)?g({},e):ra(e)?new Date(e):uL(e)?new RegExp(e.source,e.flags):e}function yl(e,t,n,i,r,o){if(Ie(e)){o=t(e,i,r,o);let s=0;for(let a of e)o=yl(a,t,n,i?.[s],r,o),s++}else if($e(e)){o=t(e,i,r,o);for(let s of Object.keys(e)){if(n?.has(s))continue;let a=e[s];o=yl(a,t,n,i?.[s],r,o)}}return o}function Hp(e,t,n={}){let{path:i,matcherPath:r=i?.replace(/(\[[0-9+]+])/i,"[]"),skip:o=[]}=n;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${i??"<root>"}`);if(t==null)return e;if(Zc(e))return e.set(t);let s=e,a=Nw(e);for(let l of Object.keys(t)){if(lE.has(l))continue;let c=`${r?r+".":""}${l}`;if(o.includes(c))continue;let u=t[l],d=`${i?i+".":""}${l}`,h=s.constructor,f=s[l];try{let p=Nw(f),m=Nw(u);if(a===xC&&!(l in e||l==="context")){if(u===void 0)continue;P.warn(`unable to set [${d}] in ${h?.name} - property is unknown`);continue}if(p!=null&&m!=null&&m!==p&&(p!==xC||m!=="object")){P.warn(`unable to set [${d}] in ${h?.name} - can't apply type of [${m}], allowed types are: [${p}]`);continue}if(Zc(f))u===void 0?f.clear():f.set(u);else if(m==="object"&&l!=="context"){if(!(l in s)){P.warn(`unable to set [${d}] in ${h?.name} - property is unknown`);continue}f==null?s[l]=u:Hp(f,u,I(g({},n),{path:d,matcherPath:c}))}else s[l]=u}catch(p){P.warn(`unable to set [${d}] in [${h?.name}]; nested error is: ${p.message}`)}}return e}function Nw(e){return e==null?null:dL(e)||ra(e)?"primitive":Ie(e)?"array":yt(e)?$e(e)?"object":xC:No(e)?"function":"primitive"}var Y8=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(n=>P.errorOnce(n))})}acquireImmediately(e){return Fe(this,null,function*(){return this.available?(yield this.acquire(e),!0):!1})}waitForClearAcquireQueue(){return Fe(this,null,function*(){return this.acquire(()=>Promise.resolve(void 0))})}dispatchNext(){return Fe(this,null,function*(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{yield e(),t?.()}catch(n){P.error("mutex callback error",n),t?.()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0})}},d2=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");let n=this.eventListeners.get(e);n?n.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){let n=this.eventListeners.get(e);n!=null&&(n.delete(t),n.size===0&&this.eventListeners.delete(e))}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){this.eventListeners.get(e.type)?.forEach(t=>t(e))}},ru=class extends Te{constructor(e=0,t=e,n=e,i=t){super(),this.top=e,this.right=t,this.bottom=n,this.left=i}};y([S],ru.prototype,"top",2);y([S],ru.prototype,"right",2);y([S],ru.prototype,"bottom",2);y([S],ru.prototype,"left",2);function ri(e,t){let n=Ie(e)?e:e.split(".");if(n.length===1){let[i]=n;return Jc((r,o,s)=>r[i]=s,r=>r[i],t)}return Jc((i,r,o)=>cE(i,n,o),i=>aE(i,n),t)}function Z8(e){return Jc((t,n,i)=>t[e]=i)}function En(e,t){return Jc((n,i,r)=>n[e][t??i]=r)}function Vi(e){let{newValue:t,oldValue:n,changeValue:i}=e;return Jc((r,o,s,a)=>(s!==a&&(a!==void 0&&n?.call(r,a),s!==void 0&&t?.call(r,s),i?.call(r,s,a)),s))}function Tl(e){return VP(e)}function q8(e){return h2((t,n)=>Ce().requestAnimationFrame(t),e)}function K8(e){return h2((t,n=0)=>{n===0?queueMicrotask(t):setTimeout(t,n)},e)}function h2(e,t){let n=0,i=!1,r,o,s=()=>i,a=()=>{i=!1,o?.(),o=void 0,r=void 0,n>0&&e(l)},l=()=>{let u=n;n=0,i=!0;let d=t({count:u});if(!d){a();return}d.then(a,a)};return{schedule(u){n===0&&!s()&&e(l,u),n++},await(){return Fe(this,null,function*(){if(s())for(r??(r=new Promise(u=>{o=u}));s();)yield r})}}}var mE=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function kd(e,t,n){let{offsetX:i,offsetY:r,clientX:o,clientY:s}=t,{currentX:a,currentY:l}=ma.calcCurrentXY(n,t);return{type:e,device:"mouse",offsetX:i,offsetY:r,clientX:o,clientY:s,currentX:a,currentY:l,sourceEvent:t}}function zb(e,t,n){return{type:e,sourceEvent:t}}var Q8={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>kd("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>kd("click",e,t),dblclick:(e,t)=>kd("dblclick",e,t),mouseenter:(e,t)=>kd("mouseenter",e,t),mousemove:(e,t)=>kd("mousemove",e,t),mouseleave:(e,t)=>kd("mouseleave",e,t),wheel:e=>{let{offsetX:t,offsetY:n,clientX:i,clientY:r}=e,o=e.deltaMode===0?.01:1,s=e.deltaX*o,a=e.deltaY*o;return{type:"wheel",offsetX:t,offsetY:n,clientX:i,clientY:r,deltaX:s,deltaY:a,sourceEvent:e}},touchstart:(e,t)=>zb("touchstart",e,t),touchmove:(e,t)=>zb("touchmove",e,t),touchend:(e,t)=>zb("touchend",e,t),touchcancel:(e,t)=>zb("touchcancel",e,t)},ma=class{static alloc(e,t,n){return Q8[e](t,n)}static isHTMLEvent(e){return mE.includes(e)}static calcCurrentXY(e,t){let n=e.getBoundingClientRect();return{currentX:t.clientX-n.x,currentY:t.clientY-n.y}}},X8=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var n;if(!(e in(this.sourceListeners??{}))){let i=o=>{let s=ma.alloc(e,o,t.getElement());this.dispatch(e,t,s)},r={};e.startsWith("touch")&&(r.passive=!1),this.initSourceHandler(e,i),t.getElement().addEventListener(e,i,r)}return this.widgetListeners??(this.widgetListeners={}),(n=this.widgetListeners)[e]??(n[e]=[]),this.widgetListeners[e]}add(e,t,n){this.lazyGetWidgetListeners(e,t).push(n)}remove(e,t,n){let i=this.lazyGetWidgetListeners(e,t),r=i.indexOf(n);r>-1&&i.splice(r,1)}destroy(e){if(this.widgetListeners=void 0,this.sourceListeners){for(let[t,n]of di(this.sourceListeners))e.getElement().removeEventListener(t,n);this.sourceListeners=void 0}}dispatch(e,t,n){for(let i of this.widgetListeners?.[e]??[])i(n,t)}},J8=class{constructor(e,t,n,i){this.glob=e,this.self=t,this.window=Ce(),this.cleanup=new Be,this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{l.stopPropagation(),l.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mousemove(l)},this.mouseup=l=>{l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mouseup(l),this.destroy())};let{window:r,mousegeneral:o,mousemove:s,mouseup:a}=this;this.cleanup.register(gt(r,"mousedown",o,{capture:!0}),gt(r,"mouseenter",o,{capture:!0}),gt(r,"mouseleave",o,{capture:!0}),gt(r,"mouseout",o,{capture:!0}),gt(r,"mouseover",o,{capture:!0}),gt(r,"mousemove",s,{capture:!0}),gt(r,"mouseup",a,{capture:!0})),t.mouseDragger=this,e.globalMouseDragCallbacks=n,e.globalMouseDragCallbacks.mousedown(i),i.stopPropagation(),i.stopImmediatePropagation()}destroy(){this.cleanup.flush(),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function eZ(e,t,n,i){if(e.globalMouseDragCallbacks==null)return new J8(e,t,n,i)}var tZ=500,nZ=100;function iZ(e,t){let n=e.clientX-t.clientX,i=e.clientY-t.clientY;return n*n+i*i}var SC=!1,rZ=class{constructor(e,t,n,i,r){this.glob=e,this.self=t,this.initialTouch=i,this.target=r,this.cleanup=new Be,this.longTapInterrupted=!1,this.longtap=()=>{let{target:a,initialTouch:l}=this;if(!this.longTapInterrupted){let c=new Be;a.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),SC=!0;let u=m=>m.preventDefault(),d=m=>{SC=!1,m.preventDefault(),c.flush()};c.register(gt(a,"touchmove",u,{passive:!1}),gt(a,"touchend",d,{passive:!1}),gt(a,"touchcancel",d,{passive:!1}));let{clientX:h,clientY:f}=l,p=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:Ce(),clientX:h,clientY:f,pointerType:"touch"});a.dispatchEvent(p)}},this.touchmove=a=>{let{glob:l,self:c,initialTouch:u}=this,d=this.findInitialFinger(a.targetTouches);d!=null&&(this.longTapInterrupted=this.longTapInterrupted||iZ(u,d)>nZ,c.dragTouchEnabled&&l.globalTouchDragCallbacks?.touchmove(a,d))},this.touchend=a=>{this.longTapInterrupted=!0;let l=this.findInitialFinger(a.changedTouches,a.touches);l!=null&&this.glob.globalTouchDragCallbacks?.touchend(a,l),this.destroy()},this.longtapTimer=setTimeout(this.longtap,tZ);let{touchmove:o,touchend:s}=this;this.cleanup.register(gt(r,"touchmove",o,{passive:!1}),gt(r,"touchstart",s,{passive:!1}),gt(r,"touchend",s,{passive:!1}),gt(r,"touchcancel",s,{passive:!1})),t.touchDragger=this,e.globalTouchDragCallbacks=n}destroy(){clearTimeout(this.longtapTimer),this.cleanup.flush(),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...e){let t=e.map(n=>Array.from(n)).flat();return Array.from(t).find(n=>n.identifier===this.initialTouch.identifier)}};function oZ(e,t,n,i,r){if(!(e.globalTouchDragCallbacks!=null||SC))return new rZ(e,t,n,i,r)}function Ow(e,t,n,i){let{currentX:r,currentY:o}=ma.calcCurrentXY(e.getElement(),i),s=i.pageX-n.pageX,a=i.pageY-n.pageY;return{type:t,device:"mouse",offsetX:n.offsetX+s,offsetY:n.offsetY+a,clientX:i.clientX,clientY:i.clientY,currentX:r,currentY:o,originDeltaX:s,originDeltaY:a,sourceEvent:i}}function sZ(e,{pageX:t,pageY:n}){let{x:i,y:r}=e.getElement().getBoundingClientRect();return{offsetX:t-i,offsetY:n-r}}function Lw(e,t,n,i,r){let{currentX:o,currentY:s}=ma.calcCurrentXY(e.getElement(),r),a=r.pageX-n.pageX,l=r.pageY-n.pageY;return{type:t,device:"touch",offsetX:n.offsetX+a,offsetY:n.offsetY+l,clientX:r.clientX,clientY:r.clientY,currentX:o,currentY:s,originDeltaX:a,originDeltaY:l,sourceEvent:i}}var nR={},iR=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){this.dragTriggerRemover?.(),this.dragTriggerRemover=void 0,this.listeners?.clear(),this.mouseDragger?.destroy(),this.touchDragger?.destroy()}getListenerSet(e){this.listeners??(this.listeners=new Map);let t=this.listeners.get(e);return t===void 0&&(t=new Set,this.listeners.set(e,t)),t}add(e,t,n){switch(this.getListenerSet(e).add(n),e){case"drag-start":case"drag-move":case"drag-end":{this.registerDragTrigger(t);break}}}remove(e,t,n){this.getListenerSet(e).delete(n)}registerDragTrigger(e){if(this.dragTriggerRemover==null){let t=e.getElement(),n=new Be;n.register(gt(t,"mousedown",i=>this.triggerMouseDrag(e,i)),gt(t,"touchstart",i=>this.triggerTouchDrag(e,i),{passive:!1})),this.dragTriggerRemover=()=>n.flush()}}triggerMouseDrag(e,t){t.button===0&&this.startMouseDrag(e,t)}startMouseDrag(e,t){let n={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};yC(["pageX","pageY","offsetX","offsetY"],n,t);let i={mousedown:r=>{let o=Ow(e,"drag-start",n,r);this.dispatch("drag-start",e,o)},mousemove:r=>{let o=Ow(e,"drag-move",n,r);this.dispatch("drag-move",e,o)},mouseup:r=>{let o=Ow(e,"drag-end",n,r);this.dispatch("drag-end",e,o),this.endDrag(e,o)}};this.mouseDragger=eZ(nR,this,i,t)}endDrag(e,{sourceEvent:t,clientX:n,clientY:i}){let r=e.getElement(),o=r.getBoundingClientRect();Ed(o,n,i)||(r.dispatchEvent(new MouseEvent("mouseleave",t)),t.target?.dispatchEvent(new MouseEvent("mouseenter",t)))}triggerTouchDrag(e,t){let n=t.targetTouches[0];t.targetTouches.length===1&&n!=null&&this.startOneFingerTouch(e,t,n)}startOneFingerTouch(e,t,n){let i=g({pageX:NaN,pageY:NaN},sZ(e,n));yC(["pageX","pageY"],i,n);let r={touchmove:(a,l)=>{let c=Lw(e,"drag-move",i,a,l);this.dispatch("drag-move",e,c)},touchend:(a,l)=>{let c=Lw(e,"drag-end",i,a,l);this.dispatch("drag-end",e,c)}},o=e.getElement();this.touchDragger=oZ(nR,this,r,n,o);let s=Lw(e,"drag-start",i,t,n);this.dispatch("drag-start",e,s)}dispatch(e,t,n){for(let i of this.getListenerSet(e))i(n,t);this.dispatchCallback(e,n)}},aZ=class{constructor(e){this.elem=e}setBounds(e){Mx(this.elemContainer??this.elem,e)}getBounds(){return l2(this.elemContainer??this.elem)}static setElementContainer(e,t){let n=e.getBounds();Mx(t,n),CL(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},Rs=class extends aZ{constructor(){super(...arguments),this.index=NaN,this.children=[]}set id(e){Ee(this.elem,"id",e)}get id(){return Ms(this.elem,"id")}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){this.destroyListener?.(),this.destroyListener=void 0,this.parent?.removeChild(this),this.children.forEach(e=>{e.parent=void 0,e.destroy()}),this.children.length=0,this.destructor(),this.remove(),this.internalListener?.destroy(),this.htmlListener?.destroy(this)}remove(){this.elem.remove(),this.elemContainer?.remove()}setHidden(e){hr(this.elem,"display",e?"none":void 0)}isHidden(){return Ce()?.getComputedStyle?.(this.elem).display==="none"}setCursor(e){hr(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){Ee(this.elem,"aria-describedby",e)}setAriaHidden(e){Ee(this.elem,"aria-hidden",e)}setAriaLabel(e){Ee(this.elem,"aria-label",e)}setAriaExpanded(e){Ee(this.elem,"aria-expanded",e)}setAriaControls(e){Ee(this.elem,"aria-controls",e)}setAriaHasPopup(e){Ee(this.elem,"aria-haspopup",e)}setInnerHTML(e){this.elem.innerHTML=e}setPointerEvents(e){hr(this.elem,"pointer-events",e)}isDisabled(){return Ms(this.elem,"aria-disabled",!1)}hasPopup(){let e=Ms(this.elem,"aria-haspopup");return e!==void 0&&e!=="false"}parseFloat(e){return e===""?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(e){this.elem.focus(e)}setFocusOverride(e){Ee(this.elem,"data-focus-override",e)}setPreventsDefault(e){Ee(this.elem,"data-preventdefault",e)}setTabIndex(e){Ee(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){let t=this.children.findIndex(n=>n===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(...e){this.elem.classList.add(...e)}removeClass(...e){this.elem.classList.remove(...e)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore({domIndex:e}){if(e!==void 0)return this.children.filter(t=>t.domIndex!==void 0&&t.domIndex>e).reduce((t,n)=>!t||n.domIndex<t.domIndex?n:t,void 0)}addListener(e,t){return ma.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new X8),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new iR(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){ma.isHTMLEvent(e)?this.htmlListener?.remove(e,this,t):this.htmlListener!=null&&this.internalListener?.remove(e,this,t)}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new iR(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){if(!t.sourceEvent?.bubbles)return;let{parent:n}=this;for(;n!=null;){let{internalListener:i}=n;if(i!=null){let r=g(g({},t),ma.calcCurrentXY(n.getElement(),t));i.dispatch(e,n,r)}n=n.parent}}static addWindowEvent(e,t){let n=i=>{i.persisted||t()};return gt(Ce(),"pagehide",n)}};function lZ(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var yE=class{constructor(e=5){this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;let t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){let n=this.store.keys(),i=this.store.size-this.maxCacheSize;for(;i>0;){let r=n.next();r.done||this.store.delete(r.value),i--}}return t}clear(){this.store.clear()}},Al=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){let t=qt.toFontString(e.font),n=`${t}-${e.textAlign??"start"}-${e.textBaseline??"top"}`;return this.instanceMap.get(n)??this.createFontMeasurer(t,e,n)}static clear(){this.instanceMap.clear()}static createFontMeasurer(e,t,n){let i=lZ();i.font=e,i.textAlign=t.textAlign??"start",i.textBaseline=t.textBaseline??"top";let r=new f2(i,t);return this.instanceMap.set(n,r),r}};Al.instanceMap=new yE(10);var f2=class{constructor(e,t){this.ctx=e,this.measureMap=new yE(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=qt.toFontString(t.font),this.textMeasurer=new vE(n=>this.cachedCtxMeasureText(n),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){let t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},qt=(()=>{let e=class{static toFontString({fontSize:t=10,fontStyle:n,fontWeight:i,fontFamily:r}){let o="";return n&&n!=="normal"&&(o+=`${n} `),i&&i!=="normal"&&i!==400&&(o+=`${i} `),o+=`${t}px`,o+=` ${r}`,o.trim()}static getLineHeight(t){return Math.ceil(t*this.defaultLineHeight)}static getHorizontalModifier(t){switch(t){case"left":case"start":return 0;case"center":return .5;case"right":case"end":return 1;default:return 0}}static getVerticalModifier(t){switch(t){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};return e.EllipsisChar="\u2026",e.defaultLineHeight=1.15,e.lineSplitter=/\r?\n/g,e})(),vE=class{constructor(e,t="alphabetic"){this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){let t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent}}getMultilineMetrics(e){let t=0,n=0,i=0,r=0,o=0,s=0,a=qt.getVerticalModifier(this.textBaseline),l=[],c=0,u=e.length;for(let d of e){let h=this.measureTextFn(d);h.fontBoundingBoxAscent??(h.fontBoundingBoxAscent=h.emHeightAscent),h.fontBoundingBoxDescent??(h.fontBoundingBoxDescent=h.emHeightDescent),t<h.width&&(t=h.width),r<h.actualBoundingBoxLeft&&(r=h.actualBoundingBoxLeft),c===0?(n+=h.actualBoundingBoxAscent,i+=h.actualBoundingBoxAscent,s=h.alphabeticBaseline):o+=h.fontBoundingBoxAscent,c===u-1?n+=h.actualBoundingBoxDescent:o+=h.fontBoundingBoxDescent,l.push({text:d,width:h.width,height:h.actualBoundingBoxAscent+h.actualBoundingBoxDescent,lineHeight:h.fontBoundingBoxAscent+h.fontBoundingBoxDescent,offsetTop:h.actualBoundingBoxAscent,offsetLeft:h.actualBoundingBoxLeft}),c++}return n+=o,i+=o*a,{width:t,height:n,offsetTop:i,offsetLeft:r,alphabeticBaseline:s,lineMetrics:l}}textWidth(e,t){if(t){let n=0;for(let i=0;i<e.length;i++)n+=this.textWidth(e.charAt(i));return n}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){let t=typeof e=="string"?e.split(qt.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){let{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}};function cZ(e){for(let t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function uZ(){if(!("memory"in performance))return;let{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:n}=performance.memory,i=[];for(let r of[t,e,n])typeof r=="number"&&i.push(cZ(r));return`Heap ${i.join(" / ")}`}function rR(e,t,n,i,r={},o=re.zero){if(!We.check("scene:stats","scene:stats:verbose"))return;let{layersRendered:s=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:c=0,opsPerformed:u=0,opsSkipped:d=0}=i??{},h=performance.now(),N=t,{start:f}=N,p=Vt(N,["start"]),m=Object.entries(p).map(([k,j])=>oR(k,j)).filter(k=>k!=null).join(" + "),b=Object.entries(r).map(([k,j])=>`${k}: ${JSON.stringify(j)}`).join(" ; "),v=We.check("scene:stats:verbose"),x=uZ(),M=[`${oR("\u23F1\uFE0F",f,h)} (${m})`,`${b}`,`Layers: ${v?Rw(s,a):e.size}`,v?`Nodes: ${Rw(l,c)}`:null,v?`Ops: ${Rw(u,d)}`:null,v&&x?x:null].filter(nn),D=new vE(k=>n.measureText(k)),w=new Map(M.map(k=>[k,D.measureLines(k)])),E=Math.max(...Array.from(w.values(),k=>k.width)),C=mZ(w.values(),k=>k.height),_=2+o.x;n.save();try{n.fillStyle="white",n.fillRect(_,0,E,C),n.fillStyle="black";let k=0;for(let[j,V]of w.entries())k+=V.height,n.fillText(j,_,k)}catch(k){P.warnOnce("Error during debug stats rendering",k)}finally{n.restore()}}function dZ(e){let t=Ac(Ce("agChartsSceneDebug")),n=[];for(let i of t)i==="layout"?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(i);e.debugNodeSearch=n}function hZ(e,t){e.save();try{for(let[n,i]of Object.entries(t)){let r=gn.toCanvas(i);if(!r){P.log(`Scene.render() - no bbox for debugged node [${n}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(r.x,r.y,r.width,r.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(n,r.x,r.y,r.width),e.fillText(n,r.x,r.y,r.width)}}catch(n){P.warnOnce("Error during debug rendering",n)}finally{e.restore()}}var fZ=new Set,pZ=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function gZ(e){let t=Vt(e,[]);for(let n of Object.keys(t))pZ.has(n)||typeof t[n]!="number"&&typeof t[n]!="string"&&typeof t[n]!="boolean"&&(fZ.add(n),delete t[n]);return t}function nx(e,t){if(!We.check(!0,"scene"))return{};let n=0;return g({node:t==="json"?gZ(e):e,name:e.name??e.id,dirty:e instanceof Ve?e.dirty:void 0},Array.from(e instanceof Ve?e.children():[],i=>nx(i,t)).reduce((i,r)=>{let{name:o}=r,{node:{visible:s,opacity:a,zIndex:l,translationX:c,translationY:u,rotation:d,scalingX:h,scalingY:f},node:p}=r;(!s||a<=0)&&(o=`(${o})`),Ve.is(p)&&p.renderToOffscreenCanvas&&(o=`*${o}*`);let m=Array.isArray(l)?`(${l.join(", ")})`:l,b=[`${(n++).toString().padStart(3,"0")}|`,`${o??"<unknown>"}`,`z: ${m}`,c&&`x: ${c}`,u&&`y: ${u}`,d&&`r: ${d}`,h!=null&&h!==1&&`sx: ${h}`,f!=null&&f!==1&&`sy: ${f}`].filter(M=>!!M).join(" "),v=b,x=1;for(;i[v]!=null&&x<100;)v=`${b} (${x++})`;return i[v]=r,i},{}))}function p2(e){let t=e instanceof Ve?e.dirty:void 0;if(!t)return{dirtyTree:{},paths:[]};let n=Array.from(e instanceof Ve?e.children():[],o=>p2(o)).filter(o=>o.paths.length>0),i=Ve.is(e)?e.name??e.id:e.id,r=n.length?n.flatMap(o=>o.paths).map(o=>`${i}.${o}`):[i];return{dirtyTree:g({name:i,node:e,dirty:t},n.map(o=>o.dirtyTree).filter(o=>o.dirty!=null).reduce((o,s)=>(o[s.name??"<unknown>"]=s,o),{})),paths:r}}function Rw(e,t){let n=e+t;return`${e} / ${n} (${Math.round(100*e/n)}%)`}function oR(e,t,n){let i=n!=null?n-t:t;return`${e}: ${Math.round(i*100)/100}ms`}function mZ(e,t){let n=0;for(let i of e)n+=t(i);return n}var Lp=(e,{x0:t,y0:n,x1:i,y1:r,cx:o,cy:s},a,l)=>{if(l&&e.moveTo(t,n),t!==i||n!==r){let c=Math.atan2(n-s,t-o),u=Math.atan2(r-s,i-o);e.arc(o,s,a,c,u)}else e.lineTo(t,n)},ir=(()=>{let e=class extends On{constructor(){super(...arguments),this.path=new rh,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}resetPathDirty(){this.path.clear(!0),this._dirtyPath=!1}isPathDirty(){return this.path.isDirty()}onChangeDetection(t){this._dirtyPath||(this._dirtyPath=!0,super.onChangeDetection(t))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(t,n){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,n)}distanceSquared(t,n){return this.distanceSquaredTransformedPoint(t,n)}svgPathData(t){return this.updatePathIfDirty(),this.path.toSVG(t)}distanceSquaredTransformedPoint(t,n){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,n)?0:this.path.distanceSquared(t,n)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(t){return t.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=t.devicePixelRatio,this.updatePathIfDirty(),super.preRender(t,this.path.commands.length)}render(t){let{ctx:n}=t;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){n.save();try{let i=this.strokeWidth/2;this._clipPath??(this._clipPath=new rh),this._clipPath.clear(),this._clipPath.rect(-i,-i,this._clipX+i,this._clipY+i+i),n.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(n)}finally{n.restore()}}else this._clipPath=void 0,this.drawPath(n);this.fillShadow?.markClean(),super.render(t)}drawPath(t){this.fillStroke(t,this.path.getPath2D())}toSVG(){if(!this.visible)return;let t=St("path");t.setAttribute("d",this.svgPathData());let n=this.applySvgFillAttributes(t,[]);return this.applySvgStrokeAttributes(t),{elements:[t],defs:n}}};return e.className="Path",e})();y([Y()],ir.prototype,"clip",2);y([Y()],ir.prototype,"clipX",1);y([Y()],ir.prototype,"clipY",1);var sR=1e-6,Hb=(e,t,n,i,r)=>{let o=!1,s=!1,a=i-Math.sqrt(Math.max(r**2-n**2,0)),l=0,c=0,u=n-Math.sqrt(Math.max(r**2-i**2,0));return a>e?(o=!0,a=e,l=n-Math.sqrt(Math.max(r**2-(i-e)**2))):a<sR&&(a=0),u>t?(s=!0,c=i-Math.sqrt(Math.max(r**2-(n-t)**2)),u=t):u<sR&&(u=0),{leading0:a,leading1:l,trailing0:c,trailing1:u,leadingClipped:o,trailingClipped:s}},ix=(e,t,n,i,r,o,s)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:u}=o,d=Math.max(a+u,l+c),h=Math.max(a+l,u+c);if(d<=0&&h<=0){s==null?e.rect(t,n,i,r):e.rect(s.x,s.y,s.width,s.height);return}else if(s==null&&a===l&&a===c&&a===u){e.roundRect(t,n,i,r,a);return}if(i<0&&(t+=i,i=Math.abs(i)),r<0&&(n+=r,r=Math.abs(r)),i<=0||r<=0)return;if(s==null)s=new re(t,n,i,r);else{let C=Math.max(t,s.x),_=Math.min(t+i,s.x+s.width),N=Math.max(n,s.y),k=Math.min(n+r,s.y+s.height);s=new re(C,N,_-C,k-N)}let f=Math.max(d/r,h/i,1);f>1&&(a/=f,l/=f,c/=f,u/=f);let p=!0,m=!0,b=!0,v=!0,x,M,D,w;if(p){let C=Hb(s.height,s.width,Math.max(t+a-s.x,0),Math.max(n+a-s.y,0),a);C.leadingClipped&&(v=!1),C.trailingClipped&&(m=!1);let _=Math.max(s.x+C.leading1,s.x),N=Math.max(s.y+C.leading0,s.y),k=Math.max(s.x+C.trailing1,s.x),j=Math.max(s.y+C.trailing0,s.y),V=t+a,$=n+a;x={x0:_,y0:N,x1:k,y1:j,cx:V,cy:$}}if(m){let C=Hb(s.width,s.height,Math.max(n+l-s.y,0),Math.max(s.x+s.width-(t+i-l),0),l);C.leadingClipped&&(p=!1),C.trailingClipped&&(b=!1);let _=Math.min(s.x+s.width-C.leading0,s.x+s.width),N=Math.max(s.y+C.leading1,s.y),k=Math.min(s.x+s.width-C.trailing0,s.x+s.width),j=Math.max(s.y+C.trailing1,s.y),V=t+i-l,$=n+l;M={x0:_,y0:N,x1:k,y1:j,cx:V,cy:$}}if(b){let C=Hb(s.height,s.width,Math.max(s.x+s.width-(t+i-c),0),Math.max(s.y+s.height-(n+r-c),0),c);C.leadingClipped&&(m=!1),C.trailingClipped&&(v=!1);let _=Math.min(s.x+s.width-C.leading1,s.x+s.width),N=Math.min(s.y+s.height-C.leading0,s.y+s.height),k=Math.min(s.x+s.width-C.trailing1,s.x+s.width),j=Math.min(s.y+s.height-C.trailing0,s.y+s.height),V=t+i-c,$=n+r-c;D={x0:_,y0:N,x1:k,y1:j,cx:V,cy:$}}if(v){let C=Hb(s.width,s.height,Math.max(s.y+s.height-(n+r-u),0),Math.max(t+u-s.x,0),u);C.leadingClipped&&(b=!1),C.trailingClipped&&(p=!1);let _=Math.max(s.x+C.leading0,s.x),N=Math.min(s.y+s.height-C.leading1,s.y+s.height),k=Math.max(s.x+C.trailing0,s.x),j=Math.min(s.y+s.height-C.trailing1,s.y+s.height),V=t+u,$=n+r-u;w={x0:_,y0:N,x1:k,y1:j,cx:V,cy:$}}let E=!1;p&&x!=null&&(Lp(e,x,a,!E),E||(E=!0)),m&&M!=null&&(Lp(e,M,l,!E),E||(E=!0)),b&&D!=null&&(Lp(e,D,c,!E),E||(E=!0)),v&&w!=null&&Lp(e,w,u,!E),e.closePath()},oi=(()=>{let e=class extends ir{constructor(){super(...arguments),this.borderPath=new rh,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=this.strokeWidth,this.effectiveStrokeWidth=this.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){let{path:t,borderPath:n,crisp:i,topLeftCornerRadius:r,topRightCornerRadius:o,bottomRightCornerRadius:s,bottomLeftCornerRadius:a}=this,{x:l,y:c,width:u,height:d,strokeWidth:h,clipBBox:f}=this,m=1/(this.layerManager?.canvas.pixelRatio??1),b=1;if(t.clear(!0),n.clear(!0),u===0||d===0){this.effectiveStrokeWidth=0,this.lastUpdatePathStrokeWidth=0,this.microPixelEffectOpacity=0;return}if(i&&(u<=m&&(b*=u/m),d<=m&&(b*=d/m),u=this.align(l,u),d=this.align(c,d),l=this.align(l),c=this.align(c),f=f!=null?new re(this.align(f.x),this.align(f.y),this.align(f.x,f.width),this.align(f.y,f.height)):void 0),h)if(u<m){let v=l+m/2;n.moveTo(v,c),n.lineTo(v,c+d),h=m,this.borderClipPath=void 0}else if(d<m){let v=c+m/2;n.moveTo(l,v),n.lineTo(l+u,v),h=m,this.borderClipPath=void 0}else if(h<u&&h<d){let v=h/2;l+=v,c+=v,u-=h,d-=h;let x=f?.clone().shrink(v),M={topLeft:r>0?r-h:0,topRight:o>0?o-h:0,bottomRight:s>0?s-h:0,bottomLeft:a>0?a-h:0};this.borderClipPath=void 0,u>0&&d>0&&(x==null||x?.width>0&&x?.height>0)&&(ix(t,l,c,u,d,M,x),ix(n,l,c,u,d,M,x))}else this.borderClipPath=this.borderClipPath??new rh,this.borderClipPath.clear(!0),this.borderClipPath.rect(l,c,u,d),n.rect(l,c,u,d);else{let v={topLeft:r,topRight:o,bottomRight:s,bottomLeft:a};this.borderClipPath=void 0,ix(t,l,c,u,d,v,f)}if([r,o,s,a].every(v=>v===0)){let v=this.getBBox();this.hittester=v.containsPoint.bind(v),this.distanceSquared=(x,M)=>this.getBBox().distanceSquared(x,M)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=b}computeBBox(){let{x:t,y:n,width:i,height:r,clipBBox:o}=this;return o?.clone()??new re(t,n,i,r)}isPointInPath(t,n){return this.hittester(t,n)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(t,n){return this.distanceCalculator(t,n)}applyFillAndAlpha(t){super.applyFillAndAlpha(t),t.globalAlpha*=this.microPixelEffectOpacity}applyStrokeAndAlpha(t){super.applyStrokeAndAlpha(t),t.globalAlpha*=this.microPixelEffectOpacity}renderStroke(t){let{stroke:n,effectiveStrokeWidth:i}=this;if(n&&i){let{globalAlpha:r}=t,{lineDash:o,lineDashOffset:s,lineCap:a,lineJoin:l,borderPath:c,borderClipPath:u}=this;u&&t.clip(u.getPath2D()),this.applyStrokeAndAlpha(t),t.lineWidth=i,o&&t.setLineDash(o),s&&(t.lineDashOffset=s),a&&(t.lineCap=a),l&&(t.lineJoin=l),t.stroke(c.getPath2D()),t.globalAlpha=r}}};return e.className="Rect",e})();y([Y()],oi.prototype,"x",2);y([Y()],oi.prototype,"y",2);y([Y()],oi.prototype,"width",2);y([Y()],oi.prototype,"height",2);y([Y()],oi.prototype,"topLeftCornerRadius",2);y([Y()],oi.prototype,"topRightCornerRadius",2);y([Y()],oi.prototype,"bottomRightCornerRadius",2);y([Y()],oi.prototype,"bottomLeftCornerRadius",2);y([Ur({equals:Td})],oi.prototype,"clipBBox",2);y([Y()],oi.prototype,"crisp",2);var Pw=!1,vr=class Vd extends On{constructor(t){super(t),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=Vd.defaultFontSize,this.fontFamily="sans-serif",this.textAlign="start",this.textBaseline="alphabetic",this.boxPadding=0,this.trimText=t?.trimText??!0}onTextChange(){if(this.richText?.clear(),this.textMap?.clear(),Ie(this.text))this.lines=[],this.richText??(this.richText=new Ve),this.richText.setScene(this.scene),this.richText.append(this.text.map(()=>new Vd({trimText:!1})));else{let t=this.text?.split(`
`)??[];this.lines=this.trimText?t.map(n=>n.trim()):t}}static computeBBox(t,n,i,r,o=!0){let{font:s,font:{fontSize:a},textAlign:l,textBaseline:c,lineHeight:u=o?qt.getLineHeight(a):void 0}=r,{width:d,alphabeticBaseline:h,offsetLeft:f,offsetTop:p,height:m}=Al.measureLines(t,o?{font:s,lineHeight:u,textAlign:"start",textBaseline:"top"}:r),b=u==null?m:u*t.length,v;u==null?v=p:c==="alphabetic"?v=(u-a)/2-h:v=qt.getVerticalModifier(c)*b;let x=o?d*qt.getHorizontalModifier(l):f;return new re(n-x,i-v,d,b)}computeBBox(t=Pw){if(this.generateTextMap(),this.textMap?.size){let c=re.merge(this.textMap.values());return c.x=this.x,c.y=this.y,c}let{x:n,y:i,lines:r,textBaseline:o,textAlign:s,lineHeight:a}=this,l=Vd.computeBBox(r,n,i,{font:this,textBaseline:o,textAlign:s,lineHeight:a},t);return this.boxing!=null&&l.grow(this.boxPadding),l}getBBox(t=!0){if(t){Pw=!0;let n=this.computeBBox(!0);return Pw=!1,n}return super.getBBox()}getPlainText(){return Mp(this.text)}getTextMeasureBBox(){return this.computeBBox()}isPointInPath(t,n){return this.getBBox()?.containsPoint(t,n)??!1}setScene(t){this.richText?.setScene(t),super.setScene(t)}generateTextMap(){if(!Ie(this.text)||this.textMap?.size)return;this.textMap??(this.textMap=new Map);let t=0,n=0,i=0,r={fill:this.fill,fontSize:this.fontSize,fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight};for(let a of this.richText.children()){let s=this.text[t++],{color:l}=s,c=Vt(s,["color"]);a.x=0,a.y=0,a.setProperties(Dt({fill:l},c,r));let u=a.getBBox();this.textMap.set(a,u),i=Math.max(i,u.y+u.height/2+(a.lineHeight??qt.getLineHeight(a.fontSize))),n+=u.x+u.width}let o=this.x-n/2;for(let[a,l]of this.textMap)a.x+=o,a.y+=i,o+=l.width}render(t){let{ctx:n,stats:i}=t;if(!this.text||!this.layerManager)return i&&(i.nodesSkipped+=1),super.render(t);if(Ie(this.text)){this.generateTextMap();let{width:r}=this.richText.getBBox(),o=0;switch(this.textAlign){case"left":case"start":o=r/2;break;case"right":case"end":o=r/-2}n.save(),n.translate(o,this.y),this.richText.render(t),n.restore()}else this.renderText(t);if(Vd.debug.check()&&!this.textMap?.size){let r=this.getBBox(!0);n.strokeStyle="red",n.lineWidth=1,n.strokeRect(r.x,r.y,r.width,r.height)}super.render(t)}markDirty(t){return this.textMap?.clear(),super.markDirty(t)}renderText(t){let{fill:n,stroke:i,strokeWidth:r}=this;if(!n&&!(i&&r)||!this.layerManager)return super.render(t);let{ctx:o}=t,s=qt.toFontString(this);o.font!==s&&(o.font=s);let{fontSize:a,lineHeight:l=qt.getLineHeight(a),textAlign:c,textBaseline:u}=this;if(o.textAlign=c,o.textBaseline=u,this.boxing){let d={font:this,textBaseline:u,textAlign:c,lineHeight:l},h=Vd.computeBBox(this.lines,this.x,this.y,d);if(h.width!==0&&h.height!==0){let{x:f,y:p,width:m,height:b}=h.grow(this.boxPadding);this.boxing.opacity=this.opacity,this.boxing.x=f,this.boxing.y=p,this.boxing.width=m,this.boxing.height=b,this.boxing.preRender(t),this.boxing.render(t)}}this.fillStroke(o)}executeFill(t){let{fontSize:n,lineHeight:i=qt.getLineHeight(n),textBaseline:r,lines:o}=this,s=r==="alphabetic"?0:qt.getVerticalModifier(r)*i*(1-o.length);this.renderLines(s,i,(a,l,c)=>t.fillText(a,l,c))}executeStroke(t){let{fontSize:n,lineHeight:i=qt.getLineHeight(n),textBaseline:r,lines:o}=this,s=r==="alphabetic"?0:qt.getVerticalModifier(r)*i*(1-o.length);this.renderLines(s,i,(a,l,c)=>t.strokeText(a,l,c))}renderLines(t,n,i){let{lines:r,x:o,y:s}=this;if(!(!Number.isFinite(o)||!Number.isFinite(s)||!Number.isFinite(t)||!Number.isFinite(n)))for(let a of r)i(a,o,s+t),t+=n}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}setBoxing(t){let n=t.border?.enabled?t.border?.stroke:void 0;t.fill!=null||n!=null?(this.boxing??(this.boxing=new oi({scene:this.scene})),this.boxing.fill=t.fill,this.boxing.fillOpacity=t.fillOpacity??1,this.boxing.cornerRadius=t.cornerRadius??0,this.boxing.stroke=n,this.boxing.strokeWidth=t.border?.strokeWidth??0,this.boxing.strokeOpacity=t.border?.strokeOpacity??1,this.boxPadding=t.padding??0):this.boxing&&(this.boxing.destroy(),this.boxing=void 0)}getBoxingProperties(){let{fill:t,fillOpacity:n,cornerRadius:i,stroke:r,strokeWidth:o,strokeOpacity:s}=this.boxing??{};return{border:{enabled:r!=null,stroke:r,strokeWidth:o,strokeOpacity:s},cornerRadius:i,fill:t,fillOpacity:n,padding:this.boxPadding}}toSVG(){if(!this.visible||!this.text)return;let t=St("text");if(nn(this.text))this.applySvgFillAttributes(t),eR(t,this),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",this.textBaseline),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text;else for(let n of this.text){let i=St("tspan");eR(i,{fontSize:n.fontSize??this.fontSize,fontFamily:n.fontFamily??this.fontFamily,fontWeight:n.fontWeight??this.fontWeight,fontStyle:n.fontStyle??this.fontStyle}),this.applySvgFillAttributes(i),i.textContent=n.text,t.append(i)}return{elements:[t]}}};vr.className="Text";vr.debug=We.create(!0,"scene:text");vr.defaultFontSize=10;y([Y()],vr.prototype,"x",2);y([Y()],vr.prototype,"y",2);y([GP({changeCb:e=>e.onTextChange()})],vr.prototype,"text",2);y([Y()],vr.prototype,"fontStyle",2);y([Y()],vr.prototype,"fontWeight",2);y([Y()],vr.prototype,"fontSize",2);y([Y()],vr.prototype,"fontFamily",2);y([Y()],vr.prototype,"textAlign",2);y([Y()],vr.prototype,"textBaseline",2);y([Y()],vr.prototype,"lineHeight",2);var Vr=vr,g2=class extends vh(Vr){},oh=class extends vh(bh(Vr)){},xg=class{static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){let n=this.textWrap(e,t);return t.overflow==="hide"&&n.some(i=>i.endsWith(qt.EllipsisChar))?[]:n}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+qt.EllipsisChar}static truncateLine(e,t,n,i){let r=t.textWidth(qt.EllipsisChar),o=0,s=0;for(;s<e.length;s++){let a=t.textWidth(e.charAt(s));if(o+a>n)break;o+=a}if(e.length===s&&(!i||o+r<=n))return i?e+qt.EllipsisChar:e;for(e=e.slice(0,s).trimEnd();e.length&&t.textWidth(e)+r>n;)e=e.slice(0,-1).trimEnd();return e+qt.EllipsisChar}static textWrap(e,t){let n=e.split(qt.lineSplitter),i=Al.getMeasurer(t);if(t.textWrap==="never")return n.map(a=>this.truncateLine(a.trimEnd(),i,t.maxWidth));let r=[],o=t.textWrap==="hyphenate",s=t.textWrap==null||t.textWrap==="on-space";for(let a of n){let l=a.trimEnd();if(l===""){r.push(l);continue}let c=0,u=0,d=0;for(;c<l.length;){let h=l.charAt(c);if(u+=i.textWidth(h),h===" "&&(d=c),u>t.maxWidth){if(c===0)break;let f=i.textWidth(l.slice(0,c+1));if(f<=t.maxWidth){u=f,c++;continue}if(d){let b=this.getWordAt(l,d+1),v=i.textWidth(b);if(v<=t.maxWidth){r.push(l.slice(0,d).trimEnd()),l=l.slice(d).trimStart(),c=0,u=0,d=0;continue}else s&&v>t.maxWidth&&r.push(l.slice(0,d).trimEnd(),this.truncateLine(l.slice(d).trimStart(),i,t.maxWidth,!0))}else s&&r.push(this.truncateLine(l,i,t.maxWidth,!0));if(s){l="";break}let p=o?"-":"",m=l.slice(0,c).trim();for(;m.length&&i.textWidth(m+p)>t.maxWidth;)m=m.slice(0,-1).trimEnd();if(r.push(m+p),!m.length){l="";break}l=l.slice(m.length).trimStart(),c=-1,u=0,d=0}c++}l&&r.push(l)}return this.avoidOrphans(r,i,t),this.clipLines(r,i,t)}static getWordAt(e,t){let n=e.indexOf(" ",t);return n===-1?e.slice(t):e.slice(t,n)}static clipLines(e,t,n){if(!n.maxHeight)return e;let{height:i,lineMetrics:r}=t.measureLines(e);if(i<=n.maxHeight)return e;for(let o=0,s=0;o<r.length;o++){let{lineHeight:a}=r[o];if(s+=a,s>n.maxHeight){if(n.overflow==="hide")return[];let l=e.slice(0,o||1),c=l.pop();return l.concat(this.truncateLine(c,t,n.maxWidth,!0))}}return e}static avoidOrphans(e,t,n){if(n.avoidOrphans===!1||e.length<2)return;let{length:i}=e,r=e[i-1],o=e[i-2];if(o.length<r.length)return;let s=o.lastIndexOf(" ");if(s===-1||s===o.indexOf(" ")||r.includes(" "))return;let a=o.slice(s+1);t.textWidth(r+a)<=n.maxWidth&&(e[i-2]=o.slice(0,s),e[i-1]=a+" "+r)}},m2={};Ls(m2,{BASE_FONT_SIZE:()=>fa,CARTESIAN_AXIS_TYPE:()=>v2,CARTESIAN_POSITION:()=>y2,FONT_SIZE:()=>bE,FONT_SIZE_RATIO:()=>Br,POLAR_AXIS_SHAPE:()=>x2,POLAR_AXIS_TYPE:()=>b2});var bE=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(bE||{}),fa=12,Br=(e=>(e[e.SMALLEST=8/fa]="SMALLEST",e[e.SMALLER=10/fa]="SMALLER",e[e.SMALL=12/fa]="SMALL",e[e.MEDIUM=13/fa]="MEDIUM",e[e.LARGE=14/fa]="LARGE",e[e.LARGEST=17/fa]="LARGEST",e))(Br||{}),y2=(e=>(e.TOP="top",e.TOP_RIGHT="top-right",e.TOP_LEFT="top-left",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.BOTTOM="bottom",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e))(y2||{}),v2=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.UNIT_TIME="unit-time",e.TIME="time",e.NUMBER="number",e.LOG="log",e))(v2||{}),b2=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(b2||{}),x2=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(x2||{}),mn=(()=>{let e=class extends Te{constructor(){super(...arguments),this.id=In(this),this.node=new g2({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(t,n){return t.eventsHub.on("layout:complete",()=>this.updateA11yText(t,n))}computeTextWrap(t,n){let{text:i,padding:r,wrapping:o}=this;if(Ie(i))return;let s=Math.min(this.maxWidth??1/0,t)-r*2,a=this.maxHeight??n-r*2;if(!isFinite(s)&&!isFinite(a)){this.node.text=i;return}let l=xg.wrapText(i??"",{maxWidth:s,maxHeight:a,font:this,textWrap:o});this.node.text=l,this.truncated=l.includes(qt.EllipsisChar)}updateA11yText(t,n){let{proxyInteractionService:i}=t;if(this.enabled&&this.text){let r=gn.toCanvas(this.node);if(r){let{id:o}=this;this.proxyText??(this.proxyText=i.createProxyElement({type:"text",domManagerId:o,where:n})),this.proxyText.textContent=Mp(this.text),this.proxyText.setBounds(r),this.proxyText.addListener("mousemove",s=>this.handleMouseMove(t,s)),this.proxyText.addListener("mouseleave",s=>this.handleMouseLeave(t,s))}}else this.proxyText?.destroy(),this.proxyText=void 0}handleMouseMove(t,n){if(n!=null&&this.enabled&&this.truncated){let{x:i,y:r}=gn.toCanvas(this.node),o=n.sourceEvent.offsetX+i,s=n.sourceEvent.offsetY+r;t.tooltipManager.updateTooltip(this.id,{canvasX:o,canvasY:s,showArrow:!1},[{type:"structured",title:Mp(this.text)}])}}handleMouseLeave(t,n){t.tooltipManager.removeTooltip(this.id)}};return e.SMALL_PADDING=10,e})();y([S,En("node","visible")],mn.prototype,"enabled",2);y([S,En("node")],mn.prototype,"text",2);y([S,En("node")],mn.prototype,"textAlign",2);y([S,En("node")],mn.prototype,"fontStyle",2);y([S,En("node")],mn.prototype,"fontWeight",2);y([S,En("node")],mn.prototype,"fontSize",2);y([S,En("node")],mn.prototype,"fontFamily",2);y([S,En("node","fill")],mn.prototype,"color",2);y([S],mn.prototype,"spacing",2);y([S],mn.prototype,"maxWidth",2);y([S],mn.prototype,"maxHeight",2);y([S],mn.prototype,"wrapping",2);y([S],mn.prototype,"padding",2);y([S],mn.prototype,"layoutStyle",2);var xE=(e=>(e.X="x",e.Y="y",e.Angle="angle",e.Radius="radius",e))(xE||{});function yZ(e){switch(e){case"x":case"y":case"angle":case"radius":return!0;default:return!1}}var e0=class{constructor(){this.title=new mn,this.subtitle=new mn,this.footnote=new mn}positionCaptions(e){let{title:t,subtitle:n,footnote:i}=this,r=e.layoutBox.height/10;t.enabled&&(this.positionCaption("top",t,e.layoutBox,r),this.shrinkLayoutByCaption("top",t,e.layoutBox)),n.enabled&&(this.positionCaption("top",n,e.layoutBox,r),this.shrinkLayoutByCaption("top",n,e.layoutBox)),i.enabled&&(this.positionCaption("bottom",i,e.layoutBox,r),this.shrinkLayoutByCaption("bottom",i,e.layoutBox))}positionAbsoluteCaptions(e){let{title:t,subtitle:n,footnote:i}=this,{rect:r}=e.series;for(let o of[t,n,i])if(o.layoutStyle==="overlay"){if(o.textAlign==="left")o.node.x=r.x+o.padding;else if(o.textAlign==="right"){let s=o.node.getBBox();o.node.x=r.x+r.width-s.width-o.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,n,i){let r=Math.max(qt.getLineHeight(t.fontSize),i);t.node.x=this.computeX(t.textAlign,n)+t.padding,t.node.y=n.y+(e==="top"?0:n.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(n.width,r)}shrinkLayoutByCaption(e,t,n){if(t.layoutStyle==="block"){let i=t.node.getBBox(),{spacing:r=0}=t;e==="bottom"&&Ie(t.text)&&(t.node.y-=i.height,i.y-=i.height),n.shrink(Math.ceil(e==="top"?i.y-n.y+i.height+r:n.y+n.height-i.y+r),e)}}};y([S],e0.prototype,"title",2);y([S],e0.prototype,"subtitle",2);y([S],e0.prototype,"footnote",2);var vZ=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],bZ=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){let e=this.chartService.publicApi?.getOptions()?.chartType;return e??(e="candlestick"),e}guardMemento(e){return e==null||vZ.includes(e)}restoreMemento(e,t,n){if(n==null)return;let i={chartType:n};this.chartService.publicApi?.updateDelta(i).catch(r=>P.error("error restoring state",r))}},sh="12.1.2",aR=Symbol("previous-memento-not-found"),xZ=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=We.create(!0,"history"),this.cleanup=new Be,this.cleanup.register(e.on("series:undo",this.undo.bind(this)),e.on("series:redo",this.redo.bind(this)))}destroy(){this.cleanup.flush()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(let[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));let n=new Map;for(let i of t){if(!this.originators.has(i.mementoOriginatorKey))throw new Error(`Originator [${i.mementoOriginatorKey}] has not been added to the HistoryManager.`);n.set(i.mementoOriginatorKey,i.createMemento())}this.history.push({label:e,mementos:n}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){let e=this.history[this.historyIndex];if(e){for(let t of e.mementos.keys()){let n=this.findPreviousMemento(t);if(n===aR)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,n)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){let e=this.history[this.historyIndex+1];if(e){for(let[t,n]of e.mementos.entries())this.restoreMemento(t,n);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):aR}restoreMemento(e,t){this.originators.get(e)?.restoreMemento(sh,sh,t)}debugEvent(...e){this.debug(...e,this.history.map((t,n)=>n===this.historyIndex?`** ${t.label} **`:t.label))}},S2=class MC{constructor(t){this.version=t.split("-")[0]}save(...t){let n={version:this.version};for(let i of Object.values(t))n[i.mementoOriginatorKey]=this.encode(i,i.createMemento());return n}restore(t,...n){if(typeof t!="object"){P.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){P.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){P.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(let i of n){let r=this.decode(i,t[i.mementoOriginatorKey]),o=[];if(!i.guardMemento(r,o)){let s=o.length>0?`

${o.join(`

`)}

`:"";P.warnOnce(`Could not restore [${i.mementoOriginatorKey}] data, value was invalid, ignoring.${s}`,r);return}i.restoreMemento(this.version,t.version,r)}}encode(t,n){try{return JSON.parse(JSON.stringify(n,MC.encodeTypes))}catch(i){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(t,n){if(n==null)return n;try{return JSON.parse(JSON.stringify(n),MC.decodeTypes)}catch(i){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}static encodeTypes(t,n){return ra(this[t])?{__type:"date",value:this[t].toISOString()}:n}static decodeTypes(t,n){return yt(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):n}},SZ=class{constructor(){this.caretaker=new S2(sh),this.state=new Map}setState(e,t){Un(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){let{caretaker:t,state:n}=this;if(!n.has(e.mementoOriginatorKey))return;let i=n.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:i},e)}},MZ=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-border-radius: 4px;--ag-charts-chart-background-color: #fff;--ag-charts-chart-padding: 20px;--ag-charts-focus-shadow: 0 0 0 3px #2196f3;--ag-charts-foreground-color: #181d1f;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-popup-shadow: 0 0 16px rgba(0, 0, 0, .15);--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #181d1f;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-button-background-color: #fff;--ag-charts-button-border: 1px solid #dddddd;--ag-charts-button-font-weight: normal;--ag-charts-button-text-color: inherit;--ag-charts-input-background-color: #fff;--ag-charts-input-border: 1px solid #dddddd;--ag-charts-input-text-color: #181d1f;--ag-charts-menu-background-color: #fafafa;--ag-charts-menu-border: 1px solid #dddddd;--ag-charts-menu-text-color: #181d1f;--ag-charts-panel-background-color: #fafafa;--ag-charts-panel-text-color: #181d1f;--ag-charts-tooltip-background-color: #fafafa;--ag-charts-tooltip-border: 1px solid #dddddd;--ag-charts-tooltip-text-color: #181d1f;--ag-charts-tooltip-subtle-text-color: #8c8c8c;--ag-charts-crosshair-label-background-color: #fafafa;--ag-charts-crosshair-label-text-color: #181d1f;--ag-charts-spacing: 4px;--ag-charts-icon-size: 16px;--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-tooltip-border-radius: var(--ag-charts-border-radius);--ag-charts-menu-border-radius: var(--ag-charts-border-radius);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: 1px solid var(--ag-charts-border-color);--ag-charts-focus-border: 1px solid var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-chevron-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjQ3IDUuNDdhLjc1Ljc1IDAgMCAxIDEuMDYgMGw0IDRhLjc1Ljc1IDAgMCAxIDAgMS4wNmwtNCA0YS43NS43NSAwIDAgMS0xLjA2LTEuMDZMMTAuOTQgMTAgNy40NyA2LjUzYS43NS43NSAwIDAgMSAwLTEuMDYiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:var(--ag-charts-button-border);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-legend-toolbar{pointer-events:auto}.ag-charts-proxy-legend-toolbar>div[role=listitem]{pointer-events:none}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-tooltip-text-color);background:var(--ag-charts-tooltip-background-color);border:var(--ag-charts-tooltip-border);border-radius:var(--ag-charts-tooltip-border-radius);box-shadow:var(--ag-charts-popup-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-tooltip-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-panel-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-popup-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-menu-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-button-border);color:var(--ag-charts-button-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,SE=class{constructor(){this.cleanup=new Be,this.destroyed=!1}destroy(){this.cleanup.flush(),this.destroyed=!0}},DZ=class rx{constructor(t,n,i){this.element=t,this.topTabGuard=n,this.bottomTabGuard=i,this.cleanup=new Be,this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,!1),this.initTabGuard(this.bottomTabGuard,!0),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",r=>this.onBlur(r),{capture:!0})}set tabIndex(t){this.guardTabIndex=t,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){this.cleanup.flush()}initTabGuard(t,n){this.cleanup.register(gt(t,"focus",()=>this.onTab(t,n)))}setGuardIndices(t){let n=t;Ee(this.topTabGuard,"tabindex",n),Ee(this.bottomTabGuard,"tabindex",n)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:t}){let{topTabGuard:n,bottomTabGuard:i}=this;this.hasFocus=!1,this.guardTabIndex!==0&&t!==n&&t!==i&&this.setGuardIndices(this.guardTabIndex)}onTab(t,n){if(this.guardTabIndex!==0){let i;t.tabIndex===0?(i=this.findExitTarget(!n),this.setGuardIndices(this.guardTabIndex)):i=this.findEnterTarget(n),i?.focus()}}static queryFocusable(t,n){let i=Ce();return Array.from(t.querySelectorAll(n)).filter(r=>{if(r instanceof HTMLElement){let o=i.getComputedStyle(r);return o.display!=="none"&&o.visibility!=="none"}return!1})}findEnterTarget(t){let n=rx.queryFocusable(this.element,'[tabindex="0"]'),i=t?n.length-1:0;return n[i]}findExitTarget(t){let n=rx.queryFocusable(ki(),"[tabindex]").filter(o=>o.tabIndex>0).sort((o,s)=>o.tabIndex-s.tabIndex),{before:i,after:r}=rx.findBeforeAndAfter(n,this.guardTabIndex);return t?i:r}static findBeforeAndAfter(t,n){let i=0,r=t.length-1,o,s;for(;i<=r;){let a=Math.floor((i+r)/2),l=t[a].tabIndex;if(l===n){o=t[a-1]||void 0,s=t[a+1]||void 0;break}else l<n?(o=t[a],i=a+1):(s=t[a],r=a-1)}return{before:o,after:s}}};function t0(e,t,n=["Escape"]){return gt(e,"keydown",i=>{n0(i,...n)&&t(i)})}function ME(e,t){let n=gt(Ce(),"mousedown",i=>{[0,2].includes(i.button)&&!M2(e,i)&&(t(),n())});return n}function DE(e,t){let n=gt(Ce(),"touchstart",i=>{Array.from(i.targetTouches).some(o=>!M2(e,o))&&(t(),n())});return n}function M2(e,t){return t.target instanceof Element&&t.target.shadowRoot!=null?!0:t.target instanceof Node&&e.contains(t.target)}function IE(e,t,n){let i=r=>{for(let o of t)Ee(o,"data-focus-visible-override",r)};return i(n),gt(e,"keydown",()=>i(!0),{once:!0})}function Sg(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function n0(e,...t){return Sg(e)&&t.some(n=>e.key===n)}function lR(e,t,n){return gt(e,"keydown",i=>{n0(i,n)&&t.focus()})}var Xd={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function D2(e){let{orientation:t,buttons:n,wrapAround:i=!1,onEscape:r,onFocus:o,onBlur:s}=e,{nextKey:a,prevKey:l}=Xd[t],c=f=>{f.target&&"tabIndex"in f.target&&(n.forEach(p=>p.tabIndex=-1),f.target.tabIndex=0)},[u,d]=i?[n.length,n.length]:[0,1/0],h=new Be;for(let f=0;f<n.length;f++){let p=n[(u+f-1)%d],m=n[f],b=n[(u+f+1)%d];h.register(gt(m,"focus",c),o&&gt(m,"focus",o),s&&gt(m,"blur",s),r&&t0(m,r),p&&lR(m,p,l),b&&lR(m,b,a),gt(m,"keydown",v=>{n0(v,a,l)&&v.preventDefault()})),m.tabIndex=f===0?0:-1}return h}var IZ=class{constructor(e,t,n){this.lastFocus=t,this.closeCallback=n,this.cleanup=new Be,this.cleanup.register(ME(e,()=>this.close(!0)),DE(e,()=>this.close(!0)))}close(e){this.cleanup.flush(),this.closeCallback(),this.finishClosing(e)}finishClosing(e){this.cleanup.flush(),Ee(this.lastFocus,"aria-expanded",!1),e||this.lastFocus?.focus({preventScroll:!0}),this.lastFocus=void 0}};function I2(e){let{sourceEvent:t,orientation:n,menu:i,buttons:r,closeCallback:o,overrideFocusVisible:s}=e,{nextKey:a,prevKey:l}=Xd[n],c=r0(t);Ee(c,"aria-expanded",!0);let u=new IZ(i,c,o),d=()=>u.close(),{cleanup:h}=u;return i.role="menu",i.ariaOrientation=n,h.merge(D2({orientation:n,buttons:r,onEscape:d,wrapAround:!0})),i.tabIndex=-1,h.register(t0(i,d),gt(i,"keydown",f=>{f.target===i&&(f.key===a||f.key===l)&&(f.preventDefault(),r[0]?.focus())})),r[0]?.focus({preventScroll:!0}),s!==void 0&&h.register(IE(i,r,s)),u}function wZ(e,t){return n=>{if(e.ariaDisabled==="true")return n.preventDefault();t(n)}}function i0(e){return"button"in e?e.button===0:Sg(e)&&(e.code==="Space"||e.key==="Enter")}function r0(e){if(e?.target instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function w2(e){return gt(e,"keydown",t=>{if(t.defaultPrevented)return;Ms(t.target,"data-preventdefault",!0)&&n0(t,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&t.preventDefault()})}var CZ=class{constructor(e){this.callback=e,this.devicePixelRatio=Ce("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=t=>{t.matches||(this.devicePixelRatio=Ce("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){this.devicePixelRatioMediaQuery?.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){let e=Ce("matchMedia")?.(`(resolution: ${this.pixelRatio}dppx)`);e?.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},C2=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([t,n])=>this.observe(t,n)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(t=>{for(let{target:n,contentRect:{width:i,height:r}}of t){let o=this.elements.get(n);this.checkSize(o,n,i,r)}}));let e;this.pixelRatioObserver=new CZ(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=ki("readyState")==="complete",this.documentReady?this.observeWindow():Ce()?.addEventListener("load",this.onLoad)}destroy(){Ce()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=void 0,this.pixelRatioObserver?.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){this.pixelRatioObserver?.observe()}checkPixelRatio(){let e=this.pixelRatioObserver?.pixelRatio??1;for(let[t,n]of this.elements)if(n.size!=null&&n.size.pixelRatio!==e){let{width:i,height:r}=n.size;n.size={width:i,height:r,pixelRatio:e},n.cb(n.size,t)}}checkSize(e,t,n,i){if(e&&(n!==e.size?.width||i!==e.size?.height)){let r=this.pixelRatioObserver?.pixelRatio??1;e.size={width:n,height:i,pixelRatio:r},e.cb(e.size,t)}}observe(e,t){if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):this.resizeObserver?.observe(e);let n={cb:t};this.elements.set(e,n)}unobserve(e){this.resizeObserver?.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},ah=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),delete this.cachedState,delete this.cachedValue,this}stateId(){return this.cachedState??(this.cachedState=Array.from(this.keys()).pop()??this.defaultState),this.cachedState}stateValue(){return this.cachedValue??(this.cachedValue=Array.from(this.values()).pop()??this.defaultValue),this.cachedValue}},EZ='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',TZ=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],AZ=new Set(["styles","canvas-container","canvas","tooltip-container"]),cR={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},_Z=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);function kZ(e,t){if(typeof IntersectionObserver>"u")return;let n=new IntersectionObserver(i=>{for(let r of i)r.target===e&&t(r.intersectionRatio)},{root:e});return n.observe(e),n}var E2={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return E2}};function uR(e,t){let n=fe("div");return n.className="ag-charts-tab-guard",e.insertAdjacentElement(t,n),n}var NZ=(()=>{let e=class Hc extends SE{constructor(n,i,r,o,s="normal"){super(),this.eventsHub=n,this.chart=i,this.styleContainer=o,this.mode=s,this.anchorName=`--${In(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new C2,this.cursorState=new ah("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let a=!1;if(this.observer=kZ(this.element,l=>{l===0&&!a&&this.eventsHub.emit("dom:hidden",null),a=l===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",MZ),this.setContainer(r),this.cleanup.register(w2(this.element)),this.mode==="normal"){let l=this.rootElements["canvas-center"].element;if(l==null)throw new Error("Error initializing tab guards");let c=uR(l,"beforebegin"),u=uR(l,"afterend");this.tabGuards=new DZ(l,c,u)}}initDOM(){if(this.mode==="normal"){let r=fe("div");return r.innerHTML=EZ,r.firstChild}let n=fe("div");n.role="presentation",n.dataset.agCharts="",n.classList.add("ag-charts-wrapper");let i=fe("div");return n.appendChild(i),i.role="presentation",i.classList.add("ag-charts-series-area"),n}initRootElements(){let{mode:n,element:i}=this,r={};for(let o of TZ){let s=`ag-charts-${o}`,a;if(n==="normal"?a=i.classList.contains(s)?i:i.getElementsByClassName(s)[0]:AZ.has(o)?a=i:a=i.getElementsByClassName(s)[0]??fe("div"),a==null)throw new Error(`AG Charts - unable to find DOM element ${s}`);r[o]={element:a,children:new Map,listeners:[]}}return r}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(n=>{n.children.forEach(i=>i.remove()),n.element.remove()}),this.element.remove()}postRenderUpdate(){this.mode!=="minimal"&&(this.pendingContainer==null||this.pendingContainer===this.container||(Hc.batchedUpdateContainer.length===0&&Ce().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),Hc.batchedUpdateContainer.push(this)))}applyBatchedUpdateContainer(){for(let n of Hc.batchedUpdateContainer)n.destroyed||n.updateContainer();Hc.batchedUpdateContainer.splice(0)}setSizeOptions(n=300,i=300,r,o){let{style:s}=this.element;s.width=`${r??n}px`,s.height=`${o??i}px`,this.minWidth=r??n,this.minHeight=o??i,this.updateContainerClassName()}updateContainerSize(){let{style:n}=this.rootElements["canvas-center"].element;n.visibility=this.containerSize==null?"hidden":"",this.containerSize?(n.width=`${this.containerSize.width??0}px`,n.height=`${this.containerSize.height??0}px`):(n.width="",n.height=""),this.updateContainerClassName()}setTabGuardIndex(n){this.tabGuards&&(this.tabGuards.tabIndex=n)}setContainer(n){n!==this.container&&(this.pendingContainer=n,(this.mode==="minimal"||this.container==null)&&this.updateContainer())}updateContainer(){let{pendingContainer:n}=this;if(!(n==null||n===this.container)){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),this.documentRoot!=null)for(let i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=n,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(n),this.initiallyConnected=n.isConnected;for(let[i,r]of this.styles)this.addStyles(i,r);n.appendChild(this.element),this.sizeMonitor.observe(n,i=>{this.containerSize=i,this.updateContainerSize(),this.eventsHub.emit("dom:resize",null)}),this.eventsHub.emit("dom:container-change",null)}}setThemeClass(n){let i="ag-charts-theme-";this.element.classList.forEach(r=>{r.startsWith(i)&&r!==n&&this.element.classList.remove(r)}),this.element.classList.add(n)}setThemeParameters(n){for(let[i,r]of di(n)){let o=`${r}`;i.endsWith("Size")||i.endsWith("Radius")?o=`${r}px`:i.endsWith("Border")&&typeof r=="boolean"&&(o=r?"var(--ag-charts-border)":"none"),this.element.style.setProperty(`--ag-charts-${pL(i)}`,o)}}updateCanvasLabel(n){Ee(this.rootElements["canvas-proxy"].element,"aria-label",n)}getEventElement(n,i){return["focus","blur","keydown","keyup"].includes(i)?this.rootElements["series-area"].element:n}addEventListener(n,i,r){let o=this.getEventElement(this.element,n);return gt(o,n,i,r)}removeEventListener(n,i,r){this.getEventElement(this.element,n).removeEventListener(n,i,r)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){let n=Ce(),i=new re(0,0,n.innerWidth,n.innerHeight),r=this.getRawOverlayClientRect();return i.intersection(r)?.toDOMRect()??E2}getRawOverlayClientRect(){let n=this.element,i=this.element.getRootNode()?.fullscreenElement;for(;n!=null;){let s;if(i!=null&&n===i)s=!0;else{let l=n.computedStyleMap?.()?.get("overflow-y")?.toString();s=l==="auto"||l==="scroll"}if(s)return re.fromDOMRect(n.getBoundingClientRect());n=n.parentElement}if(this.documentRoot!=null)return re.fromDOMRect(this.documentRoot.getBoundingClientRect());let{innerWidth:r,innerHeight:o}=Ce();return new re(0,0,r,o)}getShadowDocumentRoot(n=this.container){let i=n?.ownerDocument?.body??ki("body");for(;n!=null;){if(n===i)return;if(n.parentNode instanceof DocumentFragment)return n;n=n.parentNode}}getParent(n){return this.rootElements[n].element}getChildBoundingClientRect(n){let{children:i}=this.rootElements[n],r=[];for(let o of i.values())r.push(re.fromDOMRect(o.getBoundingClientRect()));return re.merge(r)}isManagedChildDOMElement(n,i,r){let{children:o}=this.rootElements[i],s=o?.get(r);return s!=null&&n.contains(s)}contains(n,i){return i==null?this.element.contains(n):this.rootElements[i].element.contains(n)}addStyles(n,i){let r="data-ag-charts";if(this.styles.set(n,i),this.container==null)return;let o=l=>l.getAttribute(r)===n,s=l=>{let c=new Set(["TITLE","META"]),u=!0,d;for(let f of l.children){if(u&&c.has(f.tagName)){d=f;continue}if(u=!1,o(f))return;f.hasAttribute(r)&&(d=f)}let h=fe("style");return this.chart.styleNonce!=null&&(h.nonce=this.chart.styleNonce),d==null?l.prepend(h):l.insertBefore(h,d.nextSibling),h},a;this.styleContainer?a=s(this.styleContainer):this.initiallyConnected===!1?a=this.addChild("styles",n):this.documentRoot==null&&!Hc.headStyles.has(n)?(a=s(ki("head")),Hc.headStyles.add(n)):this.documentRoot!=null&&(a=this.addChild("styles",n)),!(a==null||o(a))&&(a.setAttribute(r,n),a.innerHTML=i)}removeStyles(n){this.removeChild("styles",n)}updateCursor(n,i){this.cursorState.set(n,i),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(n,i,r,o){let{element:s,children:a,listeners:l}=this.rootElements[n];if(!a)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(a.has(i))return a.get(i);let{childElementType:c="div"}=_Z.get(n)??{};if(r&&r.tagName.toLowerCase()!==c.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");let u=r??fe(c);for(let[d,h,f]of l)u.addEventListener(d,h,f);if(a.set(i,u),c==="style"&&this.chart.styleNonce!=null&&(u.nonce=this.chart.styleNonce),o){let d=s.querySelector(o.query);if(d==null)throw new Error(`AG Charts - addChild query failed ${o.query}`);d.insertAdjacentElement(o.where,u)}else s?.appendChild(u);return u}removeChild(n,i){let{children:r}=this.rootElements[n];r&&(r.get(i)?.remove(),r.delete(i))}incrementDataCounter(n){let{dataset:i}=this.element;i[n]??(i[n]="0"),i[n]=String(Number(i[n])+1)}setDataBoolean(n,i){this.element.dataset[n]=String(i)}updateContainerClassName(){let{element:n,containerSize:i,minWidth:r,minHeight:o}=this;n.classList.toggle(cR.safeHorizontal,r>=(i?.width??1/0)),n.classList.toggle(cR.safeVertical,o>=(i?.height??1/0))}};return e.batchedUpdateContainer=[],e.headStyles=new Set,e})(),T2=NZ,OZ=class extends Rs{constructor(){super(fe("div")),this.textElement=St("text"),this.textElement.role="presentation",this.svgElement=St("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){this.textElement.textContent=e;let n=this.textElement.getBBox?.();n&&this.svgElement.setAttribute("viewBox",`${n.x} ${n.y} ${n.width} ${n.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},A2=class extends Rs{constructor(e,t){super(e),Ee(this.elem,"role",t),this.setEnabled(!0),this.addListener("keydown",({sourceEvent:n})=>{i0(n)&&(n.preventDefault(),this.htmlListener?.dispatch("click",this,{type:"click",device:"keyboard",sourceEvent:n}))})}destructor(){}setEnabled(e){Ee(this.elem,"aria-disabled",!e)}addListener(e,t){return super.addListener(e,(n,i)=>{(e==="click"||e==="dblclick")&&this.isDisabled()||t(n,i)})}},Mg=class extends A2{constructor(){super(fe("button"))}},LZ=class extends Rs{constructor(){super(fe("div")),Ee(this.elem,"role","group")}destructor(){}},wE=class extends Rs{constructor(e,t){super(fe("div")),this.focusedChildIndex=0,this.onChildFocus=(n,i)=>{let r=this.children[this.focusedChildIndex];this.focusedChildIndex=i.index,r?.setTabIndex(-1),i.setTabIndex(0)},this.onChildKeyDown=(n,i)=>{let r=this.orientation,[o,s]=r==="both"?[Xd.horizontal,Xd.vertical]:[Xd[r],void 0],a=-1;if(Sg(n.sourceEvent)){let l=n.sourceEvent.key;l===o.nextKey||l===s?.nextKey?a=i.index+1:(l===o.prevKey||l===s?.prevKey)&&(a=i.index-1)}this.children[a]?.focus()},Ee(this.elem,"role",t),this.orientation=e}get orientation(){return Ms(this.elem,"aria-orientation")??"both"}set orientation(e){Ee(this.elem,"aria-orientation",e!=="both"?e:void 0)}focus(){this.children[this.focusedChildIndex]?.focus()}clear(){this.focusedChildIndex=0;for(let e of this.children)this.removeChildListeners(e),e.parent=void 0;this.elem.textContent="",this.children.length=0}addChildListeners(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown)}removeChildListeners(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown)}onChildAdded(e){this.addChildListeners(e),e.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(e){this.removeChildListeners(e);let{focusedChildIndex:t,children:n}=this,i=t===e.index;for(let r=0;r<n.length;r++){let o=n[r];o.index===t&&(this.focusedChildIndex=r),o.index=r}if(i){let r=n[t]??n[t-1];r?(this.focusedChildIndex=r.index,r.setTabIndex(0)):this.focusedChildIndex=0}}},RZ=class extends wE{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){let n=fe("div");Ee(n,"role","listitem"),hr(n,"position","absolute"),Rs.setElementContainer(e,n),this.appendOrInsert(n,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(e){this.children.length===0&&(e=!0),super.setHidden(e)}},lh=class extends Rs{constructor(e){super(e)}destructor(){}},PZ=new Intl.NumberFormat("en-US",{style:"percent"});function ch(e,t=2){return typeof e=="number"?k2(e,t):typeof e=="string"?e:String(e??"")}function _2(e){return PZ.format(e)}var dR=new Map().set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function k2(e,t){let n=dR.get(t);return n||(n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}),dR.set(t,n)),n.format(e)}var FZ=(()=>{let e=class Rp extends Rs{constructor(){super(fe("input")),this._step=Rp.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(n){this._step=n,this.getElement().step=n.attributeValue}get keyboardStep(){return this._keyboardStep?.step??this._step}set keyboardStep(n){if(n!==this._keyboardStep?.step&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),n!==void 0)){let i=()=>this.getElement().step=n.attributeValue,r=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:n,onKeyDown:i,onKeyUp:r,onBlur:r},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return Ms(this.elem,"aria-orientation")??"both"}set orientation(n){Ee(this.elem,"aria-orientation",n!=="both"?n:void 0),Rp.registerDefaultPreventers(this,n)}destructor(){}clampValueRatio(n,i){let r=this.getValueRatio(),o=se(n,r,i);return o!==r&&this.setValueRatio(o),o}setValueRatio(n,i){let{divider:r}=this.step,o=Math.round(n*1e4)/r,{ariaValueText:s=_2(o/r)}=i??{},a=this.getElement();a.value=`${o}`,a.ariaValueText=s}getValueRatio(){return this.getElement().valueAsNumber/this.step.divider}static registerDefaultPreventers(n,i){i==="both"?n.removeListener("keydown",Rp.onKeyDown):n.addListener("keydown",Rp.onKeyDown)}static onKeyDown(n,i){let r=[],{orientation:o}=i;o==="horizontal"?r=["ArrowUp","ArrowDown"]:o==="vertical"&&(r=["ArrowLeft","ArrowRight"]),r.includes(n.sourceEvent.code)&&n.sourceEvent.preventDefault()}};return e.STEP_ONE={attributeValue:"1",divider:1},e.STEP_HUNDRETH={attributeValue:"0.01",divider:100},e})(),CE=FZ,jZ=class extends Mg{constructor(){super(),Ee(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){Ee(this.elem,"aria-checked",e)}},o0=class extends wE{constructor(e="horizontal"){super(e,"toolbar")}destructor(){}};function Nd(e,t){return t.params?.type===e}function VZ(e){if(e==="button")return new Mg;if(e==="slider")return new CE;if(e==="toolbar")return new o0;if(e==="group")return new LZ;if(e==="list")return new RZ;if(e==="region")return new lh(fe("div"));if(e==="text")return new OZ;if(e==="listswitch")return new jZ;throw Error("AG Charts - error allocating meta")}function hR(e){let t={params:e,result:void 0};return t.result=VZ(t.params.type),t}var N2=class{constructor(e,t,n){this.eventsHub=e,this.localeManager=t,this.domManager=n,this.cleanup=new Be}destroy(){this.cleanup.flush()}addLocalisation(e){e(),this.cleanup.register(this.eventsHub.on("locale:change",e))}createProxyContainer(e){let t=hR(e),{params:n,result:i}=t,r=i.getElement();return this.domManager.addChild("canvas-proxy",n.domManagerId,r),r.classList.add(...n.classList,"ag-charts-proxy-container"),r.role=n.type,Nd("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{r.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),i}createProxyElement(e){let t=hR(e);if(Nd("button",t)){let{params:n,result:i}=t,r=i.getElement();if(this.initInteract(n,i),typeof n.textContent=="string")r.textContent=n.textContent;else{let{textContent:o}=n;this.addLocalisation(()=>{r.textContent=this.localeManager.t(o.id,o.params)})}this.setParent(t.params,t.result)}if(Nd("slider",t)){let{params:n,result:i}=t,r=i.getElement();this.initInteract(n,i),r.type="range",r.role="presentation",r.style.margin="0px",this.addLocalisation(()=>{r.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),this.setParent(t.params,t.result)}if(Nd("text",t)){let{params:n,result:i}=t;this.initElement(n,i),this.setParent(t.params,t.result)}if(Nd("listswitch",t)){let{params:n,result:i}=t;this.initInteract(n,i),i.setTextContent(n.textContent),i.setChecked(n.ariaChecked),i.setAriaDescribedBy(n.ariaDescribedBy),this.setParent(t.params,t.result)}if(Nd("region",t)){let{params:n,result:i}=t,r=i.getElement();this.initInteract(n,i),r.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){let n=t.getElement();return hr(n,"cursor",e.cursor),n.classList.toggle("ag-charts-proxy-elem",!0),n}initInteract(e,t){let{tabIndex:n,domIndex:i}=e,r=this.initElement(e,t);n!==void 0&&(r.tabIndex=n),i!==void 0&&(t.domIndex=i)}setParent(e,t){if("parent"in e)e.parent?.addChild(t);else{let n={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),n),t.destroyListener=()=>{this.domManager.removeChild("canvas-proxy",e.domManagerId)}}}},BZ={ariaInitSeriesArea:"interactive chart",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceStandaloneChart:"chart, ${caption}",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColor:"Color",ariaLabelColorPicker:"Color picker",ariaLabelColorPickerAlpha:"Transparency",ariaLabelColorPickerHue:"Hue",ariaLabelColorPickerMultiColor:"Multi Color",ariaLabelColorPickerPalette:"Palette",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaRoleDescription2DSlider:"2D slider",ariaValueColorPalette:"s ${s}[percent0to2dp], v ${v}[percent0to2dp]",ariaValueColorPaletteFirstV:"v ${v}[percent0to2dp], s ${s}[percent0to2dp]",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",contextMenuResetZoom:"Reset zoom",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},zZ=/\$\{(\w+)}(?:\[(\w+)])?/gi,Fw={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},HZ=({defaultValue:e,variables:t})=>e?.replaceAll(zZ,(n,i,r)=>{let o=t[i],s=r!=null?Fw[r]:null;return r!=null&&s==null&&P.warnOnce(`Format style [${r}] is not supported`),s!=null?s.format(o):typeof o=="number"?Fw.number.format(o):o instanceof Date?Fw.datetime.format(o):String(o)}),UZ=class{constructor(e){this.eventsHub=e,this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.eventsHub.emit("locale:change",null))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.eventsHub.emit("locale:change",null))}t(e,t={}){let{localeText:n=BZ,getLocaleText:i}=this,r=n[e];return i?.({key:e,defaultValue:r,variables:t})??HZ({key:e,defaultValue:r,variables:t})??e}},EE=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;let{width:t,height:n,canvasElement:i,willReadFrequently:r=!1}=e;this.pixelRatio=e.pixelRatio??Ce("devicePixelRatio")??1,this.element=i??fe("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:r}),this.onEnabledChange(),this.resize(t??0,n??0,this.pixelRatio),jP(this.context)}drawImage(e,t=0,n=0){return e.drawImage(this.context.canvas,t,n)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,n){if(!(e>0&&t>0))return;let{element:i,context:r}=this;i.width=Math.round(e*n),i.height=Math.round(t*n),r.setTransform(n,0,0,n,0,0),i.style.width=e+"px",i.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=n}clear(){FP(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}reset(){this.context.reset(),this.context.verifyDepthZero?.()}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};y([Tl(e=>e.onEnabledChange())],EE.prototype,"enabled",2);var GZ=class extends _i{constructor(){super(...arguments),this.cache=new Map,this.imageLoadingCount=0}loadImage(e,t){let n=this.cache.get(e);if(n?.image)return n.image;if(n!=null&&t){n.nodes.add(t);return}if(!t)return;let i={image:void 0,nodes:new Set([t])},r=new Image;return this.imageLoadingCount++,r.onload=()=>{i.image=r;for(let o of i.nodes)o.markDirty();i.nodes.clear(),this.imageLoadingCount--,this.emit("image-loaded",{uri:e})},r.onerror=()=>{this.imageLoadingCount--,i.nodes.clear(),this.emit("image-error",{uri:e})},r.src=e,this.cache.set(e,i),i.image}waitingToLoad(){return this.imageLoadingCount>0}destroy(){this.cache.forEach(e=>{e.nodes.clear()}),this.cache.clear()}},$Z=class{constructor(e){this.canvas=e,this.debug=We.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,n){this.canvas.resize(e,t,n),this.layersMap.forEach(({canvas:i})=>i.resize(e,t,n))}addLayer(e){let{width:t,height:n,pixelRatio:i}=this.canvas,{name:r}=e,o=new rE({width:t,height:n,pixelRatio:i});return this.layersMap.set(o,{id:this.nextLayerId++,name:r,canvas:o}),this.debug("Scene.addLayer() - layers",this.layersMap),o}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(let e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}},TE=(()=>{let e=class extends _i{constructor(t){super(),this.debug=We.create(!0,"scene"),this.id=In(this),this.imageLoader=new GZ,this.root=null,this.pendingSize=null,this.isDirty=!1,this.cleanup=new Be,this.updateDebugFlags(),this.canvas=new EE(t),this.layersManager=new $Z(this.canvas),this.cleanup.register(this.imageLoader.on("image-loaded",()=>{this.emit("scene-changed",{})}),this.imageLoader.on("image-error",({uri:n})=>{P.warnOnce(`Unable to load image ${n}`)}))}waitingForUpdate(){return this.imageLoader?.waitingToLoad()??!1}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}get pixelRatio(){return this.pendingSize?.[2]??this.canvas.pixelRatio}setContainer(t){let{element:n}=this.canvas;return n.parentElement?.removeChild(n),t.appendChild(n),this}setRoot(t){return this.root===t?this:(this.isDirty=!0,this.root?.setScene(),this.root=t,t&&(t.visible=!0,t.setScene(this)),this)}updateDebugFlags(){We.inDevelopmentMode(()=>xa._debugEnabled=!0)}clearCanvas(){this.canvas.clear()}attachNode(t){return this.appendChild(t),()=>this.removeChild(t)}appendChild(t){return this.root?.appendChild(t),this}removeChild(t){return this.root?.removeChild(t),this}download(t,n){cL(this.canvas.toDataURL(n),t?.trim()??"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,n,i){return t=Math.round(t),n=Math.round(n),i??(i=this.pixelRatio),t>0&&n>0&&(t!==this.width||n!==this.height||i!==this.pixelRatio)?(this.pendingSize=[t,n,i],this.isDirty=!0,!0):!1}render(t){let{debugSplitTimes:n={start:performance.now()},extraDebugStats:i,seriesRect:r}=t??{},{canvas:o,canvas:{context:s}={},root:a,pendingSize:l,width:c,height:u,pixelRatio:d}=this;if(!s)return;let h=performance.now(),f=!1;if(l&&(f=!0,this.layersManager.resize(...l),this.pendingSize=null),a&&!a.visible){this.isDirty=!1;return}let p;if(a instanceof Ve&&(p=a.dirty),a!=null&&p===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:nx(a,"console")}),rR(this.layersManager,n,s,void 0,i,r);return}let m={ctx:s,width:c,height:u,devicePixelRatio:d,debugNodes:{}};We.check("scene:stats:verbose")&&(m.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),dZ(m);let b=!1;if((p!==!1||f)&&(b=!0,o.clear()),a&&We.check("scene:dirtyTree")){let{dirtyTree:v,paths:x}=p2(a);We.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:v,paths:x})}if(a&&b){if(a.visible&&a.preRender(m),this.debug.check()){let v=nx(a,"console");this.debug("Scene.render() - before",{canvasCleared:b,tree:v})}if(a.visible)try{s.save(),a.render(m),s.restore()}catch(v){throw this.canvas.reset(),v}}n["\u270D\uFE0F"]=performance.now()-h,s.verifyDepthZero?.(),this.isDirty=!1,rR(this.layersManager,n,s,m.stats,i,r),hZ(s,m.debugNodes),a&&this.debug.check()&&this.debug("Scene.render() - after",{tree:nx(a,"console"),canvasCleared:b})}toSVG(){let{root:t,width:n,height:i}=this;if(t!=null)return xa.toSVG(t,n,i)}strip(){let{context:t,pixelRatio:n}=this.canvas;t.setTransform(n,0,0,n,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1,this.clear()}destroy(){this.strip(),this.canvas.destroy(),this.imageLoader.destroy(),this.cleanup.flush(),Object.assign(this,{canvas:void 0})}};return e.className="Scene",e})(),WZ=class{constructor(e,t,n){this.eventsHub=e,this.annotationRoot=t,this.fireChartEvent=n,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return e==null||Ie(e)}restoreMemento(e,t,n){this.annotations=this.cleanData(n??[]).map(i=>{let r=this.getAnnotationTypeStyles(i.type);return Dt(i,r)}),this.eventsHub.emit("annotations:restore",{annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:ln([...this.annotations])})}attachNode(e){return this.annotationRoot.append(e),()=>(this.annotationRoot?.removeChild(e),this)}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){return this.styles?.[e]}cleanData(e){for(let t of e)"textAlign"in t&&delete t.textAlign;return e}},O2=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_BAND_HIGHLIGHT=1]="AXIS_BAND_HIGHLIGHT",e[e.AXIS_GRID=2]="AXIS_GRID",e[e.AXIS=3]="AXIS",e[e.SERIES_AREA_CONTAINER=4]="SERIES_AREA_CONTAINER",e[e.ZOOM_SELECTION=5]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=6]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=7]="SERIES_LAYER",e[e.AXIS_FOREGROUND=8]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=9]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=10]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=11]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=12]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=13]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=14]="STATUS_BAR",e[e.SERIES_LABEL=15]="SERIES_LABEL",e[e.LEGEND=16]="LEGEND",e[e.NAVIGATOR=17]="NAVIGATOR",e[e.FOREGROUND=18]="FOREGROUND",e))(O2||{}),YZ=class{constructor(e,t){this.eventsHub=e,this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new Ve({name:"Axes-Grids",zIndex:2}),this.axisGroup=new Ve({name:"Axes",zIndex:3}),this.axisLabelGroup=new Ve({name:"Axes-Labels",zIndex:15}),this.axisCrosslineRangeGroup=new Ve({name:"Axes-Crosslines-Range",zIndex:6}),this.axisCrosslineLineGroup=new Ve({name:"Axes-Crosslines-Line",zIndex:10}),this.axisCrosslineLabelGroup=new Ve({name:"Axes-Crosslines-Label",zIndex:15}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){let n={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(let i of e)t.includes(i)||(i.detachAxis(n),i.destroy());for(let i of t)e?.includes(i)||i.attachAxis(n);this.axes.clear();for(let i of t){let r=i.createAxisContext();this.axes.has(r.direction)?this.axes.get(r.direction)?.push(r):this.axes.set(r.direction,[r])}this.eventsHub.emit("axis:change",null)}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Up=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PROCESS_DOMAIN=3]="PROCESS_DOMAIN",e[e.PERFORM_LAYOUT=4]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=5]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=6]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=7]="SCENE_RENDER",e[e.NONE=8]="NONE",e))(Up||{}),s0=class{constructor(e,t,n){this.eventsHub=e,this.caller=t,this.animationManager=n,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.pendingData=void 0,this.debug=We.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.eventsHub.emit("data:source-change",null))}clearCallback(){this.dataSourceCallback=void 0}load(e){let{pendingData:t}=this;if(t!=null&&t.params.windowStart?.valueOf()===e.windowStart?.valueOf()&&t.params.windowEnd?.valueOf()===e.windowEnd?.valueOf()){let n=this.requestCounter++;this.isLoadingInitialData=!1,this.dispatch(n,t.data);return}this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}getData(){return Fe(this,null,function*(){let{latestRequest:e}=this;if(!e)return;let{params:t,fetchRequest:n}=e,i=yield n;return{params:t,data:i}})}restoreData(e){this.pendingData=e}createThrottledFetch(e){return vw(t=>this.fetch(t).catch(n=>P.error("callback failed",n)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return vw((t,n)=>this.dispatch(t,n),e,{leading:!0,trailing:!0})}dispatch(e,t){this.debug(`DataService - dispatching 'data-load' | ${e}`),this.eventsHub.emit("data:load",{data:t})}fetch(e){return Fe(this,null,function*(){"context"in this.caller&&(e.context=this.caller.context);let t=Promise.resolve().then(()=>Fe(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let n=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`);let r;try{r=yield this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-n}ms | ${i}`)}catch(s){this.debug(`DataService - request failed | ${i}`),P.errorOnce(`DataService - request failed | [${s}]`)}this.isLoadingInitialData=!1;let o=this.freshRequests.indexOf(t);return o===-1||this.dispatchOnlyLatest&&o!==this.freshRequests.length-1?(this.debug(`DataService - discarding stale request | ${i}`),r):(this.freshRequests=this.freshRequests.slice(o+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(r)?this.throttledDispatch(i,r):this.eventsHub.emit("data:error",null),r)}));this.latestRequest={params:e,fetchRequest:t},this.freshRequests.push(t),yield t})}};y([Vi({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],s0.prototype,"dispatchThrottle",2);y([Vi({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],s0.prototype,"requestThrottle",2);var ZZ=class{constructor(e,t){this.domManager=e,this.updateService=t,this.observers=[]}updateFonts(e){!e||e.size===0||(this.loadFonts(e),e.forEach(t=>{this.observeFontStatus(t)}))}destroy(){for(let e of this.observers)e.disconnect();this.observers=[]}loadFonts(e){let t=Array.from(e).map(o=>encodeURIComponent(o)),n=":wght@100;200;300;400;500;600;700;800;900",i=`${n}&family=`,r=`@import url('https://fonts.googleapis.com/css2?family=${t.join(i)}${n}&display=swap');
`;this.domManager.addStyles(`google-font-${t.join("-")}`,r)}observeFontStatus(e){let t=window.document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","0"),t.style.setProperty("margin","0"),t.style.setProperty("padding","0"),t.style.setProperty("overflow","hidden"),t.style.setProperty("visibility","hidden"),t.style.setProperty("width","auto"),t.style.setProperty("max-width","none"),t.style.setProperty("font-synthesis","none"),t.style.setProperty("font-family",e),t.style.setProperty("font-size","16px"),t.style.setProperty("white-space","nowrap"),t.textContent="UVWxyz",this.domManager.addChild("canvas-container",`font-check-${encodeURIComponent(e)}`,t);let n=new ResizeObserver(i=>{let r=i?.at(0)?.contentBoxSize.at(0)?.inlineSize;r!=null&&r>0&&(Al.clear(),this.updateService.update(4))});n.observe(t),this.observers.push(n)}};var qZ=void 0,KZ=void 0;KZ=qZ;var QZ=void 0,XZ=void 0;XZ=QZ;var JZ=void 0,e9=void 0;e9=JZ;var t9=void 0,n9=void 0;n9=t9;var L2=class{constructor(){this.registeredListeners=new Map}addListener(e,t){let n={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(let[t,n]of this.registeredListeners.entries()){let i=n.findIndex(r=>r.symbol===e);if(i>=0){n.splice(i,1),n.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(let n of this.getListenersByType(e))try{n.handler(...t)}catch(i){P.errorOnce(i)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Tp=new WeakMap;function Qp(e,t){let n=JSON.stringify(e,null,0);return Tp.has(t)||Tp.set(t,new Map),Tp.get(t)?.has(n)||Tp.get(t)?.set(n,t(e)),Tp.get(t)?.get(n)}var jw=class{constructor(){this.weak=new WeakMap,this.strong=new Map,this.set=!1,this.value=void 0}};function Dg(e,t){let n=new jw,i=(...r)=>{let o=n;for(let s of r){let a=typeof s=="object"||typeof s=="symbol"?o.weak:o.strong,l=a.get(s);l==null&&(l=new jw,a.set(s,l)),o=l}if(o.set)return t?.("hit",e,r),o.value;{let s=e(...r);return o.set=!0,o.value=s,t?.("miss",e,r),s}};return i.reset=()=>{n=new jw},i}function Ii(e,t){let n=new Map,i=(...s)=>s.map(a=>typeof a=="object"||typeof a=="symbol"?a:(n.has(a)||n.set(a,{v:a}),n.get(a))),r={},o=new WeakMap;return(...s)=>{let a=s.length===0?[r]:i(...s),l=o;for(let d of a.slice(0,-1))l.has(d)||l.set(d,new WeakMap),l=l.get(d);let c=a.at(-1),u=l.get(c);return u?t?.("hit",e,s):(u=e(...s),l.set(c,u),t?.("miss",e,s)),u}}var Ub={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function AE(e,t=new Date(e.getFullYear(),0,1)){let n=e.getTimezoneOffset()-t.getTimezoneOffset(),i=e.getTime()-t.getTime()+n*6e4,r=36e5*24;return Math.floor(i/r)}function fR(e,t){let i=new Date(e.getFullYear(),0,1).getDay(),r=(t-i+7)%7,o=new Date(e.getFullYear(),0,r+1);return o<=e?Math.floor(AE(e,o)/7)+1:0}var i9=0,R2=1,pR=4;function P2(e,t=e.getFullYear()){let i=new Date(t,0,1).getDay(),r=(pR-i+7)%7,o=new Date(t,0,r-(pR-R2)+1);return o<=e?Math.floor(AE(e,o)/7)+1:P2(e,t-1)}function r9(e){let t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${Di(Math.floor(n/60),2,"0")}${Di(Math.floor(n%60),2,"0")}`}var o9={a:e=>Ub.shortDays[e.getDay()],A:e=>Ub.days[e.getDay()],b:e=>Ub.shortMonths[e.getMonth()],B:e=>Ub.months[e.getMonth()],c:"%x, %X",d:(e,t)=>Di(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>Di(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>Di(e.getHours(),2,t??"0"),I:(e,t)=>{let n=e.getHours()%12;return n===0?"12":Di(n,2,t??"0")},j:(e,t)=>Di(AE(e)+1,3,t??"0"),m:(e,t)=>Di(e.getMonth()+1,2,t??"0"),M:(e,t)=>Di(e.getMinutes(),2,t??"0"),L:(e,t)=>Di(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>Di(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>Di(fR(e,i9),2,t??"0"),V:(e,t)=>Di(P2(e),2,t??"0"),w:(e,t)=>Di(e.getDay(),2,t??"0"),W:(e,t)=>Di(fR(e,R2),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>Di(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>Di(e.getFullYear(),4,t??"0"),Z:e=>r9(e),"%":()=>"%"},s9={_:" ",0:"0","-":""};function Di(e,t,n){let i=String(Math.floor(e));return i.length>=t?i:`${n.repeat(t-i.length)}${i}`}function tu(e){let t=[];for(;e.length>0;){let n=e.indexOf("%");if(n!==0){let a=n>0?e.substring(0,n):e;t.push(a)}if(n<0)break;let i=e[n+1],r=s9[i];r!=null&&n++;let o=e[n+1],s=o9[o];if(typeof s=="function")t.push([s,r]);else if(typeof s=="string"){let a=tu(s);t.push([a,r])}else t.push(`${r??""}${o}`);e=e.substring(n+2)}return n=>{let i=typeof n=="number"?new Date(n):n;return t.map(r=>typeof r=="string"?r:r[0](i,r[1])).join("")}}var ws={millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e",month:"%b",year:"%Y"},a9={millisecond:"%Y %b %e %H:%M:%S.%L",second:"%Y %b %e %H:%M:%S",minute:"%Y %b %e %H:%M",hour:"%Y %b %e %H:%M",day:"%Y %b %e",month:"%Y %b",year:"%Y"},Li={year:0,month:1,day:2,hour:3,minute:4,second:5,millisecond:6},l9=/%[-_0]?L/,c9=/%[-_0]?S/,u9=/%[-_0]?M/,d9=/%[-_0]?[HI]/,h9=/^%[-_0]?[de]$/,f9=/^%[-_0]?[Bbm]$/,p9=/^%[-_0]?[Yy]$/;function F2(e,t,n){if(typeof e=="string")return e;e??(e=ws);let{millisecond:i=ws.millisecond,second:r=ws.second,minute:o=ws.minute,hour:s=ws.hour,day:a=ws.day,month:l=ws.month,year:c=ws.year}=e,u=Li[t],d=a9[t],h=n?Li[n]:-1;if(h<Li.year&&u>=Li.year&&!p9.test(c)||h<Li.month&&u>=Li.month&&!f9.test(l)||h<Li.day&&u>=Li.day&&!h9.test(a))return d;let f;switch(t){case"year":return c;case"month":return h<Li.year?`${l} ${c}`:l;case"day":return h<Li.year?`${l} ${a} ${c}`:`${l} ${a}`;case"hour":f=s;break;case"minute":f=o;break;case"second":f=r;break;case"millisecond":f=i;break;default:return d}if(u>=Li.hour&&!d9.test(f)||u>=Li.minute&&!u9.test(f)||u>=Li.second&&!c9.test(f)||u>=Li.millisecond&&!l9.test(f))return d;let p;return h<Li.year?p=`${l} ${a} ${c}`:h<Li.month&&(p=`${l} ${a}`),p?`${f} ${p}`:f}var uh=class ox extends L2{constructor(){super(...arguments),this.formats=new Map,this.dateFormatter=Dg((t,n,i,r,o)=>{let s=ox.mergeSpecifiers(t,n)??ws;return ox.getFormatter("date",s,i,r,{truncateDate:o})}),this.formatter=void 0}static mergeSpecifiers(...t){let n;for(let i of t)typeof i=="string"?n=i:$e(i)&&(n=$e(n)?g(g({},n),i):i);return n}static getFormatter(t,n,i,r="long",{truncateDate:o}={}){if($e(n)){if(t!=="date"){P.warn("Date formatter configuration is not supported for non-date types.");return}i??(i="millisecond");let s=r==="component"?n?.[i]??ws[i]:F2(n,i,o);return tu(s)}switch(t){case"number":{let s=wp(n);return s==null?void 0:jb(s)}case"date":return tu(n);case"category":return s=>n.replace("%s",String(s))}}setFormatter(t){this.formatter!==t&&(this.formatter=t,this.formats.clear(),this.dateFormatter.reset(),this.dispatch("format-changed"))}format(t,n,{specifier:i,truncateDate:r}={}){if(n.value==null)return;let{formatter:o}=this;if(o==null)return;if(typeof o=="function"){let c=t(o,n);return c!=null?String(c):void 0}let s=o[n.property];if(s==null)return;if(typeof s=="function"){let c=t(s,n);return c!=null?String(c):void 0}else if(n.type==="date"){let{unit:c,style:u}=n;return this.dateFormatter(s,i,c,u,r)?.(n.value)}let a=i??s;if(typeof a!="string")return;let l=this.formats.get(a);return l==null&&(l=ox.getFormatter(n.type,a),this.formats.set(a,l)),l?.(n.value,n.type==="number"?n.fractionDigits:void 0)}defaultFormat(t,{specifier:n,truncateDate:i}={}){let{formatter:r}=this,o=typeof r=="function"?void 0:r?.[t.property];switch(t.type){case"date":{let{unit:s,style:a}=t,l=o!=null&&typeof o!="function"?o:void 0;return this.dateFormatter(l,n,s,a,i)?.(t.value)??String(t.value)}case"number":return ch(t.value,t.fractionDigits);case"category":return Array.isArray(t.value)?t.value.join(" - "):typeof t.value=="string"?t.value:typeof t.value=="number"?ch(t.value):String(t.value)}}};function g9(e,t){return n=>Number(e)*(1-n)+Number(t)*n}function j2(e,t){if(typeof e=="string")try{e=zt.fromString(e)}catch{e=zt.fromArray([0,0,0])}if(typeof t=="string")try{t=zt.fromString(t)}catch{t=zt.fromArray([0,0,0])}return n=>zt.mix(e,t,n).toRgbaString()}var DC={};Ls(DC,{easeIn:()=>m9,easeInOut:()=>y9,easeInOutQuad:()=>x9,easeInQuad:()=>v9,easeOut:()=>Xp,easeOutQuad:()=>b9,inverseEaseOut:()=>B2,linear:()=>V2});var V2=e=>e,m9=e=>1-Math.cos(e*Math.PI/2),Xp=e=>Math.sin(e*Math.PI/2),y9=e=>-(Math.cos(e*Math.PI)-1)/2,v9=e=>e*e,b9=e=>1-(1-e)**2,x9=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,B2=e=>2*Math.asin(e)/Math.PI,Dx=.2,Bd=["initial","remove","update","add","trailing","end","none"],Jp={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Dx,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Dx,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},z2=(e=>(e.Loop="loop",e.Reverse="reverse",e))(z2||{});function S9(e){return e.every(t=>t instanceof xa)}function a0(e){return S9(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function IC(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((n,i)=>IC(n,t[i])):vx(e)&&vx(t)?e.equals(t):$e(e)&&$e(t)?sE(e,t,IC):!1}var H2=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??V2,this.phase=e.phase;let t=e.duration??Jp[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&(this.onUpdate?.(e.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return IC(e.from,e.to)?0:t}play(e=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,e&&this.onUpdate?.(this.from,!0,this)))}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(e){if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);let t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;let n=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(n,!1,this);let i=this.delay+this.duration;return this.elapsed>=i?(this.stop(),this.isComplete=!0,this.onComplete?.(this),e-(i-t)):0}get delta(){return this.ease(se(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||vx(t))return this.interpolateValue(e,t);let n=[];for(let i of Object.keys(t)){let r=this.interpolateValue(e[i],t[i]);r!=null&&n.push([i,r])}return i=>{let r={};for(let[o,s]of n)r[o]=s(i);return r}}interpolateValue(e,t){if(!(e==null||t==null)){if(vx(e))return n=>e[Yx](t,n);try{switch(typeof e){case"number":return g9(e,t);case"string":return j2(e,t);case"boolean":if(e===t)return()=>e;break;case"object":return()=>e;default:throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},gR=class{constructor(e){this.maxAnimationTime=e,this.debug=We.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Bd.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Bd[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){if(e.isComplete)return;if(Bd.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),this.phases.get(e.phase)?.push(e)}removeAnimation(e){this.controllers.delete(e.id);let t=this.phases.get(e.phase),n=t?.indexOf(e);n!=null&&n>=0&&t?.splice(n,1)}progress(e){if(!this.isReady)return;let t=e===0?.01:e,n=()=>{let c=Bd[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:Jp[c]}},{phase:i,phaseControllers:r,phaseMeta:o}=n(),s=()=>Bd[this.currentPhase]==null,a=()=>{for({phase:i,phaseControllers:r,phaseMeta:o}=n();!s()&&r.length===0;)this.currentPhase++,{phase:i,phaseControllers:r,phaseMeta:o}=n(),this.debug(`AnimationBatch - phase changing to ${i}`,{unusedTime:t},r)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${i} with ${r?.length} of ${l}`);do{let c=t,u=o.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0,d=0;for(let h of r)u?h.stop():t=Math.min(h.update(c),t),h.isComplete&&(d++,this.removeAnimation(h));this.animationTimeConsumed+=c-t,this.debug(`AnimationBatch - updated ${r.length} controllers; ${d} completed`,r),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(t>0&&!s());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(let[,t]of this.controllers)if(t.duration>0&&Jp[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(let[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(let t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(let e of this.controllers.values())e.play()}stop(){for(let e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){P.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){let t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(let t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}getRemainingTime(e){if(!this.isActive())return 0;let t=0;for(let[n,i]of this.phases)i.length!==0&&(e!=null&&e!==n||(t+=Math.max(...i.map(r=>r.isComplete?0:r.delay+r.duration-(r.elapsed??0)))));return t}destroy(){this.stop(),this.controllers.clear()}},U2=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(U2||{}),G2=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function mR(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var $2=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new gR(this.defaultDuration*1.5),this.debug=We.create(!0,"animation"),this.events=new _i,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){let t=this.batch;try{t.checkOverlappingId(e.id)}catch(a){this.failsafeOnError(a);return}let{id:n}=e;n==null&&(n=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);let i=this.isSkipped()||e.phase==="none";i&&this.debug("AnimationManager - skipping animation");let{delay:r,duration:o}=e;if(!mR(r))throw new Error(`Animation delay of ${r} is unsupported (${n})`);if(!mR(o))throw new Error(`Animation duration of ${o} is unsupported (${n})`);let s=new H2(I(g({},e),{id:n,skip:i,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(s,this.defaultDuration))return this.batch.addAnimation(s),s}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}getRemainingTime(e){return this.batch.getRemainingTime(e)}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=Ce().requestAnimationFrame(t=>{e(t).catch(n=>P.error(n))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e,t=n=>Fe(this,null,function*(){yield this.debug.group("AnimationManager.onAnimationFrame()",()=>Fe(this,null,function*(){let i=()=>{let r=n-(e??n);e=n,this.debug("AnimationManager",{controllersCount:this.batch.size,deltaTime:r}),this.interactionManager.pushState(2);try{this.batch.progress(r)}catch(o){this.failsafeOnError(o)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:r})};this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(i):yield this.chartUpdateMutex.acquire(i),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))}))});this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){P.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new gR(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},M9=class{constructor(){this.download={type:"action",showOn:"always",label:"contextMenuDownload",enabled:!0,action:void 0,items:void 0},this["zoom-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuZoomToCursor",enabled:!0,action:void 0,items:void 0},this["pan-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuPanToCursor",enabled:!0,action:void 0,items:void 0},this["reset-zoom"]={type:"action",showOn:"series-area",label:"contextMenuResetZoom",enabled:!0,action:void 0,items:void 0},this["toggle-series-visibility"]={type:"action",showOn:"legend-item",label:"contextMenuToggleSeriesVisibility",enabled:!0,action:void 0,items:void 0},this["toggle-other-series"]={type:"action",showOn:"legend-item",label:"contextMenuToggleOtherSeries",enabled:!0,action:void 0,items:void 0},this.separator={type:"separator",showOn:"always",label:"separator",enabled:!0,action:void 0,items:void 0}}},D9=class{constructor(){this.defaults=["download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series"]}},W2=class{constructor(){this.items=new M9,this.lists=new D9}},Y2=class{constructor(e){this.eventsHub=e,this.builtins=new W2,this.hiddenActions=new Set,this.setVisible("zoom-to-cursor",!1),this.setVisible("pan-to-cursor",!1),this.setVisible("reset-zoom",!1)}static check(e,t){return t.showOn==e}static checkCallback(e,t,n){return e===t}dispatchContext(e,t,n,i){let{widgetEvent:r}=t;if(r.sourceEvent.defaultPrevented)return;let o=i?.x??t.canvasX,s=i?.y??t.canvasY,a={showOn:e,x:o,y:s,context:n,widgetEvent:r};this.eventsHub.emit("context-menu:setup",a),this.eventsHub.emit("context-menu:complete",a)}isVisible(e){return!this.hiddenActions.has(e)}setVisible(e,t){t?this.hiddenActions.delete(e):this.hiddenActions.add(e)}},Z2=class{constructor(e){this.eventsHub=e,this.highlightStates=new ah}updateHighlight(e,t){let n=this.getActiveHighlight();this.highlightStates.set(e,t);let i=this.getActiveHighlight();this.isEqual(i,n)||this.eventsHub.emit("highlight:change",{callerId:e,currentHighlight:i,previousHighlight:n})}getActiveHighlight(){return this.highlightStates.stateValue()}isEqual(e,t){return e===t||e!=null&&t!=null&&e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}};function yR(e,t){if(e==null||t.length===0)return[!1,!1];let n=e.valueOf(),i=t[0],r=t[t.length-1];if(typeof i=="string")return[n===i,n===r];let o=i.valueOf(),s=r.valueOf();return o>s&&([o,s]=[s,o]),[n===o,n===s]}function vl(e,t,n,i,r,o){let[s,a]=yR(t,o),[l,c]=yR(e,r);return{xKey:n,yKey:i,xValue:e,yValue:t,first:l,last:c,min:s,max:a}}function q2(e,t,[n,i],r){let o=aa(0,t-1,a=>{let l=e===1?a:t-a,c=r(l)?.[1]??NaN;return!Number.isFinite(c)||c>n})??0,s=Ro(0,t-1,a=>{let l=e===1?a:t-a,c=r(l)?.[0]??NaN;return!Number.isFinite(c)||c<i})??t-1;return e===-1&&([o,s]=[t-s,t-o]),o=Math.max(o,0),s=Math.min(s+1,t),[o,s]}function _E(e,t,n){if(n){let{x:r,y:o,width:s,height:a}=n;return{canvasX:r+s/2,canvasY:o+a/2}}let i=t.yBar?.upperPoint??t.midPoint??e.datumMidPoint?.(t);if(i){let{x:r,y:o}=gn.toCanvasPoint(e.contentGroup,i.x,i.y);return{canvasX:Math.round(r),canvasY:Math.round(o)}}}function K2(e,t,n,i,r){let o=-1,s=0,a=0,l=!1;for(;s<i&&o<=t-e;){o+=1;let c=n+a;if(l||(a*=-1),a>=0&&(a+=1),l&&a<0&&(a-=1),c<e||c>t){l=!0;continue}r(c)&&(s+=1)}return s}var Ix=class{constructor(e,t,n,i){this.domManager=n,this.tooltip=i,this.stateTracker=new ah,this.suppressState=new ah(!1),this.appliedState=null,this.cleanup=new Be,this.cleanup.register(i.setup(t,n),e.on("dom:hidden",()=>this.tooltip.hide()))}destroy(){this.cleanup.flush()}updateTooltip(e,t,n,i){n??(n=this.stateTracker.get(e)?.content),this.stateTracker.set(e,{meta:t,content:n,pagination:i}),this.applyStates()}removeTooltip(e){this.stateTracker.delete(e),this.applyStates()}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}applyStates(){let e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):void 0;if(this.suppressState.stateValue()||t?.meta==null||t?.content==null){this.appliedState=null,this.tooltip.hide();return}let n=this.domManager.getBoundingClientRect(),i=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():n;if(Un(this.appliedState?.content,t?.content)&&Un(this.appliedState?.pagination,t?.pagination)){let r=this.tooltip.isVisible();this.tooltip.show(i,n,t?.meta,null,void 0,r)}else this.tooltip.show(i,n,t?.meta,t?.content,t?.pagination);this.appliedState=t}static makeTooltipMeta(e,t,n,i){let{canvasX:r,canvasY:o}=e,s=t.properties.tooltip,{placement:a,anchorTo:l,xOffset:c,yOffset:u}=s.position,d=_E(t,n,i);return{canvasX:r,canvasY:o,nodeCanvasX:d?.canvasX??r,nodeCanvasY:d?.canvasY??o,enableInteraction:s.interaction?.enabled??!1,showArrow:s.showArrow,position:{placement:a,anchorTo:l,xOffset:c,yOffset:u}}}},vR=3,I9=505,bR=30;function Vw(e,t){let{device:n,offsetX:i,offsetY:r,clientX:o,clientY:s,currentX:a,currentY:l,sourceEvent:c}=t;return{type:e,device:n,offsetX:i,offsetY:r,clientX:o,clientY:s,currentX:a,currentY:l,sourceEvent:c}}function xR(e,t){let n=e*e+t*t,i=vR*vR;return n>=i}function w9(e,t){let n=e.clientX-t.clientX,i=e.clientY-t.clientY,r=n*n+i*i,o=bR*bR;return r<o}var Q2=class{constructor(e){this.cleanup=new Be,this.events=new _i,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.cleanup.register(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.cleanup.flush()}onTouchStart(e){let{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=n}onTouchMove(e){let{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-n),this.touch.clientX=t,this.touch.clientY=n}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.events.emit("mousemove",e)}onDblClick(e){this.events.emit("dblclick",e)}onDragStart(e){this.dragStartEvent=e}onDragMove(e){this.dragStartEvent!=null&&xR(e.originDeltaX,e.originDeltaY)&&(this.events.emit("drag-start",this.dragStartEvent),this.events.emit("drag-move",I(g({},this.dragStartEvent),{type:"drag-move"})),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.events.emit("drag-move",e)}onDragEnd(e){if(this.isDragging){this.events.emit("drag-end",e),this.isDragging=!1;return}if(e.device==="mouse"){let t=Vw("click",e);this.events.emit("click",t)}else if(e.sourceEvent.type==="touchend"){if(xR(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;let t=Vw("click",e);this.events.emit("click",t);let n=Date.now();if(this.lastClick!==void 0&&n-this.lastClick.time<=I9&&w9(this.lastClick,e)){let i=Vw("dblclick",e);this.events.emit("dblclick",i),this.lastClick=void 0}else this.lastClick={time:n,clientX:e.clientX,clientY:e.clientY}}}},Bw=class extends lh{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},C9=class{constructor(e,t){this.seriesWidget=new Bw(e.getParent("series-area")),this.chartWidget=new Bw(e.getParent("canvas-proxy")),this.containerWidget=new Bw(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),t.withDragInterpretation&&(this.seriesDragInterpreter=new Q2(this.seriesWidget))}destroy(){this.seriesDragInterpreter?.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function eg(e,t){let[n,i]=ii(t);return se(n,e,i)}function ii(e){if(e.length===0)return[];let t=[1/0,-1/0];for(let n of e)n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n);return t}function dh(e){let[t,n]=ii(e);return n-t}function E9(e){return e=e|0,e<=0?1:e===1?2:1<<32-Math.clz32(e-1)}function wC(e){return e=e|0,e<=0?0:e===1?1:1<<31-Math.clz32(e)}var T9=(()=>{let e=class CC extends Qx{constructor(n=[],i=[]){super(),this.domain=n,this.range=i,this.defaultTickCount=CC.defaultTickCount,this.defaultClamp=!1}static is(n){return n instanceof CC}normalizeDomains(...n){return kE(...n)}calcBandwidth(n=1,i=1){let{domain:r}=this,o=this.getPixelRange();if(r.length===0)return o;let a=Math.abs(r[1].valueOf()-r[0].valueOf())/n+1;if(i!==0){let l=Math.floor(o);a=Math.min(a,l)}return o/Math.max(1,a)}convert(n,i){let{domain:r}=this;if(!r||r.length<2||n==null)return NaN;let{range:o}=this,s=i?.clamp??this.defaultClamp,a=r[0].valueOf(),l=r[1].valueOf(),c=n.valueOf();if(this.transform&&(a=this.transform(a),l=this.transform(l),c=this.transform(c)),s){let[d,h]=ii([a,l]);if(c<d)return o[0];if(c>h)return o[1]}if(a===l)return(o[0]+o[1])/2;if(c===a)return o[0];if(c===l)return o[1];let u=o[0];return u+(c-a)/(l-a)*(o[1]-u)}invert(n,i){let{domain:r}=this;if(r.length<2)return;let o=r[0].valueOf(),s=r[1].valueOf();this.transform&&(o=this.transform(o),s=this.transform(s));let{range:a}=this,[l,c]=a,u;return l===c?u=this.toDomain((o+s)/2):u=this.toDomain(o+(n-l)/(c-l)*(s-o)),this.transformInvert?this.transformInvert(u):u}getPixelRange(){let[n,i]=this.range;return Math.abs(i-n)}};return e.defaultTickCount=5,e})(),Ht=T9;function kE(...e){let t,n=1/0,i,r=-1/0;for(let o of e)for(let s of o){let a=s.valueOf();a<n&&(n=a,t=s),a>r&&(r=a,i=s)}return t!=null&&i!=null?{domain:[t,i],animatable:!0}:{domain:[],animatable:!1}}var NE=class X2 extends Qx{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof X2}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=se(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this.invalid=!0,this._paddingInner=se(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this.invalid=!0,this._paddingOuter=se(0,t,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&P.warnOnce("Expected update to not invalidate scale"))}convert(t,n){this.refresh();let i=this.findIndex(t,n?.alignment);return i==null||i<0||i>=this.bands.length?NaN:this.ordinalRange(i)}invertNearestIndex(t){this.refresh();let n=this.bands.length;if(n===0)return-1;let i=0,r=n-1,o=1/0,s=0;for(;i<=r;){let a=(r+i)/2|0,l=this.ordinalRange(a),c=Math.abs(l-t);if(c===0)return a;c<o&&(o=c,s=a),l<t?i=a+1:r=a-1}return s}update(){let[t,n]=this.range,{_paddingInner:i}=this,{_paddingOuter:r,round:o,bands:s}=this,a=s.length;if(a===0)return;let l=n-t,c;a===1?(i=0,c=l*(1-r*2)):c=l/Math.max(1,a-i+r*2);let u=o?Math.floor(c):c,d=t+(l-u*(a-i))/2,h=u*(1-i);o&&(d=Math.round(d),h=Math.round(h)),this._step=u,this._inset=d,this._bandwidth=h,this._rawBandwidth=c*(1-i)}ordinalRange(t){let{_inset:n,_step:i,range:r}=this,o=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return se(o,n+i*t,s)}};y([vg],NE.prototype,"range",2);y([vg],NE.prototype,"round",2);var Ca=NE,$o=class J2 extends Ca{static is(t){return t instanceof J2}toDomain(t){return new Date(t)}convert(t,n){t instanceof Date||(t=new Date(t));let{domain:i,bands:r}=this;if(i.length<=0)return NaN;let o=this.ordinalRange(0),s=this.ordinalRange(r.length-1);if(r.length===0)return o;if(n?.clamp===!0){let{range:x}=this;if(t<r[0])return x[0];if(t>r[r.length-1])return x[1]}let a=n?.alignment??0,l=i[0].valueOf()>i[i.length-1].valueOf();if(a!==2){let x=super.convert(t,n);return l?s-(x-o):x}let c=t.valueOf(),u=this.findIndex(t)??0,d;l?(u=Math.min(Math.max(u,1),r.length-1),d=-1):(u=Math.min(Math.max(u,0),r.length-2),d=1);let h=r[u].valueOf(),f=r[u+d].valueOf(),p=this.ordinalRange(u),m=this.ordinalRange(u+d),v=(c-h)/(f-h)*(m-p)+p;return l?s-(v-o):v}invert(t,n=!1){this.refresh();let{domain:i,bands:r}=this;if(i.length<=0)return;let o=i[0].valueOf()>i[i.length-1].valueOf(),s;return n?s=this.invertNearestIndex(t-this.bandwidth/2):s=aa(0,r.length-1,l=>this.ordinalRange(l)>=t)??r.length-1,r[o?r.length-1-s:s]}findIndex(t,n=0){let{bands:i}=this,r=t.valueOf();return n===1?aa(0,i.length-1,o=>i[o].valueOf()>=r):Ro(0,i.length-1,o=>i[o].valueOf()<=r)}},tg={bottomCenter:O9,center:N9,clone:F9,collides:j9,end:_9,from:V9,height:R9,round:P9,start:A9,topCenter:k9,origin:B9,width:L9};function A9(e){return{x:e.x1,y:e.y1}}function _9(e){return{x:e.x2,y:e.y2}}function k9(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function N9(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function O9(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function L9(e){return Math.abs(e.x2-e.x1)}function R9(e){return Math.abs(e.y2-e.y1)}function P9(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function F9(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function j9(e,t){let n=EC(e),i=EC(t);return n.x1<=i.x2&&n.x2>=i.x1&&n.y1<=i.y2&&n.y2>=i.y1}function EC(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function V9(e,t,n,i){if(typeof e=="number")return{x1:e,y1:t,x2:n,y2:i};if("width"in e)return EC({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${n}] [${i}]`)}function B9(){return{x1:0,y1:0,x2:0,y2:0}}function Gb(e,t,n,i,r){return t+(i-t)*((r-e)/(n-e))}function SR(e,t,n,i,r){return e+(r-t)*((n-e)/(i-t))}function MR(e,t,n){return[SR(e,n.min,t,n.max,0),SR(e,n.min,t,n.max,1)]}function z9(e,t,n){let[i,r]=MR(e.x1,e.x2,t),[o,s]=MR(e.y1,e.y2,n);return{x1:i,x2:r,y1:o,y2:s}}function DR(e,t,n,i,r,o){if(n<=r&&o<=i)return n;let s=r-n,a=o-i,l=Math.abs(s)<Math.abs(a)?s:a;return se(e,n+l,t)}function H9(e,t,n){let{x:i={min:0,max:1},y:r={min:0,max:1}}=t,o=tg.from(n),s=tg.from(e),a=z9(s,i,r),l=DR(a.x1,a.x2,s.x1,s.x2,o.x1,o.x2),c=DR(a.y1,a.y2,s.y1,s.y2,o.y1,o.y2),u={x:{min:Gb(s.x1,i.min,s.x2,i.max,l),max:Gb(s.x1,i.min,s.x2,i.max,l+e.width)},y:{min:Gb(s.y1,r.min,s.y2,r.max,c),max:Gb(s.y1,r.min,s.y2,r.max,c+e.height)}},d=u.x.max-u.x.min,h=u.y.max-u.y.min;return u.x.min=se(0,u.x.min,1-d),u.x.max=u.x.min+d,u.y.min=se(0,u.y.min,1-h),u.y.max=u.y.min+h,u}function eF(e,t){let n=e?.valueOf(),i=t?.valueOf();return typeof n!="number"||typeof i!="number"?[void 0,void 0]:n<i?[0,1]:[1,0]}var U9=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},IR=e=>rt((t,{options:n})=>!Ht.is(e?.scale)&&!$o.is(e?.scale)||t==null||n.end==null?!0:t<n.end,"to be less than end"),tF=class extends SE{constructor(e,t){super(),this.eventsHub=e,this.fireChartEvent=t,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new ah(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new U9,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.boundFireOnceChartEvent=this.fireOnceChartEvent.bind(this),this.cleanup.register(e.on("layout:complete",()=>{this.didLayoutAxes=!0;let{pendingMemento:n}=this;n&&this.restoreMemento(n.version,n.mementoVersion,n.memento),this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(e==null)return!0;if(!yt(e))return!1;let n=this.getPrimaryAxis("x"),i=this.getPrimaryAxis("y"),r={rangeX:{start:IR(n),end:me},rangeY:{start:IR(i),end:me},ratioX:{start:me,end:me},ratioY:{start:me,end:me},autoScaledAxes:me},{invalid:o}=Dn(e,r);return o.length>0?(t.push(...o.map(String)),!1):!0}restoreMemento(e,t,n){let{independentAxes:i}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:e,mementoVersion:t,memento:n};return}this.pendingMemento=void 0;let r=this.getDefinedZoom();if(n?.rangeX?r.x=this.rangeToRatio(n.rangeX,"x")??{min:0,max:1}:n?.ratioX?r.x={min:n.ratioX.start??0,max:n.ratioX.end??1}:r.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let a=n?.autoScaledAxes?.includes("y");if(n?.rangeY)a??(a=!1),r.y=this.rangeToRatio(n.rangeY,"y")??{min:0,max:1};else if(n?.ratioY)a??(a=!1),r.y={min:n.ratioY.start??0,max:n.ratioY.end??1};else{a??(a=!0);let l=a?this.getAutoScaleYZoom(r.x):void 0;r.y=l??{min:0,max:1}}r.autoScaleYAxis=a}if(this.lastRestoredState=r,i!==!0){this.updateZoom("zoom-manager",r);return}let o=this.getPrimaryAxis("x"),s=this.getPrimaryAxis("y");for(let a of[o,s])a&&this.updateAxisZoom("zoom-manager",a.id,r[a.direction])}updateAxes(e){this.axes=e;let t=new Map(e.map(n=>[n.id,this.axisZoomManagers.get(n.id)]));this.axisZoomManagers.clear();for(let n of e)this.axisZoomManagers.set(n.id,t.get(n.id)??new G9(n));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(e=!0){this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t,e&&this.autoScaleYZoom("toggle-auto-scale")}setNavigatorEnabled(e=!0){this.navigatorModule=e}setZoomModuleEnabled(e=!0){this.zoomModule=e}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t?.x&&(t.x.min<0||t.x.max>1)&&(P.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t?.y&&(t.y.min<0||t.y.max>1)&&(P.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),this.axisZoomManagers.size===0){let i=this.state.stateId();(i==="initial"||i===e)&&this.state.set(e,t);return}this.state.set(e,t);let n=t?.autoScaleYAxis;n!=null&&(this.autoScaleYAxis.manuallyAdjusted=!n),this.axisZoomManagers.forEach(i=>{i.updateZoom(e,t?.[i.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,n){this.axisZoomManagers.get(t)?.updateZoom(e,n),this.applyChanges(e)}resetZoom(e){this.autoScaleYAxis.manuallyAdjusted=!1;let t=this.getRestoredZoom();this.updateZoom(e,{x:{min:t?.x?.min??0,max:t?.x?.max??1},y:{min:t?.y?.min??0,max:t?.y?.max??1},autoScaleYAxis:t?.autoScaleYAxis??!0})}resetAxisZoom(e,t){let i=this.axisZoomManagers.get(t)?.getDirection();if(i==null)return;let r=this.getRestoredZoom();if(i==="y"){let o=r?.autoScaleYAxis??!0;this.autoScaleYAxis.manuallyAdjusted=!o}for(let o of this.axes)o.direction===i&&this.updateAxisZoom(e,o.id,r?.[i]??{min:0,max:1})}setAxisManuallyAdjusted(e,t){this.axisZoomManagers.get(t)?.getDirection()==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,n){let i=this.getPrimaryAxis(t);i&&this.updateAxisZoom(e,i.id,n)}panToBBox(e,t,n){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;let i=this.getZoom();if(i===void 0||!i.x&&!i.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(n.width)<=Math.abs(t.width)&&Math.abs(n.height)<=Math.abs(t.height)))return P.warnOnce("cannot pan to target BBox - chart too small?"),!1;let o=H9(t,i,n);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",o.x),this.updatePrimaryAxisZoom(e,"y",o.y)):this.updateZoom(e,o),!0}fireZoomPanStartEvent(e){this.eventsHub.emit("zoom:pan-start",{callerId:e})}extendToEnd(e,t,n){return this.extendWith(e,t,i=>Number(i)-n)}extendWith(e,t,n){let i=this.getPrimaryAxis(t);if(!i)return;let r=this.getDomainExtents(i);if(!r)return;let[,o]=r,s=n(o),a=this.rangeToRatio({start:s,end:o},t);a&&this.updateZoom(e,{[t]:a})}updateWith(e,t,n){let i=this.getPrimaryAxis(t);if(!i)return;let r=this.getDomainExtents(i);if(!r)return;let[o,s]=r;[o,s]=n(o,s);let a=this.rangeToRatio({start:o,end:s},t);a&&this.updateZoom(e,{[t]:a})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(n=>{n.getDirection()==="x"?e??(e=n.getZoom()):n.getDirection()==="y"&&(t??(t=n.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){return this.axisZoomManagers.get(e)?.getZoom()??{min:0,max:1}}getAxisZooms(){let e={};for(let[t,n]of this.axisZoomManagers.entries())e[t]={direction:n.getDirection(),zoom:n.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){return this.getPrimaryAxis(e)?.id}isVisibleItemsCountAtLeast(e,t){let{autoScaleYAxis:n}=this,i=this.getPrimaryAxis("x"),r=this.getPrimaryAxis("y"),o;if(this.independentAxes){let c=new Set(i?.boundSeries??[]),u=new Set(r?.boundSeries??[]);o=new Set;for(let d of c)u.has(d)&&o.add(d)}else o=new Set([...i?.boundSeries??[],...r?.boundSeries??[]]);let s=[e.x.min,e.x.max],a=n.enabled&&!n.manuallyAdjusted?void 0:[e.y.min,e.y.max],l=0;for(let c of o){let u=t-(l??0),d=c.getVisibleItems(s,a,u);if(l+=d,l>=t)return!0}return o.size===0}getMementoRanges(){let e=this.getDefinedZoom(),t;return this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}getAutoScaleYZoom(e){if(!this.isZoomEnabled())return;let{independentAxes:t,autoScaleYAxis:n}=this;if(!n.enabled||n.manuallyAdjusted)return;let{padding:i}=n;return e?.min===0&&e?.max===1?{min:0,max:1}:t?this.primaryAxisZoom("y",e,{padding:i}):this.combinedAxisZoom("y",e,{padding:i})}autoScaleYZoom(e,t=!0){let{independentAxes:n}=this,i=this.getZoom();if(i?.x==null)return;let r=this.getAutoScaleYZoom(i.x);if(!(r==null||Un(i.y,r))){if(n){let o=this.getPrimaryAxis("y");(o==null?void 0:this.axisZoomManagers.get(o.id))?.updateZoom("zoom-manager",r)}else for(let o of this.axisZoomManagers.values())o.getDirection()==="y"&&o.updateZoom("zoom-manager",r);t&&this.applyChanges(e)}}applyChanges(e){if(this.autoScaleYZoom(e,!1),!Array.from(this.axisZoomManagers.values(),i=>i.applyChanges()).includes(!0))return;let n={};for(let[i,r]of this.axisZoomManagers.entries())n[i]=r.getZoom();this.eventsHub.emit("zoom:change",I(g({},this.getZoom()),{axes:n,callerId:e})),this.eventsHub.on("layout:complete",this.boundFireOnceChartEvent)}fireOnceChartEvent(){this.fireChartEvent(g({type:"zoom"},this.getMementoRanges())),this.eventsHub.off("layout:complete",this.boundFireOnceChartEvent)}getRangeDirection(e,t){let n=this.getPrimaryAxis(t);if(!n||!Ht.is(n.scale)&&!$o.is(n.scale))return;let i=this.getDomainPixelExtents(n);if(!i)return;let[r,o]=i,s,a;return r<=o?(s=n.scale.invert(0),a=n.scale.invert(r+(o-r)*e.max)):(s=n.scale.invert(r-(r-o)*e.min),a=n.scale.invert(0)),{start:s,end:a}}rangeToRatio(e,t){let n=this.getPrimaryAxis(t);if(!n)return;let i=this.getDomainPixelExtents(n);if(!i)return;let[r,o]=i,{scale:s}=n,{start:a,end:l}=e,[c=0,u=1]=eF(a,l),d=e.start==null?r:s.convert(e.start,{alignment:c}),h=e.end==null?o:s.convert(e.end,{alignment:u})+(s.bandwidth??0);if(!nt(d)||!nt(h))return;let[f,p]=[Math.min(r,o),Math.max(r,o)];if(d<f||d>p){P.warnOnce(`Invalid range start [${e.start}], expecting a value between [${s.invert(r)}] and [${s.invert?.(o)}], ignoring.`);return}if(h<f||h>p){P.warnOnce(`Invalid range end [${e.end}], expecting a value between [${s.invert(r)}] and [${s.invert?.(o)}], ignoring.`);return}d=Math.min(p,Math.max(f,d)),h=Math.min(p,Math.max(f,h));let m=o-r,b=Math.abs((d-r)/m),v=Math.abs((h-r)/m);return{min:b,max:v}}getPrimaryAxis(e){return this.axes?.find(t=>t.direction===e)}getDomainExtents(e){let{domain:t}=e.scale,n=t.at(0),i=t.at(-1);if(!(n==null||i==null))return[n,i]}getDomainPixelExtents(e){let[t,n]=e.scale.range;if(!(!nt(t)||!nt(n)))return[t,n]}getDefinedZoom(){let e=this.getZoom();return{x:{min:e?.x?.min??0,max:e?.x?.max??1},y:{min:e?.y?.min??0,max:e?.y?.max??1}}}zoomBounds(e,t,n,i){let r=e.scale,o=r.range;r.range=[0,1];let s=t.scale,a=s.range;s.range=[0,1];let l=1,c=!1,u=0,d=!1;for(let p of t.boundSeries){if(!p.visible)continue;let{connectsToYAxis:m}=p,b=p.getRange("y",[n.min,n.max]);for(let v of b){let x=s.convert(v);Number.isFinite(x)&&(x<l&&(l=x,c=!m||v<0),x>u&&(u=x,d=!m||v>0))}}if(nt(t.min)&&(l=0),nt(t.max)&&(u=1),r.range=o,s.range=a,l>=u)return;let h=(c?i:0)+(d?i:0),f=Math.min((u-l)*(1+h),1);if(!(f<=0)){if(c&&d){let p=(u+l)/2;l=p-f/2,u=p+f/2}else!c&&d?u=l+f:c&&!d&&(l=u-f);return l<0?(u+=-l,l=0):u>1&&(l-=u-1,u=1),{min:l,max:u}}}primaryAxisZoom(e,t,{padding:n=0}={}){let i=e==="x"?"y":"x",r=this.getPrimaryAxis(i),o=this.getPrimaryAxis(e);if(!(r==null||o==null))return this.zoomBounds(r,o,t,n)}combinedAxisZoom(e,t,{padding:n=0}={}){let i=e==="x"?"y":"x",r=new Map;for(let l of this.axes)if(l.direction===i)for(let c of l.boundSeries)r.set(c,l);let o=1,s=0;for(let l of this.axes)if(l.direction===e)for(let c of l.boundSeries){let u=r.get(c);if(u==null)continue;let d=this.zoomBounds(u,l,t,n);if(d==null)return;o=Math.min(o,d.min),s=Math.max(s,d.max)}let a=1e-6;if(o<a&&(o=0),s>1-a&&(s=1),!(o>s))return{min:o,max:s}}},G9=class{constructor(e){this.axis=e;let[t=0,n=1]=e.visibleRange;this.state=new ah({min:t,max:n}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return ln(this.state.stateValue())}hasChanges(){let e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){let e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}},OE=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(OE||{}),nF=class{constructor(e){this.eventsHub=e,this.elements=new Map}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>this.elements.get(e)?.delete(t)}createContext(e,t){let n=new $9(e,t);for(let i of Object.values(OE))typeof i=="number"&&this.elements.get(i)?.forEach(r=>r(n));return n}emitLayoutComplete(e,t){let{width:n,height:i}=e;this.eventsHub.emit("layout:complete",{axes:t.axes??[],chart:{width:n,height:i},clipSeries:t.clipSeries??!1,series:t.series})}},$9=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new re(0,0,e,t)}};function W9({point:e,anchor:t},n,i,r,o){if(e.size===0)return!1;let s=e.x,a=e.y;t!=null&&(s-=(t.x-.5)*e.size,a-=(t.y-.5)*e.size);let l=s;s<n?l=n:s>n+r&&(l=n+r);let c=a;a<i?c=i:a>i+o&&(c=i+o);let u=s-l,d=a-c;return Math.sqrt(u*u+d*d)<=e.size*.5}function Y9(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var Z9={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function q9(e,t,n=5){let i=new Map,r=[],o=new Map([...e.entries()].map(([a,l])=>[a,l.toSorted((c,u)=>u.point.size-c.point.size)])),s=[...o.values()].flat();for(let[a,l]of o.entries()){let c=[];if(l[0]?.label){for(let u=0,d=l.length;u<d;u++){let h=l[u],{point:f,label:p,anchor:m}=h,{text:b,width:v,height:x}=p,M=f.size*.5,D=0,w=0;if(M>0&&h.placement!=null){let V=Z9[h.placement];D=(v*.5+M+n)*V.x,w=(x*.5+M+n)*V.y}let E=f.x-v*.5+D-((m?.x??.5)-.5)*f.size,C=f.y-x*.5+w-((m?.y??.5)-.5)*f.size;if(!Ed(t,E,C,v,x)||s.some(V=>W9(V,E,C,v,x))||r.some(V=>Pb(V,E,C,v,x)))continue;let j={index:u,text:b,x:E,y:C,width:v,height:x,datum:h};c.push(j),r.push(j)}i.set(a,c)}}return i}var K9=class{constructor(){this.labelData=new Map}updateLabels(e,t,n=re.zero){let i={x:-t.left,y:-t.top,width:n.width+t.left+t.right,height:n.height+t.top+t.bottom},r=new Set(e.map(s=>s.id));for(let s of this.labelData.keys())r.has(s)||this.labelData.delete(s);for(let s of e){let a=s.getLabelData();a.every(Y9)&&this.labelData.set(s.id,a)}let o=q9(this.labelData,i,5);for(let s of e)s.updatePlacedLabelData?.(o.get(s.id)??[])}},Q9=class{constructor(e){this.eventsHub=e,this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:e,isFixed:t})=>!e&&!t).map(({enabled:e,seriesId:t,itemId:n,legendItemName:i})=>({visible:e,seriesId:t,itemId:n,legendItemName:i}))}guardMemento(e){return e==null||Ie(e)}restoreMemento(e,t,n){n?.forEach(i=>{let{seriesId:r,data:o}=this.getRestoredData(i)??{};!r||!o||this.updateData(r,o)}),this.update()}getRestoredData(e){let{seriesId:t,itemId:n,legendItemName:i,visible:r}=e;if(t){let s=(this.legendDataMap.get(t)??[]).map(a=>{let l=a.seriesId===t&&(!n||a.itemId===n);return l&&a.isFixed&&this.warnFixed(a.seriesId,a.itemId),!a.isFixed&&l?I(g({},a),{enabled:r}):a});return{seriesId:t,data:s}}if(!(n==null&&i==null))for(let o of this.getData()){if(n!=null&&o.itemId!==n||i!=null&&o.legendItemName!==i)continue;if(o.isFixed){this.warnFixed(o.seriesId,n);return}let s=(this.legendDataMap.get(o.seriesId)??[]).map(a=>a.itemId===n||a.legendItemName===i?I(g({},a),{enabled:r}):a);return{seriesId:o.seriesId,data:s}}}warnFixed(e,t){P.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.eventsHub.emit("legend:change",{legendData:e??this.getData()})}updateData(e,t=[]){this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem(e,t,n,i){if(i){this.getData().forEach(a=>{let l=(this.legendDataMap.get(a.seriesId)??[]).map(c=>c.legendItemName===i?I(g({},c),{enabled:e}):c);this.updateData(a.seriesId,l)});return}let r=this.getData(t),o=r.length===1,s=r.map(a=>n==null&&o||a.itemId===n?I(g({},a),{enabled:e}):a);this.updateData(t,s)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((t,[n,i])=>t.concat(i),[])}getDatum({seriesId:e,itemId:t}={}){return this.getData(e).find(n=>n.itemId===t)}getSeriesEnabled(e){let t=this.getData(e);if(t.length>0)return t.some(n=>n.enabled)}getItemEnabled({seriesId:e,itemId:t}={}){return this.getDatum({seriesId:e,itemId:t})?.enabled??!0}},X9=class{constructor(){this.groups=new Map}registerSeries({internalId:e,seriesGrouping:t,visible:n,type:i}){if(!t)return;let r=this.groups.get(i);r==null&&(r=new Map,this.groups.set(i,r)),r.set(e,{grouping:t,visible:n})}updateSeries({internalId:e,seriesGrouping:t,visible:n,type:i}){if(!t)return;let r=this.groups.get(i)?.get(e);r&&(r.grouping=t,r.visible=n)}deregisterSeries({internalId:e,type:t}){let n=this.groups.get(t);n!=null&&(n.delete(e),n.size===0&&this.groups.delete(t))}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:n}){if(!t)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};let i=new Set,r=new Set,o=this.groups.get(e);for(let a of o?.values()??[])a.visible&&(i.add(a.grouping.groupIndex),a.grouping.groupIndex===t.groupIndex&&r.add(a.grouping.stackIndex));let s=Array.from(i);return s.sort((a,l)=>a-l),{visibleGroupCount:s.length,visibleSameStackCount:r.size,index:s.indexOf(t.groupIndex)}}},iF=class{constructor(e){this.updateCallback=e,this.events=new _i}addListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.events.emit("update-complete",{type:"update-complete",apiUpdate:e})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:e}){this.events.emit("process-data",{type:"process-data",series:e})}},J9=class{constructor(e,t){this.eventsHub=new _i,this.callbackCache=new a2,this.highlightManager=new Z2(this.eventsHub),this.formatManager=new uh,this.layoutManager=new nF(this.eventsHub),this.localeManager=new UZ(this.eventsHub),this.seriesStateManager=new X9,this.stateManager=new SZ,this.seriesLabelLayoutManager=new K9,this.cleanup=new Be,this.contextModules=[];let{scene:n,root:i,syncManager:r,container:o,fireEvent:s,updateCallback:a,updateMutex:l,styleContainer:c,chartType:u,domMode:d,withDragInterpretation:h}=t;this.chartService=e,this.syncManager=r,this.domManager=new T2(this.eventsHub,this.chartService,o,c,d),this.widgets=new C9(this.domManager,{withDragInterpretation:h});let f=this.domManager.addChild("canvas","scene-canvas",n?.canvas.element);this.scene=n??new TE({canvasElement:f}),this.scene.setRoot(i),this.cleanup.register(this.scene.on("scene-changed",()=>{this.updateService.update(7)})),this.axisManager=new YZ(this.eventsHub,i),this.legendManager=new Q9(this.eventsHub),this.annotationManager=new WZ(this.eventsHub,e.annotationRoot,s),this.chartTypeOriginator=new bZ(e),this.interactionManager=new G2,this.contextMenuRegistry=new Y2(this.eventsHub),this.updateService=new iF(a),this.proxyInteractionService=new N2(this.eventsHub,this.localeManager,this.domManager),this.fontManager=new ZZ(this.domManager,this.updateService),this.historyManager=new xZ(this.eventsHub),this.animationManager=new $2(this.interactionManager,l),this.dataService=new s0(this.eventsHub,e,this.animationManager),this.tooltipManager=new Ix(this.eventsHub,this.localeManager,this.domManager,e.tooltip),this.zoomManager=new tF(this.eventsHub,s);for(let p of _s.byType("context")){if(!p.chartTypes.includes(u))continue;let m=p.moduleFactory(this);this.contextModules.push(m),this[p.contextKey]=m}}destroy(){this.animationManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.domManager.destroy(),this.fontManager.destroy(),this.proxyInteractionService.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy()),this.cleanup.flush()}},rF=class extends Te{constructor(){super(...arguments),this.range="tooltip"}};y([S],rF.prototype,"range",2);function eq(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function tq(e,t){if(e==null||t==null)return e===t;if(e.size!==t.size)return!1;for(let[n,i]of e){let r=t.get(n);if(r==null||!eq(i,r))return!1}return!0}function nq(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1){let n=e[r],{type:o,idsMap:s,scopes:a,data:l}=n,c=Vt(n,["type","idsMap","scopes","data"]),i=t[r],{type:u,idsMap:d,scopes:h,data:f}=i,p=Vt(i,["type","idsMap","scopes","data"]);if(o!==u||a&&h&&!dr(a,h)||l&&f&&l!==f||!Un(c,p)||!tq(s,d))return!1}return!0}function iq(e,t){let s=e,{props:n}=s,i=Vt(s,["props"]),a=t,{props:r}=a,o=Vt(a,["props"]);return Un(i,o)&&nq(n,r)}function rq(e,t,n,i){return t===e.data&&dr(n,e.ids)&&iq(i,e.opts)}var wR=class oF{constructor(){this.domain=new Set}static is(t){return t instanceof oF}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},ll=class sF{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof sF}static extendDomain(t,n=[1/0,-1/0]){for(let i of t)typeof i=="number"&&(n[0]>i&&(n[0]=i),n[1]<i&&(n[1]=i));return n}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}},Od=0,Ld=1,Ds=2,oq=class{constructor(e){let t=e.reduce((o,s)=>Math.max(o,s.length),0),i=1<<32-Math.clz32(t);t===i/2&&(i=i>>>1),this.maxLevelSize=i;let r=new Float64Array((i*2-1)*2).fill(NaN);for(let o of e)for(let s=0;s<o.length;s+=1){let a=Number(o[s]),l=i+s-1,c=(l*Ds|0)+Od,u=(l*Ds|0)+Ld,d=r[c],h=r[u];(!Number.isFinite(d)||a<d)&&(r[c]=a),(!Number.isFinite(h)||a>h)&&(r[u]=a)}for(let o=i/2|0;o>=1;o=o/2|0){let s=o-1|0,a=s+o|0;for(let l=0;l<o;l+=1){let c=s+l,u=a+l*2,d=u+1,h=r[(u*Ds|0)+Od],f=r[(d*Ds|0)+Od];r[(c*Ds|0)+Od]=!Number.isFinite(f)||h<f?h:f;let p=r[(u*Ds|0)+Ld],m=r[(d*Ds|0)+Ld];r[(c*Ds|0)+Ld]=!Number.isFinite(m)||p>m?p:m}}this.buffer=r}computeRangeInto(e,t,n,i,r,o,s){let a=r+o-1;if(a<t||r>=n)return s;if(r>=t&&a<n){let l=e[(i*Ds|0)+Od],c=e[(i*Ds|0)+Ld];Number.isFinite(l)&&(s[0]=Math.min(s[0],l)),Number.isFinite(c)&&(s[1]=Math.max(s[1],c))}else o>1&&(i=i*2|0,o=o/2|0,this.computeRangeInto(e,t,n,i+1|0,r,o,s),this.computeRangeInto(e,t,n,i+2|0,r+o,o,s));return s}rangeBetween(e,t){if(e>t)return[NaN,NaN];let{maxLevelSize:n,buffer:i}=this,r=[1/0,-1/0];return this.computeRangeInto(i,e,t,0,0,n,r),r}get range(){let{buffer:e}=this;return[e[Od],e[Ld]]}};function sq(e){if(e.length<=1)return 1;let t=0,n=e[0];for(let i=1;i<e.length;i++){let r=e[i];if(r==null)continue;if(typeof r.valueOf()!="number")return;let s=Math.sign(r-n);if(s!==0){if(t!==0&&t!==s)return;t=s}n=r}return t===0?1:t}var CR=Symbol("key-sort-orders"),ER=Symbol("column-sort-orders"),TR=Symbol("domain-ranges");function aq(e){return e.map(t=>yt(t)?JSON.stringify(t):t).join("-")}function Hr(e){let t=e?.map(Number);return t?.every(Number.isFinite)?t:[]}function aF(e,t){return t?.get(e.id)??0}function lq(e){return"scopes"in e&&Array.isArray(e.scopes)}function zw(e,t){let n=[];for(let i=0;i<e;i+=1)n[i]=t;return n}function wx(e,t,n){let i=[];for(let r of e){let o=r.get(t)?.[n];if(o==null)return;i.push(o)}return i}function lF(e){let t=[],n=0,i,r=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;i=r.exec(e);){if(i.index!==n)return;n=i.index+i[0].length;let o=i[1].trim();if(o.startsWith("."))t.push(o.slice(1).trim());else if(o.startsWith("[")){let s=o.slice(1,-1).trim();s.startsWith("'")?t.push(s.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):s.startsWith('"')?t.push(s.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(s)}else t.push(o)}if(n===e.length)return t}function cq(e){return t=>{let n=t;for(let i of e)n=n[i];return n}}var cF=class{constructor(e,t="standalone",n=!1){this.opts=e,this.mode=t,this.suppressFieldDotNotation=n,this.debug=We.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(a,l,c,u){for(let d of a)u.has(d)||u.set(d,zw(l.length,!1)),u.get(d)[c]=!0};let i=!0;for(let a of e.props){if(a.type==="key"&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");a.type==="value"&&i&&(i=!1)}let r=({matchGroupIds:a=[]})=>{for(let l of a)if(this.values.every(c=>c.groupId!==l))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${l}).`)},o=new Set,s=new Set;for(let a of e.props){let l=a.type==="key"?o:s;switch(lq(a)&&a.scopes?.forEach(c=>l.add(c)),a.type){case"key":this.keys.push(I(g({},a),{index:this.keys.length,missing:new Map}));break;case"value":if(a.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);this.values.push(I(g({},a),{index:this.values.length,missing:new Map}));break;case"aggregate":r(a),this.aggregates.push(I(g({},a),{index:this.aggregates.length}));break;case"group-value-processor":r(a),this.groupProcessors.push(I(g({},a),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(I(g({},a),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(I(g({},a),{index:this.reducers.length}));break;case"processor":this.processors.push(I(g({},a),{index:this.processors.length}));break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){let a=new Set(s.values());if(o.forEach(l=>a.delete(l)),a.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...a.values()]}`)}}resolveProcessedDataDefById(e,t){let n=this.scopeCache.get(e.id)?.get(t);if(!n)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:n.index,def:n}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,n){let i=this.resolveProcessedDataIndexById(e,t),r=n.keys[i];if(r==null)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return r.get(e.id)}hasColumnById(e,t){return this.scopeCache.get(e.id)?.get(t)!=null}resolveColumnById(e,t,n){let i=this.resolveProcessedDataIndexById(e,t),r=n.columns?.[i];if(r==null)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return r}*forEachDatum(e,t,n){let i=t.columnScopes.findIndex(r=>r.has(e.id));for(let r of n.datumIndices[i]??[])yield t.columns[i][r]}*forEachGroupDatum(e,t){let n=t.columnScopes.findIndex(o=>o.has(e.id)),i={groupIndex:0,columnIndex:n},r=[];for(let o of t.groups){i.group=o;for(let s of o.datumIndices[n]??r)i.datumIndex=s,yield i;i.groupIndex++}}*forEachGroupDatumTuple(e,t){let i={columnIndex:t.columnScopes.findIndex(r=>r.has(e.id)),datumIndexes:[void 0,void 0,void 0]};for(let r of this.forEachGroupDatum(e,t))i.group=i.nextGroup,i.groupIndex=i.nextGroupIndex,i.nextGroup=r.group,i.nextGroupIndex=r.groupIndex,i.datumIndexes[0]=i.datumIndexes[1],i.datumIndexes[1]=i.datumIndexes[2],i.datumIndexes[2]=r.datumIndex,i.group!=null&&i.datumIndexes[1]!=null&&(yield i);i.group=i.nextGroup,i.groupIndex=i.nextGroupIndex,i.nextGroup=void 0,i.nextGroupIndex=void 0,i.datumIndexes[0]=i.datumIndexes[1],i.datumIndexes[1]=i.datumIndexes[2],i.datumIndexes[2]=void 0,i.group!=null&&i.datumIndexes[1]!=null&&(yield i)}getDomain(e,t,n,i){return this.getDomainsByType(n??"value",i)?.[this.resolveProcessedDataIndexById(e,t)]??[]}getDomainBetweenRange(e,t,[n,i],r){let o=t.map(c=>this.resolveProcessedDataIndexById(e,c)),s=o.join(":"),a=r[TR],l=a.get(s);if(l==null){let c=o.map(u=>r.columns[u]);l=new oq(c),a.set(s,l)}return l.rangeBetween(n,i)}getSortOrder(e,t,n){let i=n.get(t);return i==null&&(i={sortOrder:sq(e)},n.set(t,i)),i.sortOrder}getKeySortOrder(e,t,n){let i=this.resolveProcessedDataIndexById(e,t),r=n.keys[i]?.get(e.id);return r?this.getSortOrder(r,i,n[CR]):void 0}getColumnSortOrder(e,t,n){let i=this.resolveProcessedDataIndexById(e,t);return this.getSortOrder(n.columns[i],i,n[ER])}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){let{opts:{groupByKeys:t,groupByFn:n},aggregates:i,groupProcessors:r,reducers:o,processors:s,propertyProcessors:a}=this,l=performance.now();if(t&&this.keys.length===0)return;let c=this.extractData(e);t?c=this.groupData(c):n&&(c=this.groupData(c,n(c))),r.length>0&&c.type==="grouped"&&this.postProcessGroups(c),i.length>0&&c.type==="ungrouped"?this.aggregateUngroupedData(c):i.length>0&&c.type==="grouped"&&this.aggregateGroupedData(c),a.length>0&&this.postProcessProperties(c),o.length>0&&this.reduceData(c),s.length>0&&this.postProcessData(c),this.warnDataMissingProperties(e);let u=performance.now();return c.time=u-l,this.debug.check()&&uq(c),this.processScopeCache(),c}warnDataMissingProperties(e){if(e.size!==0)for(let t of rl(this.keys,this.values))for(let[n,i]of t.missing){if(i<(e.get(n)?.length??1/0))continue;let r=n==null?"":` for ${n}`;P.warnOnce(`the key '${t.property}' was not found in any data element${r}.`)}}processScopeCache(){this.scopeCache.clear();for(let e of rl(this.keys,this.values,this.aggregates))if(e.idsMap)for(let[t,n]of e.idsMap)for(let i of n)if(!this.scopeCache.has(t))this.scopeCache.set(t,new Map([[i,e]]));else{if(this.scopeCache.get(t)?.has(i))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(t).set(i,e)}}valueGroupIdxLookup({matchGroupIds:e}){let t=[];for(let[n,i]of this.values.entries())(!e||i.groupId&&e.includes(i.groupId))&&t.push(n);return t}valueIdxLookup(e,t){let n=e==null||e.length===0,i=typeof t=="string"?t:t.id,r=s=>{if(s.idsMap){for(let[a,l]of s.idsMap)if(e?.includes(a)&&l.has(i))return!0}return!1},o=this.values.reduce((s,a,l)=>((a.scopes==null||n&&!a.scopes.length||a.scopes.some(u=>e?.includes(u)))&&(a.property===i||a.id===i||r(a))&&s.push(l),s),[]);if(o.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return o}extractData(e){let{dataDomain:t,processValue:n,allScopesHaveSameDefs:i}=this.initDataDomainProcessor(),{keys:r,values:o}=this,{invalidData:s,invalidKeys:a,invalidKeyCount:l,allKeyMappings:c}=this.extractKeys(r,e,n),{columns:u,columnScopes:d,partialValidDataCount:h,maxDataLength:f}=this.extractValues(s,o,e,a,n),p=m=>{let b=t.get(m),v=b.getDomain();return ll.is(b)&&v[0]>v[1]?[]:v};return{type:"ungrouped",input:{count:f},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...c.values()],columns:u,columnScopes:d,invalidKeys:a,invalidKeyCount:l,invalidData:s,domain:{keys:r.map(p),values:o.map(p)},defs:{allScopesHaveSameDefs:i,keys:r,values:o},partialValidDataCount:h,time:0,[TR]:new Map,[CR]:new Map,[ER]:new Map}}extractKeys(e,t,n){let i=new Map,r=new Map,o=new Map,s=new Map,a,l,c=(u,d)=>{let h=l.get(u);a.set(d,a.get(h)),i.has(h)&&(i.set(d,i.get(h)),r.set(d,r.get(h)))};for(let u of e){let{invalidValue:d,scopes:h}=u;a=new Map,l=new Map,s.set(u,a);for(let f of h??[]){let p=t.get(f)??[];if(l.has(p)){c(p,f);continue}let m=[];a.set(f,m),l.set(p,f);let b,v,x=0;for(let M=0;M<p.length;M++){if(p[M]==null||typeof p[M]!="object")continue;let D=n(u,p[M],M,f);if(D.valid){m.push(D.value);continue}m.push(d),b??(b=zw(p.length,!1)),v??(v=zw(p.length,!1)),x+=1,b[M]=!0,v[M]=!0}b&&v&&(i.set(f,b),r.set(f,v),o.set(f,x))}}return{invalidData:r,invalidKeys:i,invalidKeyCount:o,allKeyMappings:s}}extractValues(e,t,n,i,r){let o=0,s=[],a=[],l=0;for(let c of t){let{invalidValue:u}=c;if(new Set(c.scopes.map(v=>n.get(v))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(c)}`);let h=new Set(c.scopes),f=Cd(c.scopes),p=n.get(f),m=new Array,b=i.get(f);for(let v=0;v<p.length;v++){if(p[v]==null||typeof p[v]!="object")continue;let x=p[v],M=b!=null?b[v]:!1,D=r(c,x,v,c.scopes),w=D.value;(M||!D.valid)&&this.markScopeDatumInvalid(c.scopes,p,v,e),M?w=u:D.valid||(o+=1,w=u),m[v]=w}s.push(m),a.push(h),l=Math.max(l,m.length)}return{columns:s,columnScopes:a,partialValidDataCount:o,maxDataLength:l}}groupData(e,t){var n;let{keys:i,columns:r,columnScopes:o,invalidKeys:s,invalidData:a}=e,l=e.scopes,c=[],u=[],d=new Set,h=l.size!==1||t!=null?new Map:void 0;for(let f of l){let p=r.map((D,w)=>w).filter(D=>!d.has(D)&&o[D].has(f));if(p.length===0)continue;for(let D of p)d.add(D);let m=new Set;for(let D of p)for(let w of o[D])m.add(w);let b=i.map(D=>D.get(f)).filter(D=>D!=null),v=r[Cd(p)],x=a?.get(f),M=s?.get(f);for(let D=0;D<v.length;D++){if(M?.[D]===!0)continue;let w=b.map(N=>N[D]);if(w==null||w.length===0)throw new Error("AG Charts - no keys found for scope: "+f);let E=t?.(w)??w,C=h!=null?aq(E):void 0,_=h?.get(C);if(_==null&&(_={keys:E,datumIndices:[],aggregation:[],validScopes:l},h?.set(C,_),c.push(_.keys),u.push(_)),x?.[D]===!0){_.validScopes===l&&(_.validScopes=new Set(l.values()));for(let N of m)_.validScopes.delete(N)}for(let N of p)(n=_.datumIndices)[N]??(n[N]=[]),_.datumIndices[N].push(D)}}return I(g({},e),{type:"grouped",domain:I(g({},e.domain),{groups:c}),groups:u})}aggregateUngroupedData(e){let t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;let{keys:n,columns:i,dataSources:r}=e,o=Cd(r.keys()),s=r.get(o);e.aggregation=s?.map((a,l)=>{let c=[];for(let[u,d]of this.aggregates.entries()){let h=this.valueGroupIdxLookup(d),f=d.groupAggregateFunction?.()??[1/0,-1/0],p=h.map(x=>i[x][l]),m=wx(n,o,l),b=m!=null?d.aggregateFunction(p,m):void 0;b&&(f=d.groupAggregateFunction?.(b,f)??ll.extendDomain(b,f));let v=d.finalFunction?.(f)??f;c[u]=v,ll.extendDomain(v,t[u])}return c})}aggregateGroupedData(e){let t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;let{columns:n}=e;for(let[i,r]of this.aggregates.entries()){let o=this.valueGroupIdxLookup(r);for(let s of e.groups){s.aggregation??(s.aggregation=[]);let a=s.keys,l=r.groupAggregateFunction?.()??[1/0,-1/0],c=Math.max(...o.map(d=>s.datumIndices[d]?.length??0));for(let d=0;d<c;d++){let h=o.map(p=>n[p][s.datumIndices[p]?.[d]]),f=r.aggregateFunction(h,a);f&&(l=r.groupAggregateFunction?.(f,l)??ll.extendDomain(f,l))}let u=r.finalFunction?.(l)??l;s.aggregation[i]=u,ll.extendDomain(u,t[i])}}}postProcessGroups(e){let{groupProcessors:t}=this,{columnScopes:n,columns:i,invalidData:r}=e;for(let o of t){let s=this.valueGroupIdxLookup(o),a=o.adjust()();for(let l of e.groups)a(i,s,l);for(let l of s){let u=this.values[l].valueType==="category",d=i[l],h=Cd(n[l]),f=r?.get(h),p=u?new wR:new ll;for(let m=0;m<d.length;m+=1)f?.[m]!==!0&&p.extend(d[m]);e.domain.values[l]=p.getDomain()}}}postProcessProperties(e){for(let{adjust:t,property:n,scopes:i}of this.propertyProcessors)for(let r of this.valueIdxLookup(i,n))t()(e,r)}reduceData(e){e.reduced??(e.reduced={});let{dataSources:t,keys:n}=e;for(let i of this.reducers){let r=i.reducer(),o=i.initialValue;if(e.type==="grouped")for(let s of e.groups)o=r(o,s.keys);else{let s=Cd(t.keys()),a=n.map(u=>u.get(s)).filter(u=>u!=null),l=a.map(()=>{}),c=t.get(s);for(let u=0;u<c.length;u+=1){for(let d=0;d<l.length;d++)l[d]=a[d]?.[u];o=r(o,l)}}e.reduced[i.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(let t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){let{keys:e,values:t}=this,n=new Set;for(let u of t)if(u.scopes)for(let d of u.scopes)n.add(d);let i=new Map,r=new Map,o=!0,s=()=>{for(let u of rl(e,t))u.valueType==="category"?i.set(u,new wR):(i.set(u,new ll),o&&(o=(u.scopes?.length??0)===n.size))};s();let a=this.buildAccessors(rl(e,t)),l={value:void 0,missing:!1,valid:!1};return{dataDomain:i,processValue:(u,d,h,f)=>{let p,m;if(a.has(u.property)){try{m=a.get(u.property)(d)}catch{}p=m!=null}else p=u.property in d,m=p?d[u.property]:u.missingValue;u.forceValue!=null&&(m=p&&Ad(m)?-1*u.forceValue:u.forceValue,p=!0),l.missing=!p;let b="missingValue"in u;if(!p&&!b)if(typeof f=="string"){let v=u.missing.get(f)??0;u.missing.set(f,v+1)}else for(let v of f){let x=u.missing.get(v)??0;u.missing.set(v,x+1)}if(i.has(u)||s(),p&&u.validation?.(m,d,h)===!1)if(l.valid=!1,"invalidValue"in u)m=u.invalidValue;else return this.mode!=="integrated"&&P.warnOnce(`invalid value of type [${typeof m}] for [${u.scopes} / ${u.id}] ignored:`,`[${m}]`),l.value=void 0,l;else l.valid=!0;if(u.processor){let v=r.get(u);v==null&&(v=u.processor(),r.set(u,v)),m=v(m,h)}return i.get(u)?.extend(m),l.value=m,l},initDataDomain:s,scopes:n,allScopesHaveSameDefs:o}}buildAccessors(e){let t=new Map;if(this.suppressFieldDotNotation)return t;for(let n of e){if(!(n.property.includes(".")||n.property.includes("[")))continue;let r=lF(n.property);if(r==null){P.warnOnce("Invalid property path [%s]",n.property);continue}let o=cq(r);t.set(n.property,o)}return t}};function uq(e){let t=(n,i)=>{i.length>0&&(P.log(`DataModel.processData() - ${n}`),P.table(i))};P.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}var dq=(()=>{let e=class Is{constructor(n,i){this.mode=n,this.suppressFieldDotNotation=i,this.debug=We.create(!0,"data-model"),this.requested=[],this.status="setup"}request(n,i,r){return Fe(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((o,s)=>{this.requested.push({id:n,opts:r,data:i,resolve:o,reject:s})})})}execute(n){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let i=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",i);let r=this.mergeRequested(i);this.debug("DataController.execute() - merged",r),this.debug.check()&&(Ce().processedData=[]);let o=[];for(let{data:s,ids:a,opts:l,resolves:c,rejects:u}of r){let d=n?.find(p=>rq(p,s,a,l)),h,f;if(d==null)try{h=new cF(l,this.mode,this.suppressFieldDotNotation);let p=new Map(i.map(m=>[m.id,m.data]));f=h.processData(p)}catch(p){u.forEach(m=>m(p));continue}else({dataModel:h,processedData:f}=d);o.push({opts:l,data:s,ids:a,dataModel:h,processedData:f}),this.debug.check()&&Ce("processedData").push(f),f?.partialValidDataCount===0?c.forEach(p=>p({dataModel:h,processedData:f})):f?this.splitResult(h,f,a,c):u.forEach(p=>p(new Error("AG Charts - no processed data generated")))}return o}validateRequests(n){let i=[];for(let[r,o]of n.entries())r>0&&o.data.length!==n[0].data.length&&o.opts.groupByData===!1&&o.opts.groupByKeys===!1?o.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(o);return i}mergeRequested(n){let i=[];for(let r of n){let o=i.find(Is.groupMatch(r));o?o.push(r):i.push([r])}return i.map(Is.mergeRequests)}splitResult(n,i,r,o){for(let s=0;s<r.length;s++){let a=o[s];a({dataModel:n,processedData:i})}}static groupMatch({data:n,opts:i}){function r(u){return u.filter(d=>d.type==="key").map(d=>d.property).join(";")}let{groupByData:o,groupByKeys:s=!1,groupByFn:a,props:l}=i,c=r(l);return([u])=>(o===!1||u.data===n)&&(u.opts.groupByKeys??!1)===s&&u.opts.groupByFn===a&&r(u.opts.props)===c}static mergeRequests(n){let i={ids:[],rejects:[],resolves:[],data:n[0].data,opts:I(g({},n[0].opts),{props:[]})},r=new Map,o=new Map,s=0;for(let c of n){let{id:u,data:d,resolve:h,reject:f,opts:a}=c,l=a,{props:p}=l,m=Vt(l,["props"]);i.ids.push(u),i.rejects.push(f),i.resolves.push(h),i.data??(i.data=d),i.opts??(i.opts=I(g({},m),{props:[]}));for(let b of p){let v=I(g({},b),{scopes:[u],data:d});Is.createIdsMap(u,v);let x;Is.crossScopeMergableTypes.has(v.type)?x=-1:o.has(d)?x=o.get(d):(x=s++,o.set(d,x));let M=`${v.type}-${x}-${v.groupId}`,D=r.get(M),w=D?.find(E=>Is.deepEqual(E,v));if(D==null){i.opts.props.push(v),r.set(M,[v]);continue}else if(w==null){i.opts.props.push(v),D.push(v);continue}v.scopes!=null&&(w.scopes??(w.scopes=[]),w.scopes.push(...v.scopes)),(w.type==="key"||w.type==="value")&&v.idsMap?.size&&(w.idsMap??(w.idsMap=new Map),Is.mergeIdsMap(v.idsMap,w.idsMap))}}return i}static mergeIdsMap(n,i){for(let[r,o]of n){let s=i.get(r);if(s==null)i.set(r,new Set(o));else for(let a of o)s.add(a)}}static createIdsMap(n,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(n)?i.idsMap.get(n).add(i.id):i.idsMap.set(n,new Set([i.id])))}static deepEqual(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;let r,o;if(Array.isArray(n)){if(o=n.length,o!==i.length)return!1;for(r=o-1;r>=0;r--)if(!Is.deepEqual(n[r],i[r]))return!1;return!0}let s=Object.keys(n);if(o=s.length,o!==Object.keys(i).length)return!1;for(r=o-1;r>=0;r--){let a=s[r];if(!Is.skipKeys.has(a)&&(!Object.hasOwn(i,a)||!Is.deepEqual(n[a],i[a])))return!1}return!0}return!1}};return e.crossScopeMergableTypes=new Set(["key","group-value-processor"]),e.skipKeys=new Set(["id","idsMap","type","scopes","data"]),e})(),uF=dq,hq=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){let n=this.axesMap.get(e);if(n)return n(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},qc=new hq,Ig=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","topology","standalone"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"axis-option",optionsKey:"bandHighlight",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"radial-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function l0(e){return Ig.find(t=>t.type==="series"&&t.identifier===e)?.chartTypes}function fq(e){return l0(e)?.find(n=>n==="cartesian")==="cartesian"}function pq(e){return l0(e)?.find(n=>n==="polar")==="polar"}function gq(e){return l0(e)?.find(n=>n==="topology")==="topology"}function mq(e){return l0(e)?.find(n=>n==="standalone")==="standalone"}function yq(e){return e.packageType==="enterprise"}function vq(e){if(!yq(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let t=Ig.find(n=>n.type===e.type&&("optionsKey"in n&&"optionsKey"in e?n.optionsKey===e.optionsKey:!0)&&("contextKey"in n&&"contextKey"in e?n.contextKey===e.contextKey:!0)&&n.identifier===e.identifier&&e.chartTypes.every(i=>n.chartTypes.includes(i)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function bq(){return Ig.filter(({useCount:e})=>e==null||e===0)}var xq=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:n,themeTemplate:i}){this.legendMap.set(e,{optionsKey:t,moduleFactory:n}),this.themeTemplates.set(t,i)}create(e,t){let n=this.legendMap.get(e)?.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,n])=>(e[t]=n.optionsKey,e),{})}},LE=new xq,dF=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isTopology(e){return this.get(e)==="topology"}isStandalone(e){return this.get(e)==="standalone"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}},Sq=class extends Map{set(e,t){return super.set(e,Dt(t,this.get(e)))}},ni=new dF,Mq=new dF,TC=new Sq,Dq=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:n,defaultAxes:i,themeTemplate:r,solo:o,stackable:s,groupable:a,stackedByDefault:l,hidden:c}){this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:n,defaultAxes:i,solo:o,stackable:s,groupable:a,stackedByDefault:l}),ni.set(e,t),c||Mq.set(e,t)}create(e,t){let n=this.seriesMap.get(e)?.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){let t=this.seriesMap.get(e)?.defaultAxes;return t==null?null:{axes:ln(t)}}setThemeTemplate(e,t){let n=this.themeTemplates.get(e);this.themeTemplates.set(e,Dt(t,n))}getThemeTemplate(e){return this.themeTemplates.get(e)}isSolo(e){return this.seriesMap.get(e)?.solo??!1}isGroupable(e){return this.seriesMap.get(e)?.groupable??!1}isStackable(e){return this.seriesMap.get(e)?.stackable??!1}isStackedByDefault(e){return this.seriesMap.get(e)?.stackedByDefault??!1}},Ho=new Dq,RE=class ca{constructor(t){this.chart=t}subscribe(t=ca.DEFAULT_GROUP){let n=this.get(t);return n||(n={members:new Set},ca.chartsGroups.set(t,n)),n.members.add(this.chart),this}unsubscribe(t=ca.DEFAULT_GROUP){let n=this.get(t);return n?.members.delete(this.chart),delete n?.domains?.x?.sources?.[this.chart.id],delete n?.domains?.y?.sources?.[this.chart.id],this}getChart(){return this.chart}getGroupState(t=ca.DEFAULT_GROUP){return this.get(t)}getGroupMembers(t=ca.DEFAULT_GROUP){let n=this.get(t);return n?Array.from(n.members):[]}getGroupSiblings(t=ca.DEFAULT_GROUP){return this.getGroupMembers(t).filter(n=>n!==this.chart)}getGroupSyncMode(t=ca.DEFAULT_GROUP){return this.getGroupMembers(t).some(n=>n.series.length>1)?"multi-series":"single-series"}get(t){return ca.chartsGroups.get(t)}};RE.chartsGroups=new Map;RE.DEFAULT_GROUP=Symbol("sync-group-default");var Iq=RE,PE=class extends Te{constructor(){super(...arguments),this.enabled=!1}};y([S],PE.prototype,"enabled",2);y([S],PE.prototype,"tabIndex",2);var hF={};Ls(hF,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Go,fromToMotion:()=>Bn,staticFromToMotion:()=>Ea});var Go={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Bn(e,t,n,i,r,o,s){let{fromFn:a,toFn:l,applyFn:c=(p,m)=>p.setProperties(m)}=r,{nodes:u,selections:d}=a0(i),h=(p,m)=>{let b,v=0,x=0;for(let w of m){let E=p[v]===w,C={last:x>=m.length-1,lastLive:v>=p.length-1,prev:m[x-1],prevFromProps:b,prevLive:p[v-1],next:m[x+1],nextLive:p[v+(E?1:0)]},_=`${e}_${t}_${w.id}`;n.stopByAnimationId(_);let N="unknown";E?o&&s&&(N=wq(w,w.datum,o,s)):N="removed",w.transitionOut=N==="removed";let M=a(w,w.datum,N,C),{phase:k,start:j,finish:V,delay:$,duration:te}=M,Z=Vt(M,["phase","start","finish","delay","duration"]),D=l(w,w.datum,N,C),{phase:de,start:Oe,finish:Ke,delay:vt,duration:Mt}=D,Ye=Vt(D,["phase","start","finish","delay","duration"]),be=V==null;n.animate({id:_,groupId:e,phase:k??de??"update",duration:te??Mt,delay:$??vt,from:Z,to:Ye,ease:Xp,collapsable:be,onPlay:()=>{let xe=g(g(g({},j),Oe),Z);c(w,xe,"start")},onUpdate(xe){c(w,xe,"update")},onStop:()=>{let xe=g(g(g(g(g(g({},j),Oe),Z),Ye),V),Ke);c(w,xe,"end")}}),E&&v++,x++,b=Z}},f=0;for(let p of d){let m=p.nodes(),b=m.filter(v=>!p.isGarbage(v));h(b,m),n.animate({id:`${e}_${t}_selection_${f}`,groupId:e,phase:"end",from:0,to:1,ease:Xp,onStop(){p.cleanup()}}),f++}h(u,u)}function Ea(e,t,n,i,r,o,s){let{nodes:a,selections:l}=a0(i),{start:c,finish:u,phase:d}=s;n.animate({id:`${e}_${t}`,groupId:e,phase:d??"update",from:r,to:o,ease:Xp,onPlay:()=>{if(c){for(let h of a)h.setProperties(c);for(let h of l)for(let f of h.nodes())f.setProperties(c)}},onUpdate(h){for(let f of a)f.setProperties(h);for(let f of l)for(let p of f.nodes())p.setProperties(h)},onStop:()=>{for(let h of a)h.setProperties(g(g({},o),u));for(let h of l){for(let f of h.nodes())f.setProperties(g(g({},o),u));h.cleanup()}}})}function wq(e,t,n,i){let r=n(e,t);return i.added.has(r)?"added":i.removed.has(r)?"removed":e.previousDatum==null&&e.datum!=null?"added":e.previousDatum!=null&&e.datum==null?"removed":"updated"}var fF={};Ls(fF,{resetMotion:()=>wi});function wi(e,t){let{nodes:n,selections:i}=a0(e);for(let r of i){for(let o of r.nodes()){let s=t(o,o.datum);o.setProperties(s)}r.cleanup()}for(let r of n){let o=t(r,r.datum);r.setProperties(o)}}var ji=class Uc{constructor(t,n,i=!0){this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=We.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(xa,n)?()=>new n:n}static select(t,n,i=!0){return new Uc(t,n,i)}static selectAll(t,n){let i=[],r=o=>{if(n(o)&&i.push(o),o instanceof Ve)for(let s of o.children())r(s)};return r(t),i}static selectByClass(t,...n){return Uc.selectAll(t,i=>n.some(r=>i instanceof r))}static selectByTag(t,n){return Uc.selectAll(t,i=>i.tag===n)}createNode(t,n,i){let r=this.nodeFactory(t);return r.datum=t,n?.(r),i==null?this._nodes.push(r):this._nodes.splice(i,0,r),this.parentNode.appendChild(r),r}update(t,n,i){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",t),i){let r=new Map,o=new Map;for(let s=0;s<t.length;s++){let a=t[s],l=i(a);if(r.has(l)){let c=(o.get(l)??0)+1;o.set(l,c),l=`${l}:${c}`}r.set(l,s)}for(let[s,a]of this._nodesMap.entries()){let l=r.get(a);l==null?this.garbageBin.add(s):(s.datum=t[l],this.garbageBin.delete(s),r.delete(a))}for(let[s,a]of r.entries()){let l=t[a];this._nodesMap.set(this.createNode(l,n,a),s)}}else{let r=Math.max(t.length,this.data.length);for(let o=0;o<r;o++)o>=t.length?this.garbageBin.add(this._nodes[o]):o>=this._nodes.length?this.createNode(t[o],n):(this._nodes[o].datum=t[o],this.garbageBin.delete(this._nodes[o]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}each(t){for(let n of this._nodes.entries())t(n[1],n[1].datum,n[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){let n=this._nodes[t];yield{node:n,datum:n.datum,index:t}}}select(t){return Uc.selectAll(this.parentNode,t)}selectByClass(t){return Uc.selectByClass(this.parentNode,t)}selectByTag(t){return Uc.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}get length(){return this._nodes.length}},co=(()=>{let e=class extends On{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.fill=void 0,this.strokeWidth=1}set x(t){this.x1=t,this.x2=t}set y(t){this.y1=t,this.y2=t}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new re(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(t,n){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(t,n):!1}distanceSquared(t,n){let{x1:i,y1:r,x2:o,y2:s}=this;return xx(t,n,i,r,o,s,1/0)}render(t){let{ctx:n,devicePixelRatio:i}=t,{x1:r,y1:o,x2:s,y2:a}=this;if(r===s){let{strokeWidth:l}=this,c=Math.round(r*i)/i+Math.trunc(l*i)%2/(i*2);r=c,s=c}else if(o===a){let{strokeWidth:l}=this,c=Math.round(o*i)/i+Math.trunc(l*i)%2/(i*2);o=c,a=c}n.beginPath(),n.moveTo(r,o),n.lineTo(s,a),this.fillStroke(n),this.fillShadow?.markClean(),super.render(t)}toSVG(){if(!this.visible)return;let t=St("line");return t.setAttribute("x1",String(this.x1)),t.setAttribute("y1",String(this.y1)),t.setAttribute("x2",String(this.x2)),t.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(t),{elements:[t]}}};return e.className="Line",e})();y([Y()],co.prototype,"x1",2);y([Y()],co.prototype,"y1",2);y([Y()],co.prototype,"x2",2);y([Y()],co.prototype,"y2",2);var Hw="color: green",Uw="color: grey";function Cq(){return VP(()=>{})}function AC(e,t){let n=ml(t);if(n.length===0)return;let i=BP(e);for(let r of n)r in i&&(t[r]=i[r])}var pF=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},Eq=(()=>{let e=class gr extends pF{constructor(n,i,r){super(),this.defaultState=n,this.states=i,this.enterEach=r,this.debug=We.create(!0,"animation"),this.state=n,this.debug(`%c${this.constructor.name} | init -> ${n}`,Hw)}transition(n,i){if(!this.transitionChild(n,i)||this.state===gr.child||this.state===gr.parent)return;let o=this.state,s=this.states[this.state],a=s[n],l=`%c${this.constructor.name} | ${this.state} -> ${n} ->`;if(Array.isArray(a))a=a.find(d=>{if(!d.guard)return!0;let h=d.guard(i);return h||this.debug(`${l} (guarded)`,d.target,Uw),h});else if(typeof a=="object"&&!(a instanceof gr)&&a.guard&&!a.guard(i)){this.debug(`${l} (guarded)`,a.target,Uw);return}if(!a){this.debug(`${l} ${this.state}`,Uw);return}let c=this.getDestinationState(a),u=c===this.state?void 0:s.onExit;this.debug(`${l} ${c}`,Hw),this.state=c,typeof a=="function"?a(i):typeof a=="object"&&!(a instanceof gr)&&a.action?.(i),u?.(),this.enterEach?.(o,c),c!==o&&c!==gr.child&&c!==gr.parent&&this.states[c].onEnter?.(o,i)}transitionAsync(n,i){setTimeout(()=>{this.transition(n,i)},0)}is(n){return this.state===gr.child&&this.childState?this.childState.is(n):this.state===n}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(n,i){return this.state!==gr.child||!this.childState||(AC(this,this.childState),this.childState.transition(n,i),!this.childState.is(gr.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${n} -> ${this.defaultState}`,Hw),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(n){let i=this.state;return typeof n=="string"?i=n:n instanceof gr?(this.childState=n,this.childState.parent=this,i=gr.child):typeof n=="object"&&(n.target instanceof gr?(this.childState=n.target,this.childState.parent=this,i=gr.child):n.target!=null&&(i=n.target)),i}};return e.child="__child",e.parent="__parent",e})(),wg=Eq,Tq=class extends pF{constructor(...e){super(),this.stateMachines=e;for(let t of e)t.parent=this}transition(e,t){for(let n of this.stateMachines)AC(this,n),n.transition(e,t)}transitionAsync(e,t){for(let n of this.stateMachines)AC(this,n),n.transitionAsync(e,t)}},Jd=1e3,hl=Jd*60,Kc=hl*60,nu=Kc*24,gF=nu*7,FE=nu*30,ng=nu*365,Rd=new Date().getTimezoneOffset()*hl,Cg={millisecond:{milliseconds:1,hierarchy:"day",encode(e){return e.getTime()},decode(e){return new Date(e)}},second:{milliseconds:Jd,hierarchy:"day",encode(e,t){let n=t?0:Rd;return Math.floor((e.getTime()-n)/Jd)},decode(e,t){let n=t?0:Rd;return new Date(n+e*Jd)}},minute:{milliseconds:hl,hierarchy:"day",encode(e,t){let n=t?0:Rd;return Math.floor((e.getTime()-n)/hl)},decode(e,t){let n=t?0:Rd;return new Date(n+e*hl)}},hour:{milliseconds:Kc,hierarchy:"day",encode(e,t){let n=t?0:Rd;return Math.floor((e.getTime()-n)/Kc)},decode(e,t){let n=t?0:Rd;return new Date(n+e*Kc)}},day:{milliseconds:nu,hierarchy:"month",encode(e,t){let n=t?0:e.getTimezoneOffset()*hl;return Math.floor((e.getTime()-n)/nu)},decode(e,t){let n;return t?(n=new Date(0),n.setUTCDate(n.getUTCDate()+e),n.setUTCHours(0,0,0,0)):(n=new Date(1970,0,1),n.setDate(n.getDate()+e)),n}},month:{milliseconds:FE,hierarchy:"year",encode(e,t){return t?e.getUTCFullYear()*12+e.getUTCMonth():e.getFullYear()*12+e.getMonth()},decode(e,t){if(t){let n=Math.floor(e/12),i=e-n*12;return new Date(Date.UTC(n,i,1))}else{let n=Math.floor(e/12),i=e-n*12;return new Date(n,i,1)}}},year:{milliseconds:ng,hierarchy:void 0,encode(e,t){return t?e.getUTCFullYear():e.getFullYear()},decode(e,t){let n;return t?(n=new Date,n.setUTCFullYear(e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)):n=new Date(e,0,1,0,0,0,0),n}}};function Eg(e){return typeof e=="string"?{unit:e,step:1,epoch:void 0,utc:!1}:{unit:e.unit,step:e.step??1,epoch:e.epoch,utc:e.utc??!1}}function Tg(e,t,n,i){if(n==null)return 0;let r=Cg[e];return Math.floor(r.encode(new Date(n),i))%t}function hh(e,t,n,i,r){let o=Cg[t];return Math.floor((o.encode(new Date(e),i)-r)/n)}function Ag(e,t,n,i,r){return Cg[t].decode(e*n+r,i)}function Cx(e,t,n,i,r){let o=new Date(e),s=hh(o,t,n,i,r);return Ag(s,t,n,i,r)}function Ex(e,t,n,i,r){let o=new Date(Number(e)-1),s=hh(o,t,n,i,r);return Ag(s+1,t,n,i,r)}function oo(e,t){let{unit:n,step:i,epoch:r,utc:o}=Eg(e),s=Tg(n,i,r,o);return Cx(t,n,i,o,s)}function mF(e,t){let{unit:n,step:i,epoch:r,utc:o}=Eg(e),s=Tg(n,i,r,o);return Ex(t,n,i,o,s)}function yF(e,t){let{unit:n,step:i,epoch:r,utc:o}=Eg(e),s=Tg(n,i,r,o);return Ag(hh(Ex(t,n,i,o,s),n,i,o,s)-1,n,i,o,s)}function vF(e,t){let{unit:n,step:i,epoch:r,utc:o}=Eg(e),s=Tg(n,i,r,o);return Ag(hh(Cx(t,n,i,o,s),n,i,o,s)+1,n,i,o,s)}function jE(e,t,n){if(e.valueOf()>t.valueOf()&&([e,t]=[t,e],n!=null&&(n=[1-n[1],1-n[0]])),n!=null){let i=t.valueOf()-e.valueOf(),r=e.valueOf();e=new Date(r+n[0]*i),t=new Date(r+n[1]*i)}return[new Date(e),new Date(t)]}function Tx(e,t,n,{extend:i=!1,visibleRange:r=[0,1],limit:o,defaultAlignment:s="start"}={}){let a=Eg(e),{unit:l,step:c,utc:u}=a,d;a.epoch!=null?d=a.epoch:s==="interval"?d=void 0:t.valueOf()>n.valueOf()?d=n:d=t;let h=Tg(a.unit,a.step,d,a.utc),[f,p]=jE(t,n,r);f=i?Cx(f,l,c,u,h):Ex(f,l,c,u,h),p=i?Ex(p,l,c,u,h):Cx(p,l,c,u,h);let m=hh(f,l,c,u,h),b=hh(p,l,c,u,h);return o!=null&&b-m>o&&(b=m+o),{range:[m,b],unit:l,step:c,utc:u,offset:h}}function VE(e,t,n,i){let{range:[r,o]}=Tx(e,t,n,i);return Math.abs(o-r)}function fo(e,t,n,i){let{range:[r,o],unit:s,step:a,utc:l,offset:c}=Tx(e,t,n,i),u=[];for(let d=r;d<=o;d+=1){let h=Ag(d,s,a,l,c);u.push(h)}return u}function c0(e,t,n,{extend:i,visibleRange:r,limit:o,defaultAlignment:s}={}){let{range:[a]}=Tx(e,t,n,{extend:i,visibleRange:r,limit:o,defaultAlignment:s}),{range:[l]}=Tx(e,t,n,{extend:i,limit:o,defaultAlignment:s});return a-l}function ks(e){return typeof e=="string"?e:e.unit}function Il(e){return typeof e=="string"?1:e.step??1}function ig(e){return typeof e=="string"?void 0:e.epoch}function rg(e){return Cg[ks(e)].hierarchy}function nr(e){return Il(e)*Cg[ks(e)].milliseconds}var ou=class{constructor(){this.enabled=!0}};y([S],ou.prototype,"enabled",2);y([S],ou.prototype,"stroke",2);y([S],ou.prototype,"strokeWidth",2);y([S],ou.prototype,"strokeOpacity",2);var yn=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.border=new ou,this._cachedFormatter=void 0}formatValue(e,t,n,i){let{formatter:r,format:o}=this,s;if(r!=null&&(s??(s=e(r,i))),o!=null){let a=this._cachedFormatter;(a==null||a.type!==t||a.format!==o)&&(a={type:t,format:o,formatter:uh.getFormatter(t,o)},this._cachedFormatter=a),s??(s=a.formatter?.(n))}return s!=null?String(s):void 0}};y([S],yn.prototype,"enabled",2);y([S],yn.prototype,"border",2);y([S],yn.prototype,"color",2);y([S],yn.prototype,"cornerRadius",2);y([S],yn.prototype,"fill",2);y([S],yn.prototype,"fillOpacity",2);y([S],yn.prototype,"fontStyle",2);y([S],yn.prototype,"fontWeight",2);y([S],yn.prototype,"fontSize",2);y([S],yn.prototype,"fontFamily",2);y([S],yn.prototype,"formatter",2);y([S],yn.prototype,"format",2);y([S],yn.prototype,"padding",2);y([S],yn.prototype,"itemStyler",2);function fh(e){let{enabled:t=!1,stroke:n}=e?.border??{},r=e?.fill!=null||t&&n!=null?e?.padding:null;if(r==null)return{bottom:0,left:0,right:0,top:0};if(typeof r=="number")return{bottom:r,left:r,right:r,top:r};{let{bottom:o=0,left:s=0,right:a=0,top:l=0}=r;return{bottom:o,left:s,right:a,top:l}}}function Aq(e,t,n=0,i=0){let r=Sa(e),o=!r&&i>=0&&i<=Math.PI?-1:1,s=!r&&n>=0&&n<=Math.PI?-1:1,a=0;return t?a=o*Math.PI/2:s===-1&&(a=Math.PI),{configuredRotation:r,defaultRotation:a,parallelFlipFlag:o,regularFlipFlag:s}}function _q(e,t){return e??(t?0:10)}function kq(e,t,n,i){return e&&!t?n*i===-1?"top":"bottom":"middle"}function Nq(e,t,n,i,r){let o=t>0&&t<=Math.PI,s=n>0&&n<=Math.PI,a=o||s?-1:1;if(e)if(t||n){if(i*a===-1)return"end"}else return"center";else if(i*r===-1)return"end";return"start"}function _C(e,t){if(e!=null){if(typeof e=="string")return e;if($e(e)&&t!=null)return e[ks(t)]}}function Oq(e,t,n,i,r){let o=_C(e.format,i)??(typeof e.format=="string"?e.format:void 0);if(o==null)return{width:0,height:0};let s=tu(o),a=i?rg(i):void 0,l=_C(t?.format,a),c=l?tu(l):s,u=new Date(n[0]),d=new Date(n[n.length-1]),h=a?fo(a,new Date(n[0]),new Date(n[n.length-1]),{extend:!0}):void 0,f=0,p=0;if(s!=null){let m=fh(e),b=m.left+m.right,v=m.top+m.bottom,x,M;h!=null&&h.length>1?(x=h[0],M=h[1]):(x=u,M=d);let D=fo(i,x,M,{limit:50});for(let w of D){let E=s(w),{width:C,height:_}=r.measureLines(E);f=Math.max(f,C+b),p=Math.max(p,_+v)}}if(c!=null&&h!=null){let m=fh(t),b=m.left+m.right,v=m.top+m.bottom;for(let x of h){let M=c(x),{width:D,height:w}=r.measureLines(M);f=Math.max(f,D+b),p=Math.max(p,w+v)}}return{width:Math.ceil(f),height:Math.ceil(p)}}function Lq(e,t,n,i,r){let o=fh(r),s=o.left+o.right,a=o.top+o.bottom,l=[];for(let{tickLabel:c,translation:u}of e){if(!c)continue;let{x:d,y:h}=n.transformBBox(new re(t,u,0,0)),f=i.measureLines(c),p=f.width+s,m=f.height+a;l.push({point:{x:d,y:h},label:{text:c,width:p,height:m}})}return l}function Rq({width:e,height:t,spacing:n},i,r){let o=[];for(let s of[0,n]){let{x:a,y:l}=r.transformBBox(new re(i,s,0,0));o.push({point:{x:a,y:l},label:{text:void 0,width:e,height:t}})}return o}var BE=class{constructor(){this.moduleMap=new Map}*modules(){for(let e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){let t=nn(e)?e:e.optionsKey;this.moduleMap.get(t)?.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){return this.moduleMap.get(nn(e)?e:e.optionsKey)?.moduleInstance}isEnabled(e){return this.moduleMap.has(nn(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,n)=>e(t.moduleInstance,n))}destroy(){for(let e of this.moduleMap.keys())this.moduleMap.get(e)?.moduleInstance.destroy();this.moduleMap.clear()}},Ta=(()=>{let e=class extends On{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.horizontal=!1,this.strokeWidth=1}computeBBox(){return new re(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,n){return!1}render(t){let{ctx:n}=t,{x1:i,y1:r,x2:o,y2:s}=this;i=this.align(i),r=this.align(r),o=this.align(o),s=this.align(s);let{fill:a,horizontal:l}=this,{globalAlpha:c}=n;a!=null&&(this.applyFillAndAlpha(n),n.beginPath(),n.moveTo(i,r),n.lineTo(o,r),n.lineTo(o,s),n.lineTo(i,s),n.closePath(),n.fill(),n.globalAlpha=c);let{stroke:u,strokeWidth:d,startLine:h,endLine:f}=this;if(!!((h||f)&&u&&d)){let{lineDash:m,lineDashOffset:b,lineCap:v,lineJoin:x}=this;this.applyStrokeAndAlpha(n),n.lineWidth=d,m&&n.setLineDash([...m]),b&&(n.lineDashOffset=b),v&&(n.lineCap=v),x&&(n.lineJoin=x),n.beginPath(),h&&(n.moveTo(i,r),l?n.lineTo(i,s):n.lineTo(o,r)),f&&(n.moveTo(o,s),l?n.lineTo(o,r):n.lineTo(i,s)),n.stroke(),n.globalAlpha=c}this.fillShadow?.markClean(),super.render(t)}};return e.className="Range",e})();y([Y()],Ta.prototype,"x1",2);y([Y()],Ta.prototype,"y1",2);y([Y()],Ta.prototype,"x2",2);y([Y()],Ta.prototype,"y2",2);y([Y()],Ta.prototype,"startLine",2);y([Y()],Ta.prototype,"endLine",2);y([Y()],Ta.prototype,"horizontal",2);function Pq(e){return e!=null&&Object.hasOwn(e,"toString")&&nn(e.toString())}function Fq(e){return e!=null&&Object.hasOwn(e,"valueOf")&&nt(e.valueOf())}function u0(e){return nt(e)||Tb(e)||Fq(e)}function jq(e,t){return e!=null&&(!t||u0(e))}function kC(e){return Pq(e)&&Object.hasOwn(e,"id")?e.id:e}function bF(e){switch(e.type){case"line":return e.value;case"range":return e.range}}function xF(e,t){let n=bF(e);if(n==null)return!1;let i=Ht.is(t)||$o.is(t),r=o=>jq(o,i)&&!isNaN(t.convert(o,{clamp:!0}));if(e.type==="range"){let[o,s]=n;return r(o)&&r(s)}else return r(n)}var Vq={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:-1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},Bq={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:-1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},zq={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},Hq={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},go=class extends Te{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};y([S],go.prototype,"enabled",2);y([S],go.prototype,"text",2);y([S],go.prototype,"fontStyle",2);y([S],go.prototype,"fontWeight",2);y([S],go.prototype,"fontSize",2);y([S],go.prototype,"fontFamily",2);y([S],go.prototype,"padding",2);y([S],go.prototype,"color",2);y([S],go.prototype,"position",2);y([S],go.prototype,"rotation",2);y([S],go.prototype,"parallel",2);var br=(()=>{let e=class extends Te{constructor(){super(),this.id=In(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new go,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.position="top",this.rangeGroup=new Ve({name:this.id}),this.lineGroup=new Ve({name:this.id}),this.labelGroup=new Ve({name:this.id}),this.crossLineRange=new Ta,this.crossLineLabel=new oh,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}get defaultLabelPosition(){return"top"}update(t){let{enabled:n,type:i,data:r,scale:o}=this;if(!o||!n||!t||!xF(this,o)||r==null){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=t,this.lineGroup.visible=t,this.labelGroup.visible=t,this.updateNodes();let s=i==="range";s!==this._isRange&&(s?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=s}calculateLayout(t){if(this.data=void 0,!t)return;let{type:n,range:i,value:r,scale:o,clippedRange:s,strokeWidth:a=0}=this;if(!o)return;let l=o.bandwidth??0,c=o.step??0,u=o instanceof Ca?(c-l)/2:0,[d,h]=ii(s);d-=l,h+=l;let f,p,m,b;if(n==="line"){let v=l/2;if(f=o.convert(r)+v,p=NaN,m=o.convert(r,{clamp:!0})+v,b=NaN,m>=h||m<=d)return}else if(i){let[v,x]=i,[M,D]=eF(v,x);if(f=o.convert(v,{alignment:M}),p=o.convert(x,{alignment:D}),m=o.convert(v,{clamp:!0,alignment:M}),b=o.convert(x,{clamp:!0,alignment:D}),m>b&&([m,b]=[b,m],[f,p]=[p,f]),m>=h||b<=d)return;Number.isFinite(f)&&(m-=u),Number.isFinite(p)&&(p+=l,b+=l+u)}else return;m=eg(m,s),b=eg(b,s),f-u>=m&&(f-=u),p+u<=b&&(p+=u),this.startLine=a>0&&f>=m&&f<=m+u,this.endLine=a>0&&p>=b-l-u&&p<=b,this.data=[m,b],this.label.enabled===!1||this.label.text}updateNodes(){let{position:t,data:[n,i]=[0,0],gridLength:r}=this,o=Number.isFinite(i)?i-n:0,s;switch(t){case"top":case"bottom":s=new re(n,t==="top"?0:-r,o,r);break;case"left":case"right":s=new re(t==="left"?0:-r,n,r,o)}this.updateRangeNode(s);let{label:a}=this;a.enabled!==!1&&a.text&&(this.updateLabel(),this.positionLabel(s))}updateRangeNode(t){let{type:n,position:i,crossLineRange:r,startLine:o,endLine:s,fill:a,fillOpacity:l,stroke:c,strokeWidth:u,strokeOpacity:d,lineDash:h}=this;r.x1=t.x,r.x2=t.x+t.width,r.y1=t.y,r.y2=t.y+t.height,r.horizontal=i==="top"||i==="bottom",r.startLine=o,r.endLine=s,r.fill=n==="range"?a:void 0,r.fillOpacity=l??1,r.stroke=c,r.strokeWidth=u??1,r.strokeOpacity=d??1,r.lineDash=h}updateLabel(){let{crossLineLabel:t,label:n}=this;n.text&&(t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fill=n.color,t.text=n.text)}get anchor(){let t=this.position==="left"||this.position==="right",n=this.type==="range",{position:i=this.defaultLabelPosition}=this.label;return n?(t?zq:Hq)[i]:(t?Vq:Bq)[i]}positionLabel(t){let{crossLineLabel:n,label:i,anchor:r}=this;n.rotation=Ci(i.rotation??0),n.textBaseline="middle",n.textAlign="center";let o=n.getBBox();if(!o)return;let{width:s,height:a}=o,l=i.padding+s/2,c=i.padding+a/2,u=t.x+t.width*(r.rangeH+1)/2-l*r.labelH,d=t.y+t.height*(r.rangeV+1)/2-c*r.labelV;n.x=u,n.y=d,n.rotationCenterX=u,n.rotationCenterY=d}computeLabelSize(){let{label:t}=this;if(t.enabled===!1||!t.text)return;let n=new oh;n.fontFamily=t.fontFamily,n.fontSize=t.fontSize,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.text=t.text,n.rotation=Ci(t.rotation??0),n.textBaseline="middle",n.textAlign="center";let i=n.getBBox();if(!i)return;let{width:r,height:o}=i;return{width:r,height:o}}calculatePadding(t){let{label:n,anchor:i}=this,r=this.computeLabelSize();if(!r)return;let{width:o,height:s}=r,a=n.padding+o,l=n.padding+s,c=this.position==="left"||this.position==="right";c&&(i.rangeH===-1&&i.labelH===1?t.left=Math.max(t.left??0,a):i.rangeH===1&&i.labelH===-1&&(t.right=Math.max(t.right??0,a))),c||(i.rangeV===-1&&i.labelV===1?t.top=Math.max(t.top??0,l):i.rangeV===1&&i.labelV===-1&&(t.bottom=Math.max(t.bottom??0,l)))}};return e.className="CrossLine",e})();y([S],br.prototype,"enabled",2);y([S],br.prototype,"type",2);y([S],br.prototype,"range",2);y([S],br.prototype,"value",2);y([S],br.prototype,"defaultColorRange",2);y([S],br.prototype,"fill",2);y([S],br.prototype,"fillOpacity",2);y([S],br.prototype,"stroke",2);y([S],br.prototype,"strokeWidth",2);y([S],br.prototype,"strokeOpacity",2);y([S],br.prototype,"lineDash",2);y([S],br.prototype,"label",2);var d0=class{constructor(){this.enabled=!0,this.width=1,this.style=[{fill:void 0,fillOpacity:1,stroke:void 0,strokeWidth:void 0,lineDash:[]}]}};y([S],d0.prototype,"enabled",2);y([S],d0.prototype,"width",2);y([S],d0.prototype,"style",2);var su=class extends Te{};y([S],su.prototype,"placement",2);y([S],su.prototype,"step",2);y([S],su.prototype,"values",2);y([S],su.prototype,"minSpacing",2);y([S],su.prototype,"maxSpacing",2);var tn=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.border=new ou,this.wrapping="never",this.truncate=!1,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this._formatters={"component:year":void 0,"component:month":void 0,"component:day":void 0,"component:none":void 0,"long:year":void 0,"long:month":void 0,"long:day":void 0,"long:none":void 0}}getSideFlag(){return this.mirrored?1:-1}formatValue(e,t,n,i={dateStyle:"long",truncateDate:void 0}){let{formatter:r,format:o}=this,{type:s,value:a,domain:l,boundSeries:c}=t,u=t.type==="number"?t.fractionDigits:void 0,d=t.type==="date"?t.unit:void 0,h;if(r!=null){let f=t.type==="date"?t.step:void 0;h=e(r,{value:a,index:n,domain:l,fractionDigits:u,unit:d,step:f,boundSeries:c})}if(o!=null&&h==null){let{specifier:f,dateStyle:p,truncateDate:m}=i,b=`${p}:${m??"none"}`,v=this._formatters[b],x=uh.mergeSpecifiers(f,o);(v==null||v.type!==s||v.unit!==d||!Un(v.mergedFormat,x))&&(v={type:s,mergedFormat:x,unit:d,formatter:uh.getFormatter(s,x,d,p,i)},this._formatters[b]=v),h=v.formatter?.(a,u)}return h!=null?String(h):void 0}};y([S],tn.prototype,"enabled",2);y([S],tn.prototype,"border",2);y([S],tn.prototype,"cornerRadius",2);y([S],tn.prototype,"fill",2);y([S],tn.prototype,"fillOpacity",2);y([S],tn.prototype,"fontStyle",2);y([S],tn.prototype,"fontWeight",2);y([S],tn.prototype,"fontSize",2);y([S],tn.prototype,"fontFamily",2);y([S],tn.prototype,"wrapping",2);y([S],tn.prototype,"truncate",2);y([S],tn.prototype,"spacing",2);y([S],tn.prototype,"minSpacing",2);y([S],tn.prototype,"color",2);y([S],tn.prototype,"rotation",2);y([S],tn.prototype,"avoidCollisions",2);y([S],tn.prototype,"mirrored",2);y([S],tn.prototype,"padding",2);y([S],tn.prototype,"parallel",2);y([S],tn.prototype,"itemStyler",2);y([S],tn.prototype,"formatter",2);y([S],tn.prototype,"format",2);var h0=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};y([S],h0.prototype,"enabled",2);y([S],h0.prototype,"width",2);y([S],h0.prototype,"stroke",2);var au=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};y([S],au.prototype,"enabled",2);y([S],au.prototype,"width",2);y([S],au.prototype,"size",2);y([S],au.prototype,"stroke",2);var qo=class extends Te{constructor(){super(...arguments),this.caption=new mn,this.enabled=!1,this.spacing=mn.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};y([S],qo.prototype,"enabled",2);y([S],qo.prototype,"text",2);y([S],qo.prototype,"spacing",2);y([S],qo.prototype,"fontStyle",2);y([S],qo.prototype,"fontWeight",2);y([S],qo.prototype,"fontSize",2);y([S],qo.prototype,"fontFamily",2);y([S],qo.prototype,"color",2);y([S],qo.prototype,"wrapping",2);y([S],qo.prototype,"formatter",2);var SF=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(SF||{});function MF(e){let[t,n]=ii(e.range),i=Math.floor(t),r=Math.ceil(n);return{min:i,max:r,visible:i!==r}}var NC=Math.PI*2,Uq=NC/2;function Gq(e,t){return Math.abs(t-e)<Uq?t:e>t?t+NC:t-NC}function DF(e){let{min:t,max:n}=e,i=l=>l<t||l>n;return{tick:{fromFn(l,c,u){let{x1:d,x2:h,y1:f,y2:p}=l,m=l.opacity;return(u==="added"||i(c.offset))&&({x1:d,x2:h,y1:f,y2:p}=c,m=0),{x1:d,x2:h,y1:f,y2:p,opacity:m,phase:Go[u]}},toFn(l,c,u){let{x1:d,x2:h,y1:f,y2:p}=c,m=1;return u==="removed"&&(m=0),{x1:d,x2:h,y1:f,y2:p,opacity:m}},applyFn(l,c){l.setProperties(c),l.visible=!i(l.y)}},line:{fromFn(l,c){let{x1:u,x2:d,y1:h,y2:f}=l.previousDatum??c;return{x1:u,x2:d,y1:h,y2:f,phase:Go.updated}},toFn(l,c){let{x1:u,x2:d,y1:h,y2:f}=c;return{x1:u,x2:d,y1:h,y2:f}}},label:{fromFn(l,c,u){let d=l.previousDatum??c,{x:h,y:f,rotationCenterX:p,rotationCenterY:m,rotation:b}=d,v=l.opacity;return u==="removed"||i(d.y)?b=c.rotation:(u==="added"||i(l.datum.y))&&({x:h,y:f,rotationCenterX:p,rotationCenterY:m,rotation:b}=c,v=0),{x:h,y:f,rotationCenterX:p,rotationCenterY:m,rotation:b,opacity:v,phase:Go[u]}},toFn(l,c,u){let{x:d,y:h,rotationCenterX:f,rotationCenterY:p}=c,m=0,b=1;return u==="added"?m=c.rotation:u==="removed"?(b=0,m=c.rotation):m=Gq(l.previousDatum?.rotation??c.rotation,c.rotation),{x:d,y:h,rotationCenterX:f,rotationCenterY:p,rotation:m,opacity:b,finish:{rotation:c.rotation}}}},group:{fromFn(l,c){let{translationX:u,translationY:d}=l;return{translationX:u,translationY:d,phase:Go.updated}},toFn(l,c){let{translationX:u,translationY:d}=c;return{translationX:u,translationY:d}}}}}function IF(){return(e,t)=>({translationX:t.translationX,translationY:t.translationY})}function Ax(){return(e,t)=>({x:t.x,y:t.y,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,rotation:t.rotation})}function OC(){return(e,t)=>{let{x1:n,x2:i,y1:r,y2:o}=t;return{x1:n,x2:i,y1:r,y2:o}}}function wF(){return(e,t)=>{let{x1:n,x2:i,y1:r,y2:o}=t;return{x:n,y:r,width:i-n,height:o-r}}}var CF=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(CF||{});function AR(e,t){return e.domain===t.domain&&e.rangeExtent===t.rangeExtent&&e.nice===t.nice&&e.gridLength===t.gridLength&&e.visibleRange[0]===t.visibleRange[0]&&e.visibleRange[1]===t.visibleRange[1]&&e.initialPrimaryTickCount?.unzoomed===t.initialPrimaryTickCount?.unzoomed&&e.initialPrimaryTickCount?.zoomed===t.initialPrimaryTickCount?.zoomed}var lu=(()=>{let e=class EF{constructor(n,i){this.moduleCtx=n,this.scale=i,this.id=In(this),this._crossLines=[],this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new su,this.dataDomain={domain:[],clipped:!1},this.title=new qo,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Ve({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new jd({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new jd({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new Ve({name:`${this.id}-Labels`,zIndex:11}),this.gridGroup=new Fi({name:`${this.id}-Axis-grid`,zIndex:2}),this.gridFillGroup=this.gridGroup.appendChild(new Ve({name:`${this.id}-gridFills`})),this.gridLineGroup=this.gridGroup.appendChild(new Ve({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new jd({name:`${this.id}-CrossLines-Range`,zIndex:6}),this.crossLineLineGroup=new jd({name:`${this.id}-CrossLines-Line`,zIndex:10}),this.crossLineLabelGroup=new jd({name:`${this.id}-CrossLines-Label`,zIndex:15}),this.tickLabelGroupSelection=ji.select(this.tickLabelGroup,oh,!1),this.line=new h0,this.tick=new au,this.gridLine=new d0,this.label=this.createLabel(),this.defaultTickMinSpacing=EF.defaultTickMinSpacing,this.translation={x:0,y:0},this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.cleanup=new Be,this.isHovering=!1,this.range=[0,1],this.visibleRange=[0,1],this.animatable=!0,this.tickLayout=void 0,this.formatterBoundSeries=new EL(()=>{let{direction:r,boundSeries:o}=this;return ga(o.flatMap(s=>s.getFormatterContext(r)))}),this.moduleMap=new BE,this.range=this.scale.range.slice(),this.crossLines.forEach(r=>this.initCrossLine(r)),this.cleanup.register(this.moduleCtx.widgets.containerWidget.addListener("mousemove",r=>this.onMouseMove(r)))}set crossLines(n){let{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(r=>this.detachCrossLine(r)),this._crossLines=n.map(r=>{let o=new i;return o.set(r),o}),this._crossLines.forEach(r=>{this.attachCrossLine(r),this.initCrossLine(r)})}get crossLines(){return this._crossLines}get type(){return this.constructor.type??""}get primaryLabel(){}get primaryTick(){}isCategoryLike(){return!1}resetAnimation(n){}onMouseMove(n){let r=this.tickLabelGroup.pickNode(n.currentX,n.currentY)?.datum,{textUntruncated:o=void 0}=r??{};o!=null?(this.moduleCtx.tooltipManager.updateTooltip(this.id,{canvasX:n.currentX,canvasY:n.currentY,showArrow:!1},[{type:"structured",title:o}]),this.isHovering=!0):this.isHovering&&(this.moduleCtx.tooltipManager.removeTooltip(this.id),this.isHovering=!1)}attachCrossLine(n){this.crossLineRangeGroup.appendChild(n.rangeGroup),this.crossLineLineGroup.appendChild(n.lineGroup),this.crossLineLabelGroup.appendChild(n.labelGroup)}detachCrossLine(n){this.crossLineRangeGroup.removeChild(n.rangeGroup),this.crossLineLineGroup.removeChild(n.lineGroup),this.crossLineLabelGroup.removeChild(n.labelGroup)}destroy(){this.moduleMap.destroy(),this.cleanup.flush()}setScaleRange(n){let{range:i,scale:r}=this,o=(i[1]-i[0])/(n[1]-n[0]),s=o*n[0],a=i[0]-s;r.range=[a,a+o]}updateScale(){let{range:[n,i]}=this;this.setScaleRange(this.visibleRange),this.crossLines.forEach(r=>{r.clippedRange=[n,i]})}setCrossLinesVisible(n){this.crossLineRangeGroup.visible=n,this.crossLineLineGroup.visible=n,this.crossLineLabelGroup.visible=n}attachAxis(n){n.gridNode.appendChild(this.gridGroup),n.axisNode.appendChild(this.axisGroup),n.labelNode.appendChild(this.labelGroup),n.crossLineRangeNode.appendChild(this.crossLineRangeGroup),n.crossLineLineNode.appendChild(this.crossLineLineGroup),n.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(n){n.gridNode.removeChild(this.gridGroup),n.axisNode.removeChild(this.axisGroup),n.labelNode.removeChild(this.labelGroup),n.crossLineRangeNode.removeChild(this.crossLineRangeGroup),n.crossLineLineNode.removeChild(this.crossLineLineGroup),n.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(n){this.labelGroup.append(n)}inRange(n,i=0){let[r,o]=ii(this.range);return n>=r-i&&n<=o+i}getRangeOverflow(n){let{range:i,visibleRange:r}=this,o=(i[1]-i[0])/(r[1]-r[0]),[s,a]=ii([i[0]-o*r[0],i[0]-o*r[0]+o]);return n<s?n-s:n>a?n-a:0}createDatumFormatter(n,i){}onGridLengthChange(n,i){i^n&&this.onGridVisibilityChange(),this.crossLines.forEach(r=>this.initCrossLine(r))}onGridVisibilityChange(){}createLabel(){return new tn}update(){this.formatterBoundSeries.clear(),this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateCrossLines()}getLabelStyles(n,i,r=this.label){let o={border:r.border,color:r.color,cornerRadius:r.cornerRadius,fill:r.fill,fillOpacity:r.fillOpacity,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,padding:r.padding,spacing:r.spacing},s;r.itemStyler&&(s=this.cachedCallWithContext(r.itemStyler,g(g({},n),o)));let a=Dt(s,i,o);return{border:a.border,color:a.color,cornerRadius:a.cornerRadius,fill:a.fill,fillOpacity:a.fillOpacity,fontFamily:a.fontFamily,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,padding:a.padding,spacing:a.spacing}}getTickSize(n=this.tick){return n.enabled?n.size:0}processData(){this.invalidateLayoutCache();let{includeInvisibleDomains:n,boundSeries:i,direction:r}=this,s=(n?i:i.filter(a=>a.isEnabled())).map(a=>a.getDomain(r));this.setDomains(...s)}setDomains(...n){let i,r;n.length>0?{domain:i,animatable:r}=this.scale.normalizeDomains(...n):(i=[],r=!0),this.dataDomain=this.normaliseDataDomain(i),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=r}calculateDomain(n){let{dataDomain:{domain:i},range:r,nice:o,scale:s,gridLength:a}=this,l=dh(r),c=[0,1];this.updateScale();let{unzoomedTickLayoutCache:u}=this,d;if(u==null||!AR(u,{domain:i,rangeExtent:l,nice:o,gridLength:a,visibleRange:c,initialPrimaryTickCount:n})){let h=s.range;this.setScaleRange([0,1]);let f=o?0:2;d=this.calculateTickLayout(i,f,[0,1],n),s.range=h,this.unzoomedTickLayoutCache={domain:i,rangeExtent:l,nice:o,gridLength:a,visibleRange:c,initialPrimaryTickCount:n,tickLayout:d}}else d=u.tickLayout;return this.updateScale(),s.domain=d.niceDomain,{unzoomedTickLayout:d,domain:s.domain}}calculateLayout(n,i){this.chartLayout=i;let{visibleRange:r,nice:o}=this,s=r[0]===0&&r[1]===1,{unzoomedTickLayout:a,domain:l}=this.calculateDomain(n),c;if(s)c=a;else{let{range:m,gridLength:b}=this,v=dh(m),x=o?1:2,{tickLayoutCache:M}=this;M==null||!AR(M,{domain:l,rangeExtent:v,nice:o,gridLength:b,visibleRange:r,initialPrimaryTickCount:n})?(c=this.calculateTickLayout(l,x,r,n),this.tickLayoutCache={domain:l,rangeExtent:v,nice:o,gridLength:b,visibleRange:r,initialPrimaryTickCount:n,tickLayout:c}):c=M.tickLayout}let{rawTickCount:u=0,fractionDigits:d,bbox:h}=c,f=a.rawTickCount??0,p=u!==0&&f!==0?{zoomed:u,unzoomed:f}:void 0;return this.tickLayout=c.layout,this.layout.label={fractionDigits:d,spacing:this.label.spacing,format:this.label.format},this.layoutCrossLines(),{primaryTickCount:p,bbox:h}}invalidateLayoutCache(){this.unzoomedTickLayoutCache=void 0,this.tickLayoutCache=void 0,this.tickLayout=void 0}updateCrossLines(){let n=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(i=>{i.update(n)})}updatePosition(){let{crossLineRangeGroup:n,crossLineLineGroup:i,crossLineLabelGroup:r,gridGroup:o,translation:s}=this,a=Math.floor(s.x),l=Math.floor(s.y);o.setProperties({translationX:a,translationY:l}),n.setProperties({translationX:a,translationY:l}),i.setProperties({translationX:a,translationY:l}),r.setProperties({translationX:a,translationY:l})}tickFormatter(n,i,r,o,s,a="long"){let{moduleCtx:l,label:c}=this,{formatManager:u}=l,d=r?this.primaryLabel:void 0,h=this.tickFormatParams(n,i,o,s),f=this.formatterBoundSeries.get(),p,m,b;if(h.type==="number")p=h.fractionDigits;else if(h.type==="date"){let{unit:E,step:C,epoch:_}=h;m={unit:E,step:C,epoch:_},b=h.truncateDate}let v=this.uncachedCallWithContext.bind(this),x={datum:void 0,seriesId:void 0,legendItemName:void 0,key:void 0,source:"axis-label",property:this.direction,domain:n,boundSeries:f},M=d??c,D=r?c.format:void 0,w={specifier:uh.mergeSpecifiers(d?.format,c.format),truncateDate:b};return(E,C)=>{let _=this.datumFormatParams(E,x,p,m,a);return _.value=E,M.formatValue(v,_,C,{specifier:D,dateStyle:a,truncateDate:b})??u.format(v,_,w)??u.defaultFormat(_,w)}}formatDatum(n,i,r,o,s,a,l,c,u,d){if(i==null)return"";let{moduleCtx:h,direction:f,dataDomain:p}=this;c??(c=p.domain);let{formatManager:m}=h,b=this.formatterBoundSeries.get(),v;switch(r){case"crosshair":case"annotation-label":v=this.layout.label.fractionDigits+1;break;case"series-label":v=2;break;case"tooltip":v=3;break;case"legend-label":v=void 0;break}let x=this.datumFormatParams(i,{source:r,datum:a,seriesId:o,legendItemName:s,key:l,property:f,domain:c,boundSeries:b},v,void 0,"long"),{type:M,value:D}=x,w=this.createCallWithContext(n),E=u?.formatValue(w,M,D,d??x)??m.format(w,x)??this.label.formatValue(w,x,NaN)??m.defaultFormat(x);return String(E)}getBBox(){return this.axisGroup.getBBox()}initCrossLine(n){n.scale=this.scale,n.gridLength=this.gridLength}hasVisibleSeries(){return this.boundSeries.some(n=>n.isEnabled())}clipTickLines(n,i,r,o){this.tickLineGroup.setClipRect(new re(n,i,r,o))}clipGrid(n,i,r,o){this.gridGroup.setClipRect(new re(n,i,r,o))}getTitleFormatterParams(n){let{direction:i}=this,r=this.formatterBoundSeries.get();return{domain:n,direction:i,boundSeries:r,defaultValue:this.title?.text}}normaliseDataDomain(n){return{domain:[...n],clipped:!1}}getLayoutState(){return g({id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),I(g({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){let{scale:n}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:Ht.is(n)||$o.is(n),getCanvasBounds:()=>gn.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((i,r)=>(r.getKeyProperties(this.direction).forEach(s=>i.add(s)),i),new Set),seriesIds:()=>this.boundSeries.map(i=>i.id),scaleInvert:i=>n.invert(i,!0),scaleInvertNearest:i=>n.invert(i,!0),formatScaleValue:(i,r,o)=>this.formatDatum(void 0,i,r,void 0,void 0,void 0,void 0,void 0,o),attachLabel:i=>this.attachLabel(i),inRange:(i,r)=>this.inRange(i,r),getRangeOverflow:i=>this.getRangeOverflow(i),pickBand:i=>this.pickBand(i)}}pickBand(n){if(!Ca.is(this.scale))return;let{scale:i,range:r}=this,o=i.invert(this.isVertical()?n.y:n.x,!0),s=i.bandwidth??0,l=((i.step??0)-s)/2,c=i.convert(o),u=c-l,d=c+s+l;return{id:this.id,value:o,band:[eg(u,r),eg(d,r)],position:c}}isVertical(){return this.direction==="y"}isReversed(){return this.reverse}cachedCallWithContext(n,...i){let{callbackCache:r,chartService:o}=this.moduleCtx;return r.call([this,o],n,...i)}uncachedCallWithContext(n,...i){let{chartService:r}=this.moduleCtx;return Yo([this,r],n,...i)}createCallWithContext(n){let{chartService:i}=this.moduleCtx;return(r,...o)=>Yo([n,this,i],r,...o)}};return e.defaultTickMinSpacing=50,e.CrossLineConstructor=br,e})();y([S],lu.prototype,"nice",2);y([S],lu.prototype,"reverse",2);y([S],lu.prototype,"keys",2);y([S],lu.prototype,"interval",2);y([S],lu.prototype,"title",2);y([Tl((e,t,n)=>e.onGridLengthChange(t,n))],lu.prototype,"gridLength",2);var zE=lu;function zr(e){return e instanceof Date?e.getTime():e}function _g(e){return e<Jd?"millisecond":e<hl?"second":e<Kc?"minute":e<Kc*23?"hour":e<28*nu?"day":e<ng?"month":"year"}function HE(e){if(e.length===0)return"millisecond";if(e.length===1)return f0(e[0]);let t=1/0;for(let n=1;n<e.length;n++)t=Math.min(t,Math.abs(e[n].valueOf()-e[n-1].valueOf()));return _g(t)}function f0(e){return oo("second",e)<e?"millisecond":oo("minute",e)<e?"second":oo("hour",e)<e?"minute":oo("day",e)<e?"hour":oo("month",e)<e?"day":oo("year",e)<e?"month":"year"}function UE(e){let[t,n]=e.length===0?[0,0]:ii([e[0].valueOf(),e[e.length-1].valueOf()]),i=new Date(t).getFullYear(),r=new Date(n).getFullYear();if(i!==r)return;let o=new Date(t).getMonth(),s=new Date(n).getMonth();if(o!==s)return"year";let a=new Date(t).getDate(),l=new Date(n).getDate();return a!==l?"month":"day"}function TF(e,t,n){if(n==null||n[0]===0&&n[1]===1)return{ticks:e,count:e.length,firstTickIndex:0};let i=se(0,Math.floor(n[0]*e.length),e.length),r=se(0,Math.ceil(n[1]*e.length),e.length),o=t?e.length-r:i,s=t?e.length-i:r;return{ticks:e.slice(o,s),count:e.length,firstTickIndex:o}}var xh=class AF extends Ca{constructor(){super(...arguments),this.type="category",this.defaultTickCount=0,this.index=new Map,this.indexInitialized=!1,this._domain=[]}static is(t){return t instanceof AF}set domain(t){this._domain!==t&&(this.invalid=!0,this._domain=t,this.index.clear(),this.indexInitialized=!1)}get domain(){return this._domain}get bands(){return this._domain}normalizeDomains(...t){let n,i=new Set,r=!0;for(let o of t)i.has(o)||(i.add(o),n==null?n=_R(o):(r&&(r=$q(o,n)),n=_R([...n,...o])));return n??(n=[]),{domain:n,animatable:r}}toDomain(t){}invert(t,n=!1){this.refresh();let i=n?this.bandwidth/2:0,r=this.invertNearestIndex(Math.max(0,t-i));return n||t===this.ordinalRange(r)?this.domain[r]:void 0}ticks(t,n=this.domain,i){let{bands:r}=this,{tickCount:o}=t;if(o===0){let m=r.length>1?1:0;return{ticks:[r[m]],count:void 0,firstTickIndex:m}}let s=o!=null&&o!==0?r.length/o|0:1;if(s=wC(s),s<=1)return TF(n,!1,i);o=r.length/s|0;let a=s*o,l=wC((r.length-a)/2|0),c=se(0,Math.floor((i?.[0]??0)*r.length),r.length),u=se(0,Math.ceil((i?.[1]??1)*r.length),r.length),d=Math.floor((c-l)/s)*s+l,h=Math.ceil((u-l)/s)*s+l,f=[];for(let m=d;m<h;m+=s)m>=0&&m<r.length&&f.push(r[m]);let p=f.length>0?this.findIndex(f[0]):void 0;return p!=null&&(p=Math.floor((p-l)/s)),{ticks:f,count:void 0,firstTickIndex:p}}findIndex(t){let{index:n,indexInitialized:i}=this;if(!i){let{domain:r}=this;for(let o=0;o<r.length;o++)n.set(zr(r[o]),o);this.indexInitialized=!0}return n.get(zr(t))}};function _R(e){let t,n=new Set;for(let i of e){let r=zr(i),o=n.size;n.add(r),n.size!==o?t?.push(i):t??(t=e.slice(0,n.size))}return t??e}function $q(e,t){let n=-1;for(let i of e){let r=t.indexOf(i);if(r===-1)n=1/0;else{if(r<=n)return!1;n=r}}return!0}function GE(e,t){return e.valueOf()-t.valueOf()}function Wq(e){let t=NaN,n=[];for(let i of e){let r=i.valueOf();t!==r&&n.push(i),t=r}return n}function LC(e){let t=e.slice().sort(GE);return $E(t)==null?Wq(t):t}function $E(e){if(e.length===0)return 1;let t=Number(e[e.length-1])>Number(e[0])?1:-1,n=-1/0*t;for(let i of e){let r=i.valueOf();if(Math.sign(r-n)!==t)return;n=r}return t}var dn=(e,t)=>({duration:nr(e)*t,timeInterval:e,step:t}),RC=[dn({unit:"second"},1),dn({unit:"second"},5),dn({unit:"second"},15),dn({unit:"second"},30),dn({unit:"minute"},1),dn({unit:"minute"},5),dn({unit:"minute"},15),dn({unit:"minute"},30),dn({unit:"hour"},1),dn({unit:"hour"},3),dn({unit:"hour"},6),dn({unit:"hour"},12),dn({unit:"day"},1),dn({unit:"day"},2),dn({unit:"day",step:7},1),dn({unit:"day",step:7},2),dn({unit:"day",step:7},3),dn({unit:"month"},1),dn({unit:"month"},2),dn({unit:"month"},3),dn({unit:"month"},4),dn({unit:"month"},6),dn({unit:"year"},1)],_F=[1,2,5,10];function kR(e,t){return Math.abs(Math.round(e)-e)<t}function kF(e,t,n){return Math.abs(t-e)>=n?Math.abs(t-e)/n+1:1}function kg(e,t,n,i,r,o){if(e===t)return{ticks:[e],count:1,firstTickIndex:0};if(n<2)return{ticks:[e,t],count:2,firstTickIndex:0};let s=og(e,t,n,i,r);if(!Number.isFinite(s))return{ticks:[],count:0,firstTickIndex:void 0};let a=e,l=t;if(kR(a/s,1e-12)||(a=Math.ceil(a/s)*s),kR(l/s,1e-12)||(l=Math.floor(l/s)*s),o!=null){let d=l-a,h=t-e,f=e+h*o[0],p=e+h*o[1];o=[(f-a)/d,(p-a)/d]}let{ticks:c}=g0(a,l,s,o),u=c.at(0);return{ticks:c,count:kF(a,l,s),firstTickIndex:u==null?void 0:Math.round((u-a)/s)}}var Yq=Math.floor(2*gF/FE*10)/10;function NR({timeInterval:e,step:t}){let n=nr(e)*t,i=rg(e),r=i?nr(i):void 0;return n<=(r??1/0)*Yq}function NF(e,{weekStart:t}){if(e.unit==="day"&&e.step===7)return t}function p0(e,t,n,i,r,{weekStart:o,primaryOnly:s=!1,targetInterval:a}){if(n<=0)return;let l=a??Math.abs(t-e)/Math.max(n,1),c=RC.findLast(f=>(!s||NR(f))&&l>f.duration),u=RC.find(f=>(!s||NR(f))&&l<=f.duration);if(c==null)return{unit:"millisecond",step:Math.max(og(e,t,n,i,r),1)};if(u==null)return{unit:"year",step:a==null?og(e/ng,t/ng,n,i,r):1};let{timeInterval:d,step:h}=l-c.duration<u.duration-l?c:u;return{unit:d.unit,step:Il(d)*h,epoch:NF(d,{weekStart:o})}}function og(e,t,n,i=0,r=1/0){if(e===t)return se(1,i,r);if(n<1)return NaN;let o=Math.abs(t-e),s=10**Math.floor(Math.log10(o/n)),a=NaN,l=1/0,c=!1;for(let u of _F){let d=Math.ceil(o/(u*s)),h=d>=i&&d<=r;if(c&&!h)continue;let f=Math.abs(d-n);(l>f||c!==h)&&(c||(c=h),l=f,a=u)}return a*s}function OR(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function OF(e,t){let n=wp(t??",f");if(n==null)return;(n.precision==null||isNaN(n.precision))&&(!n.type||"eEFgGnprs".includes(n.type)?n.precision=Math.max(...e.map(r=>{if(!Number.isFinite(r))return 0;let[o,s]=r.toExponential((n.type?6:12)-1).split(/[.e]/g);return(o!=="1"&&o!=="-1"?1:0)+OR(s)+1})):"f%".includes(n.type)&&(n.precision=Math.max(...e.map(r=>{if(!Number.isFinite(r)||r===0)return 0;let o=Math.floor(Math.log10(Math.abs(r))),s=n.type?6:12,a=r.toExponential(s-1).split(/[.e]/g)[1],l=OR(a);return Math.max(0,l-o)}))));let i=jb(n);return r=>i(Number(r))}function g0(e,t,n,i){if(!Number.isFinite(n)||n<=0)return{ticks:[],count:0,firstTickIndex:void 0};if(e===t)return{ticks:[e],count:1,firstTickIndex:0};let r=10**_d(n),o=Math.min(e,t),s=Math.max(e,t),a,l;if(i!=null&&(i[0]!==0||i[1]!==1)){let d=t-e,h=e+d*i[0],f=t-d*(1-i[1]);a=Math.min(h,f),l=Math.max(h,f)}else a=o,l=s;a=Math.floor(a*r)/r,l=Math.ceil(l*r)/r;let c=[];for(let d=0;;d+=1){let h=Math.round((o+n*d)*r)/r;if(h>s)break;h>=a&&h<=l&&c.push(h)}let u=c.at(0);return{ticks:c,count:kF(o,s,n),firstTickIndex:u==null?void 0:Math.round((u-o)/n)}}function ph(e,t){return e>=t?(P.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function LF(e,t){let n=Math.abs(t-e),i=10**Math.floor(Math.log10(n)),r=1/0,o=[e,t];for(let s of _F){let a=s*i,l=Math.floor(e/a)*a,c=Math.ceil(t/a)*a,u=1-n/Math.abs(c-l);r>u&&(r=u,o=[l,c])}return o}function RF(e,t,n,i,r,o){if(e<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};o=Math.max(o,e/(r+1)),n??(n=o),i??(i=e),n>i&&(n===o?n=i:i=n),n=Math.max(n,1);let s=Math.max(1,Math.floor(e/(t*n))),a=Math.min(s,Math.ceil(e/(t*i))),l=se(a,Math.floor(r/t),s);return{minTickCount:a,maxTickCount:s,tickCount:l}}var m0=new Date(1970,0,4),Qd=class PF extends Ht{constructor(){super([],[0,1]),this.type="time"}static is(t){return t instanceof PF}toDomain(t){return new Date(t)}convert(t,n){return super.convert(t?.valueOf()??NaN,n)}invert(t){return new Date(super.invert(t))}niceDomain(t,n=this.domain){if(n.length<2)return[];let[i,r]=n,o=4,s=this.getPixelRange();for(let a=0;a<o;a++){let[l,c]=qq(i,r,t,s);if(zr(i)===zr(l)&&zr(r)===zr(c))break;i=l,r=c}return[i,r]}ticks(t,n=this.domain,i=[0,1],{extend:r=!1}={}){let{nice:o,interval:s,tickCount:a=Ht.defaultTickCount,minTickCount:l,maxTickCount:c}=t;if(n.length<2)return;let u=n.map(zr),d=u[0],h=u[u.length-1];if(s!=null){let b=this.getPixelRange();return{ticks:WE({start:d,stop:h,interval:s,availableRange:b,visibleRange:i,extend:r})??Zq({start:d,stop:h,tickCount:a,minTickCount:l,maxTickCount:c,visibleRange:i,extend:r}),count:void 0}}else{if(o&&a===2)return{ticks:n,count:void 0};if(o&&a===1)return{ticks:n.slice(0,1),count:void 0}}let f=p0(d,h,a,l,c,{weekStart:m0});if(f==null)return;let p=fo(f,new Date(d),new Date(h),{visibleRange:i,extend:r}),m=c0(f,new Date(d),new Date(h),{visibleRange:i,extend:r});return{ticks:p,count:void 0,firstTickIndex:m,timeInterval:f}}};function Zq({start:e,stop:t,tickCount:n,minTickCount:i,maxTickCount:r,visibleRange:o,extend:s}){let a=p0(e,t,n,i,r,{weekStart:m0});return a?fo(a,new Date(e),new Date(t),{visibleRange:o,extend:s}):[]}function WE({start:e,stop:t,interval:n,availableRange:i,visibleRange:r,extend:o}){if(!n)return[];if($e(n)||typeof n=="string"){let d=fo(n,new Date(e),new Date(t),{visibleRange:r,extend:o});return ph(d.length,i)?void 0:d}let s=Math.abs(n);if(ph(Math.abs(t-e)/s,i))return;let a=RC.findLast(d=>s%d.duration===0);if(a){let{timeInterval:d,step:h,duration:f}=a,p=I(g({},d),{step:h*Il(d)*Math.round(s/f),epoch:NF(d,{weekStart:m0})});return fo(p,new Date(e),new Date(t),{visibleRange:r,extend:o})}let l=new Date(Math.min(e,t)),c=new Date(Math.max(e,t)),u=[];for(;l<=c;)u.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+s);return u}function qq(e,t,n,i){let{interval:r}=n,o=Math.min(zr(e),zr(t)),s=Math.max(zr(e),zr(t)),a;if($e(r)||typeof r=="string")a=r;else{let d;typeof r=="number"&&(d=(s-o)/Math.max(r,1),ph(d,i)&&(d=void 0)),d??(d=n.tickCount??Ht.defaultTickCount),a=p0(o,s,d,n.minTickCount,n.maxTickCount,{weekStart:m0})}if(a==null)return[e,t];let l=fo(a,new Date(o),new Date(s),{extend:!0});if(l==null||l.length<2)return[e,t];let c=l[0],u=l[l.length-1];return e<=t?[c,u]:[u,c]}var zd=class FF extends $o{constructor(){super(...arguments),this.type="ordinal-time",this.defaultTickCount=Ht.defaultTickCount,this._domain=[],this.isReversed=!1}static is(t){return t instanceof FF}set domain(t){t!==this._domain&&(this.invalid=!0,this._domain=t,this._bands=void 0,this.isReversed=LR(t))}get domain(){return this._domain}get bands(){return this._bands??(this._bands=this.isReversed?this.domain.slice().reverse():this.domain),this._bands}normalizeDomains(...t){let n=t.filter(i=>i.length>0);if(n.length===0)return{domain:[],animatable:!1};if(n.length===1){let i=n[0],r=$E(i);return r===-1?i=i.slice().reverse():r==null&&(i=LC(i.slice())),{domain:i,animatable:!0}}return{domain:LC(n.flat()),animatable:!0}}ticks(t,n,i=[0,1],{extend:r=!1,dropInitial:o=!1}={}){let{interval:s,maxTickCount:a,tickCount:l=a}=t,{bands:c}=this;if(!c.length)return;if(this.refresh(),s==null){let{ticks:x,tickOffset:M,tickEvery:D}=this.getDefaultTicks(n,l,i,r),w=x.length>0?this.findIndex(x[0]):void 0;return w=w!=null?Math.floor((w-M)/D):void 0,{ticks:x,count:void 0,firstTickIndex:w}}let u,d;n&&n.length>=2?(u=n[0].valueOf(),d=n[n.length-1].valueOf()):(u=c[0].valueOf(),d=c[c.length-1].valueOf());let[h,f]=this.range,p=Math.abs(f-h),m=WE({start:u,stop:d,interval:s,availableRange:p,visibleRange:i,extend:r})??this.getDefaultTicks(n,l,i,r).ticks,b=[],v=-1;for(let x of m){let M=this.findIndex(x,1)??-1,D=M===v;v=M,!(o&&M===0)&&M!==-1&&!D&&b.push(c[M])}return{ticks:b,count:void 0,firstTickIndex:void 0}}stepTicks(t,n,i=[0,1],r=!0){let o=n?this.bandDomainIndices(n):void 0,s=this.ticksEvery(o,i,t,0,!1),a=s.at(-1),l=r&&t>1?o?.[1]:void 0,c=l!=null&&a!=null?this.findIndex(a):void 0;return c!=null&&l!=null&&l-c<t&&s.pop(),s}bandCount(t=[0,1]){let{domain:n}=this,i=Math.floor(t[0]*n.length);return Math.ceil(t[1]*n.length)-i}getDefaultTicks(t,n,i,r){let{bands:o}=this,s=Math.ceil(o.length/n),a=Math.floor(s/2),l=t?this.bandDomainIndices(t):void 0;return{ticks:this.ticksEvery(l,i,s,a,r),tickOffset:a,tickEvery:s}}bandDomainIndices(t){let n=LR(t),i=this.findIndex(t[n?t.length-1:0],1)??0,r=this.findIndex(t[n?0:t.length-1],1)??this.bands.length-1;return[i,r]}ticksEvery([t,n]=[0,this.bands.length],i,r,o,s){let{bands:a}=this,l=t,c=n-t+1,u=l+Math.floor(i[0]*c),d=l+Math.ceil(i[1]*c);s&&(u-=r,d+=r),u=Math.max(u,0),d=Math.min(d,a.length);let h;if(r<=1)h=a.slice(u,d);else{h=[];for(let f=u;f<d;f+=1)(f-l+o)%r===0&&h.push(a[f])}return h}};function LR(e){return e.length>0&&e[0]>e[e.length-1]}var jF=5e7,dl=class VF extends $o{constructor(){super(...arguments),this.type="unit-time",this.defaultTickCount=12,this._domain=[],this._bands=void 0}static is(t){return t instanceof VF}static supportsInterval(t,n){return RR(t,n)}set domain(t){t!==this._domain&&(this._domain=t,this._bands=void 0)}get domain(){return this._domain}get interval(){return this._interval}set interval(t){this._interval!==t&&(this._interval=t,this._bands=void 0)}get bands(){return this._bands??(this._bands=this.calculateBands(this._domain,[0,1]).bands),this._bands}normalizeDomains(...t){return kE(...t)}convert(t,n){t instanceof Date||(t=new Date(t));let{domain:i,interval:r}=this;if(i.length<2)return NaN;if(n?.clamp!==!0&&r!=null){let o=t.valueOf(),[s,a]=sx(i,r),l=Math.min(s.valueOf(),a.valueOf()),c=Math.max(s.valueOf(),a.valueOf());if(o<l||o>=c+nr(r))return NaN}return super.convert(t,n)}calculateBands(t,n,i=!1){if(t===this.domain&&n[0]===0&&n[1]===1&&!i&&this._bands!=null)return{bands:this._bands,firstBandIndex:0};if(t.length<2)return{bands:[],firstBandIndex:void 0};let{interval:r}=this;if(r==null)return{bands:[],firstBandIndex:void 0};let o={visibleRange:n,extend:i};if(!RR(t,r,o))return{bands:[],firstBandIndex:void 0};let[s,a]=sx(t,r);if(VE(r,s,a,o)>jF)return P.warnOnce("the configured unit results in too many bands, ignoring. Supply a larger unit."),{bands:[],firstBandIndex:void 0};let l=fo(r,s,a,o),c=c0(r,s,a,o);return{bands:l,firstBandIndex:c}}ticks({interval:t},n=this.domain,i=[0,1],{extend:r=!1}={}){if(n.length<2)return;let{bands:o,firstBandIndex:s}=this.calculateBands(n,i,r),a=this.interval?nr(this.interval):1/0;if(t==null)return{ticks:o,count:void 0,firstTickIndex:s};let l=Math.min(n[0].valueOf(),n[1].valueOf()),c=Math.max(n[0].valueOf(),n[1].valueOf()),u,d,h;$e(t)||typeof t=="string"?(u=fo(t,n[0],n[1],{extend:!0,visibleRange:i}),d=0,h=u.length-1):(u=o,d=Ro(0,o.length-1,M=>o[M].valueOf()<=l)??0,h=Ro(0,o.length-1,M=>o[M].valueOf()<=c)??o.length-1);let f=[],p;for(let M=d;M<=h;M++){let D=u[M].valueOf(),w=Ro(0,o.length-1,C=>o[C].valueOf()<=D),E=w!=null&&w!=p?o[w]:void 0;p=w,E!=null&&D-E.getTime()<=a&&f.push(E)}let m,b;if(this.interval){let M=sx([new Date(l),new Date(c)],this.interval);m=M[0].valueOf(),b=M[1].valueOf()}else m=l,b=c;let v=aa(0,f.length-1,M=>f[M].valueOf()>=m)??0,x=Ro(0,f.length-1,M=>f[M].valueOf()<=b)??f.length-1;return r&&(v=Math.max(v-1,0),x=Math.min(x+1,f.length-1)),{ticks:f.slice(v,x+1),count:f.length,firstTickIndex:s}}};function RR(e,t,n){let[i,r]=sx(e,t);return VE(t,i,r,n)<=jF}function sx(e,t){let n=oo(t,e[0]),i=oo(t,e[1]);return[n,i]}function Kq(e,t,n,i,r){let[o,s]=ii(t.map(Number)),a=Math.floor(n.unzoomed);if(a<=1){let[v,x]=Qq(o,s),M=5*Math.pow(2,-Math.ceil(Math.log2(r[1]-r[0]))),{ticks:D}=kg(v,x,M,void 0,void 0,r),w=[e.toDomain(v),e.toDomain(x)];return i&&w.reverse(),{domain:w,ticks:D}}if(o===s){let v=Math.floor(Math.log10(o)),x=Math.pow(10,v),M=Math.min(x,1),D=a-1;o-=M*Math.floor(D/2),s=o+M*D}let l=o,c=s;l=Xq(l,c,a);let u=eK(l,c,a),d=a-1;c=l+d*u;let h=Math.floor(l/u)*u,f=Math.floor(c/u)*u;h<=o&&f>=s&&(l=h,c=f);let p=[e.toDomain(l),e.toDomain(c)];i&&p.reverse();let m=u*((n.unzoomed-1)/(n.zoomed-1)),b=Jq(l,m,Math.floor(n.zoomed));return{domain:p,ticks:b}}function Qq(e,t){let n=e,i=t,r=0;do{[n,i]=LF(n,i);let{ticks:o}=kg(n,i,5);if(o.length%2===1)return[n,i];n-=1,i+=1}while(r++<10);return[e,t]}function Xq(e,t,n){e=Math.floor(e);let i=Math.abs(t-e)/(n-1),r=Math.floor(Math.log10(i)),o=Math.pow(10,r);return Math.floor(e/o)*o}function Jq(e,t,n){let i=_d(t),r=Math.pow(10,i),o=[];for(let s=0;s<n;s++){let a=e+t*s;o.push(Math.round(a*r)/r)}return o}function eK(e,t,n){let i=n-1,r=(t-e)/i;return tK(r)}function tK(e){let t=Math.floor(Math.log10(e)),n=Math.pow(10,t),i=e/n;return i>0&&i<=1?n:i>1&&i<=2?2*n:i>2&&i<=5?5*n:i>5&&i<=10?10*n:e}function YE(){let e=new Map;return t=>{let n=e.get(t);return n?(e.set(t,n+1),`${t}_${n}`):(e.set(t,1),t)}}var nK=18,iK=[1,2,3,4,6,8,9,10,12],rK=new Date(1970,0,4),BF=class{constructor(e){this.axis=e}estimateTickCount(e,t,n,i,r,o){let{scale:s,label:a}=this.axis,{defaultTickCount:l}=s,c=dh(t),u=dh(n);if(xh.is(s)){let d=e.length,h=Math.ceil(c/(u*a.fontSize));return h=Math.min(h,d),{minTickCount:0,maxTickCount:d,tickCount:h}}return RF(c,u,r,o,l,i)}generateTicks({range:e,domain:t,reverse:n,primaryTickCount:i,defaultTickMinSpacing:r,visibleRange:o,niceMode:s,parallelFlipRotation:a,regularFlipRotation:l,labelX:c,sideFlag:u,removeOverflowLabels:d,removeOverflowThreshold:h=0,sizeLimit:f}){let{label:p,primaryLabel:m,interval:{minSpacing:b,maxSpacing:v}}=this.axis,{parallel:x,fontFamily:M,fontSize:D,fontStyle:w,fontWeight:E}=p,C=i!==void 0,{defaultRotation:_,configuredRotation:N,parallelFlipFlag:k,regularFlipFlag:j}=Aq(p.rotation,x,l,a),{maxTickCount:V}=this.estimateTickCount(t,e,o,r,b,v),$=Number.isFinite(V)?V:10,te=kq(x,N,u,k),Z={fontFamily:M,fontSize:D,fontStyle:w,fontWeight:E},de=Al.getMeasurer({font:Z}),Oe=p.enabled&&p.avoidCollisions,Ke=N+_,vt=new Ma,Mt=pe=>{let ke=Ke+pe;Ma.updateTransformMatrix(vt,1,1,ke,0,0)},Ye=({ticks:pe},ke)=>(Mt(ke),Lq(pe,c,vt,de,p)),be=(pe,ke)=>{let{niceDomain:Le,ticks:Ut,timeInterval:xn}=pe;if(xn==null)return[];Mt(ke);let cn=sK(Ut),{width:jt,height:Wn}=Oq(p,m,Le??t,xn,de);return Rq({width:jt,height:Wn,spacing:cn},c,vt)},xe=(pe,ke)=>{if(!Oe)return!1;let Le=N!==0||ke!==0,Ut=_q(p.minSpacing,Le);return PR(be(pe,ke),Ut)||PR(Ye(pe,ke),Ut)},ge={tickDomain:[],niceDomain:t,ticks:[],rawTicks:[],rawTickCount:void 0,timeInterval:void 0,fractionDigits:0},dt=0,ze=0,Pe=!0,Ae=!1;for(;!Ae&&Pe&&dt<=$;){ze=0;for(let pe of this.getTickStrategies({domain:t,range:e,reverse:n,niceMode:s,secondaryAxis:C,sizeLimit:f}))({tickData:ge,index:dt,autoRotation:ze,terminate:Ae}=pe({index:dt,tickData:ge,terminate:Ae,primaryTickCount:i,defaultTickMinSpacing:r,visibleRange:o,labelsOverlap(){return xe(ge,ze)}}));Pe=xe(ge,ze)}let Me=Nq(x,N,ze,u,j),ve=N+ze;if(d&&ge.ticks.length>2){let pe=Ye(ge,ze),ke=ge.ticks.at(-1),Le=pe.at(-1);ke!=null&&Le!=null&&ke.translation+Le.label.width/2>e[1]+h&&(ke.tickLabel=void 0,o[0]===0&&o[1]===1&&(ge.ticks[0].tickLabel=void 0))}return{tickData:ge,rotation:ve,textBaseline:te,textAlign:Me}}getTickStrategies({domain:e,range:t,reverse:n,niceMode:i,secondaryAxis:r,sizeLimit:o}){let{label:s,interval:a}=this.axis,l=s.enabled&&s.avoidCollisions,c=s.autoRotate===!0&&s.rotation===void 0,u=[],d;a.values?d=2:r?d=1:d=0;let h=({index:f,tickData:p,primaryTickCount:m,defaultTickMinSpacing:b,visibleRange:v,terminate:x})=>this.createTickData(e,t,n,i,v,m,b,d,f,p,x,o);if(u.push(h),l&&c){let f=({index:p,tickData:m,labelsOverlap:b,terminate:v})=>({index:p,tickData:m,autoRotation:b()?Sa(s.autoRotateAngle):0,terminate:v});u.push(f)}return u}createTickData(e,t,n,i,r,o,s,a,l,c,u,d){let{interval:h}=this.axis,{step:f,values:p,minSpacing:m,maxSpacing:b}=h,{maxTickCount:v,minTickCount:x,tickCount:M}=this.estimateTickCount(e,t,r,s,m,b),D=M-x,w=be=>Math.max(M-be,x),E=c.rawTicks,C=f==null&&p==null&&w(l)>x,_={domain:e,reverse:n,niceMode:i,visibleRange:r,primaryTickCount:o,tickGenerationType:a,minTickCount:x,maxTickCount:v,tickCount:0};_.tickCount=w(l);let N=this.getTicks(_);if(C&&FR(N.rawTicks,E)){let be=l,xe=D;for(;be<=xe;){l=(be+xe)/2|0,_.tickCount=w(l);let ge=this.getTicks(_);FR(ge.rawTicks,E)?be=l+1:(N=ge,xe=l-1)}}let{tickDomain:k,niceDomain:j,rawTicks:V,rawTickCount:$,rawFirstTickIndex:te,generatePrimaryTicks:Z,primaryTicksIndices:de,alignment:Oe,fractionDigits:Ke,timeInterval:vt}=N,Mt=this.formatTicks({range:t,niceDomain:j,rawTicks:V,rawFirstTickIndex:te,generatePrimaryTicks:Z,primaryTicksIndices:de,alignment:Oe,fractionDigits:Ke,timeInterval:vt,sizeLimit:d}),Ye={tickDomain:k,niceDomain:j,rawTicks:V,rawTickCount:$,timeInterval:vt,fractionDigits:Ke,ticks:Mt};return l+=1,u||(u=f!=null||p!=null),{tickData:Ye,index:l,autoRotation:0,terminate:u}}getTimeIntervalTicks(e,t,n,i,r,o){let s=rg(r);if(s==null)return;let{scale:a}=this.axis;if(!Qd.is(a)&&!$o.is(a))return;o&&(e=[1-e[1],1-e[0]]);let l=Math.min(a.domain[0].valueOf(),a.domain[a.domain.length-1].valueOf()),c=Math.max(a.domain[0].valueOf(),a.domain[a.domain.length-1].valueOf()),[u,d]=jE(new Date(l),new Date(c),e);u=oo(s,u),u.valueOf()>=l&&(u=yF(s,u)),d=mF(s,d),d.valueOf()<=c&&(d=vF(s,d));let h=fo(s,u,d),f=nr(r),p=new Set,m=zd.is(a),b=[],v=I(g({},i),{interval:r}),x,M,D=0;if(zd.is(a)){let E=this.axis.minimumTimeGranularity,C=ks(r);x=E!=null&&nr(E)>=nr(C)?2:3,M=1;let _=t/n,N=a.bandCount(e)/(_*nK);D=iK.findLast(k=>N>=k)??1}else dl.is(a)&&(a.interval==null||nr(a.interval)>=f)?x=1:(x=0,M=2);for(let E=0;E<h.length-1;E+=1){let C=h[E],_=h[E+1],N=E===0,k=E===h.length-2,j=_.valueOf()-C.valueOf(),V=[Math.max((l-C.valueOf())/j,0),Math.min((c-C.valueOf())/j,1)],$;switch(x){case 0:$=oK(v.interval,[C,_],V,!0).ticks;break;case 1:case 3:$=a.ticks(v,[C,_],V,{extend:!0,dropInitial:!0})?.ticks??[];break;case 2:$=a.stepTicks(D,[C,_],void 0,!k);break}if(DL($,Oe=>Oe.valueOf()<C.valueOf()),k||IL($,Oe=>{switch(x){case 0:case 3:return Oe.valueOf()+f>_.valueOf();case 1:case 2:return Oe.valueOf()>=_.valueOf()}}),$.length===0)continue;let te=$[0],Z=GE(te,C);(x===0?Z===0:Z<=f)&&(!m||!N)&&p.add(b.length),b.push(...$)}return(p.size===0||p.size===1&&p.has(0))&&(p=void 0),{ticks:b,tickCount:void 0,firstTickIndex:void 0,primaryTicksIndices:p,alignment:M}}getTicks({domain:e,reverse:t,niceMode:n,visibleRange:i,tickGenerationType:r,tickCount:o,minTickCount:s,maxTickCount:a,primaryTickCount:l}){let{axis:c}=this,{primaryLabel:u,scale:d,interval:h}=c,f={nice:n===0,interval:h.step,tickCount:o,minTickCount:s,maxTickCount:a},p=I(g({},f),{nice:n===0||n===1}),m;r===1&&l!=null&&Ht.is(d)&&(m=Kq(d,e,l,t,i));let b=n===0?m?.domain??d.niceDomain(f,e):e,v=b,x,M,D,w,E,C,_=u?.enabled===!0&&p.interval==null,N=d.domain;switch(d.domain=b,r){case 2:if(v=h.values,x=h.values,M=x.length,zd.is(d)?C=1:dl.is(d)&&(C=2),Ht.is(d)){let[j,V]=ii(b.map(Number));x=x.filter($=>Number($)>=j&&Number($)<=V).sort(($,te)=>Number($)-Number(te))}break;case 1:if(m)x=m.ticks,M=m.ticks.length;else{let j=d.ticks(p,b,i);x=j?.ticks??[],M=j?.count}break;default:{if(b.length>0&&p.interval==null&&(dl.is(d)||_&&(Qd.is(d)||zd.is(d)))){let $=b,te=Math.min($[0].valueOf(),$[$.length-1].valueOf()),Z=Math.max($[0].valueOf(),$[$.length-1].valueOf());w=p0(te,Z,o,s,a,{weekStart:u==null?rK:void 0,primaryOnly:!0})}let j;zd.is(d)?j=c.minimumTimeGranularity:dl.is(d)&&(j=d.interval),j!=null&&w!=null&&nr(j)>=nr(w)&&(w=j);let V=w?this.getTimeIntervalTicks(i,o,a,p,w,t):void 0;if(V)({ticks:x,tickCount:M,firstTickIndex:D,primaryTicksIndices:E,alignment:C}=V);else{let $=dl.is(d)&&p.interval==null&&w!=null?I(g({},p),{interval:w}):p,te=d.ticks($,b,i);if(x=te?.ticks??[],M=te?.count,D=te?.firstTickIndex,Qd.is(d)||$o.is(d)){let Z=p,de=typeof Z.interval=="number"?_g(Z.interval):Z.interval;w??(w=de??te?.timeInterval)}}}}let k=x.reduce((j,V)=>Math.max(j,typeof V=="number"?_d(V):0),0);return _||(E=void 0),d.domain=N,{tickDomain:v,niceDomain:b,rawTicks:x,rawTickCount:M,rawFirstTickIndex:D,generatePrimaryTicks:_,primaryTicksIndices:E,alignment:C,fractionDigits:k,timeInterval:w}}formatTicks({niceDomain:e,range:t,rawTicks:n,rawFirstTickIndex:i=0,generatePrimaryTicks:r,primaryTicksIndices:o,alignment:s,fractionDigits:a,timeInterval:l,sizeLimit:c=1/0}){let{axis:u}=this,{label:d,scale:h}=u,f=h.domain;h.domain=e;let p=r?"component":"long",m=d.enabled?u.tickFormatter(e,n,!1,a,l,p):void 0,b=l!=null?rg(l):void 0,v=r?u.tickFormatter(e,n,!0,a,b,p):void 0,x=(h.bandwidth??0)/2,M=[],D=Qd.is(h)||$o.is(h),w=YE(),E=u.direction==="y",C=(Ca.is(h)?h.bandwidth:null)??1/0,_={font:d,maxWidth:E?c:C,maxHeight:E?C:c,overflow:d.truncate?"ellipsis":"hide",textWrap:d.wrapping};for(let N=0;N<n.length;N++){let k=n[N],j=h.convert(k,{alignment:s})+x;if(t.length>0&&!u.inRange(j,.001))continue;let V=o?.has(N)??!1,$=V?v?.(k,N):m?.(k,N),te=$??String(k);d.avoidCollisions&&($=xg.wrapText(te,_)||$);let Z,de=D?k?.valueOf():void 0;Number.isFinite(de)?Z=w(`v:${de}`):Z=w(`l:${$}`),M.push({index:N+i,tick:k,tickId:Z,tickLabel:$,textUntruncated:$!=null&&te!==$?te:void 0,translation:Math.floor(j),primary:V})}return h.domain=f,M}};function PR(e,t=0){let n=[];for(let i of e){let{x:r,y:o}=i.point,{width:s,height:a}=i.label;if(s+=t,a+=t,n.some(l=>Pb(l,r,o,s,a)))return!0;n.push({x:r,y:o,width:s,height:a})}return!1}function oK(e,t,n,i){if(e==null)return{ticks:t,firstTickIndex:void 0};let r=t[0].valueOf(),o=t[1].valueOf();if(typeof e!="number"){let a=t[0],l=typeof e=="string"?{unit:e,epoch:a}:I(g({},e),{epoch:a}),c=fo(l,t[0],t[1],{visibleRange:n,extend:i}),u=c0(l,t[0],t[1],{visibleRange:n,extend:i});return{ticks:c,firstTickIndex:u}}let s=[];for(let a=r;a<=o;a+=e)s.push(new Date(a));return{ticks:s,firstTickIndex:void 0}}function FR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n]?.valueOf()!==t[n]?.valueOf())return!1;return!0}function sK(e){if(e.length<2)return 1/0;let t=0,n=e[0].translation;for(let i=1;i<e.length;i++){let r=e[i].translation,o=Math.abs(r-n);t=Math.max(t,o),n=r}return t}var ZE=class extends tn{constructor(){super(...arguments),this.autoRotateAngle=335}};y([S],ZE.prototype,"autoRotate",2);y([S],ZE.prototype,"autoRotateAngle",2);var y0=class zF extends zE{constructor(t,n){super(t,n),this.maxThicknessRatio=.3,this.headingLabelGroup=this.axisGroup.appendChild(new Fi({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new Fi({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new co({zIndex:1})),this.tickLineGroupSelection=ji.select(this.tickLineGroup,co,!1),this.gridLineGroupSelection=ji.select(this.gridLineGroup,co,!1),this.gridFillGroupSelection=ji.select(this.gridFillGroup,oi,!1),this.tempText=new oh({debugDirty:!1}),this.tempCaption=new mn,this.tickGenerator=new BF(this),this.animationManager=t.animationManager,this.animationState=new wg("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:r=>this.animateReadyUpdate(r),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.headingLabelGroup.appendChild(this.title.caption.node);let i;this.cleanup.register(t.eventsHub.on("layout:complete",r=>{let o=[r.chart.width,r.chart.height];i!=null&&!dr(o,i)&&this.animationState.transition("resize"),i=o}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof zF}get horizontal(){return this.position==="top"||this.position==="bottom"}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.gridFillGroupSelection.clear()}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return I(g({},super.createAxisContext()),{position:this.position})}createLabel(){return new ZE}updateDirection(){switch(this.position){case"top":this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(t,n){return this.updateDirection(),super.calculateLayout(t,n)}layoutCrossLines(){let t=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(n=>{n.calculateLayout?.(t)})}calculateTickLayout(t,n,i,r){let o=this.label.getSideFlag(),s=this.horizontal?-.5*Math.PI:0,a=Nn(s),l=Nn(s-Math.PI/2),c=o*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(n===2&&this.label.enabled===!1&&this.tick.enabled===!1&&this.gridLine.enabled===!1){let{bbox:Mt,spacing:Ye}=this.tickBBox(t,[],[]);return{ticks:[],rawTickCount:0,tickDomain:t,niceDomain:t,fractionDigits:0,timeInterval:void 0,bbox:Mt,layout:{ticks:[],tickLines:[],gridLines:[],gridFills:[],labels:[],spacing:Ye}}}let{range:u,reverse:d,defaultTickMinSpacing:h}=this,f=this.label.avoidCollisions&&this.horizontal&&(Ht.is(this.scale)||$o.is(this.scale)),p=this.tickGenerator.generateTicks({domain:t,range:u,reverse:d,niceMode:n,visibleRange:i,primaryTickCount:r,defaultTickMinSpacing:h,parallelFlipRotation:a,regularFlipRotation:l,labelX:c,sideFlag:o,sizeLimit:this.chartLayout?.sizeLimit,removeOverflowLabels:f,removeOverflowThreshold:this.chartLayout?.padding.right}),{tickData:m}=p,{ticks:b,tickDomain:v,rawTicks:x,rawTickCount:M,fractionDigits:D,timeInterval:w,niceDomain:E}=m,C=b.map(Mt=>this.getTickLabelProps(Mt,p)),{position:_,gridPadding:N,gridLength:k}=this,j=_==="bottom"||_==="right"?-1:1,V=j*N,$=j*(k+N),te=this.calculateGridLines(b,V,$),Z=this.calculateGridFills(b,V,$),de=this.calculateTickLines(b,j),{bbox:Oe,spacing:Ke}=this.tickBBox(v,b,C);return{ticks:x,rawTickCount:M,tickDomain:v,niceDomain:E,fractionDigits:D,timeInterval:w,bbox:Oe,layout:{ticks:b,gridLines:te,gridFills:Z,tickLines:de,labels:C,spacing:Ke}}}calculateGridLines(t,n,i){return t.map((r,o)=>this.calculateGridLine(r,o,n,i,t))}calculateGridLine({index:t,tickId:n,translation:i},r,o,s,a){let{gridLine:l,horizontal:c}=this,[u,d,h,f]=c?[i,o,i,s]:[o,i,s,i],{style:p}=l,{stroke:m,strokeWidth:b=0,lineDash:v}=p[t%p.length]??{};return{tickId:n,offset:i,x1:u,y1:d,x2:h,y2:f,stroke:m,strokeWidth:b,lineDash:v}}calculateGridFills(t,n,i){let{horizontal:r,range:o,type:s}=this,a=[];if(t.length==0)return a;let l=0,c=!r&&s==="unit-time";if(c&&t[0].translation<o[0]||!c&&t[0].translation>o[0]){let d={tickId:`before:${t[0].tickId}`,translation:o[0]};a.push(this.calculateGridFill(d,-1,t[0].index,n,i,t)),l=1}return a.push(...t.map((d,h)=>this.calculateGridFill(d,h,d.index+l,n,i,t))),a}calculateGridFill({tickId:t,translation:n},i,r,o,s,a){let{gridLine:l,horizontal:c,range:u}=this,d=a[i+1],h=n,f=d?d.translation:u[1],[p,m,b,v]=c?[h,Math.max(o,s),f,Math.min(o,s)]:[Math.min(o,s),Math.min(h,f),Math.max(o,s),Math.max(h,f)],{fill:x,fillOpacity:M}=l.style[r%l.style.length]??{};return{tickId:t,x1:p,y1:m,x2:b,y2:v,fill:x,fillOpacity:M}}calculateTickLines(t,n){return t.map(i=>this.calculateTickLine(i,i.index,n,t))}calculateTickLine({primary:t,tickId:n,translation:i},r,o,s){let{horizontal:a,tick:l,primaryTick:c}=this,u=t&&c?.enabled?c:l,d=-o*this.getTickSize(u),[h,f,p,m]=a?[i,0,i,d]:[0,i,d,i],{stroke:b,width:v}=u;return{tickId:n,offset:i,x1:h,y1:f,x2:p,y2:m,stroke:b,strokeWidth:v,lineDash:void 0}}update(){this.updateDirection();let t=Array.from(this.tickLabelGroupSelection.nodes(),s=>s.datum.tickId);super.update(),this.tickLineGroup.visible=this.tick.enabled||(this.primaryTick?.enabled??!1),this.tickLabelGroup.visible=this.label.enabled||(this.primaryTick?.enabled??!1);let{tickLayout:n}=this;if(this.updateTitle(this.scale.domain,n?.spacing??0),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),n){let{ticks:s}=n;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{let a=s.map(c=>c.tickId),l=TL(t,a);this.animationState.transition("update",l)}}let{enabled:i,stroke:r,width:o}=this.line;this.lineNode.setProperties({stroke:r,strokeWidth:i?o:0}),this.updateTickLines(),this.updateGridLines(),this.updateGridFills()}getAxisTransform(){return{translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){super.updatePosition();let t=this.getAxisTransform();this.tickLineGroup.datum=t,this.tickLabelGroup.datum=t,this.lineNodeGroup.datum=t,this.headingLabelGroup.datum=t}getAxisLineCoordinates(){let{horizontal:t}=this,[n,i]=ii(this.range);return t?{x1:n,x2:i,y1:0,y2:0}:{x1:0,x2:0,y1:n,y2:i}}getTickLineBBox(t){let{translation:n}=t,{position:i,primaryTick:r}=this,o=this.getTickSize();switch(r?.enabled&&(o=Math.max(o,this.getTickSize(r))),i){case"top":return new re(n,-o,n,o);case"bottom":return new re(n,0,n,o);case"left":return new re(-o,n,o,n);case"right":return new re(0,n,o,n)}}lineNodeBBox(){let{position:t,seriesAreaPadding:n}=this,{y1:i,y2:r}=this.getAxisLineCoordinates(),o=r-i;switch(t){case"top":return new re(i,-n,o,n);case"bottom":return new re(i,0,o,n);case"left":return new re(-n,i,n,o);case"right":return new re(0,i,n,o)}}titleBBox(t,n){let{tempCaption:i}=this;return i.node.setProperties(this.titleProps(i,t,n)),i.node.getBBox()}tickBBox(t,n,i){let{tick:r,primaryTick:o,label:s,primaryLabel:a,title:l,position:c,horizontal:u,seriesAreaPadding:d}=this,h=[];if(h.push(this.lineNodeBBox()),r.enabled||o?.enabled)for(let b of n)h.push(this.getTickLineBBox(b));let{tempText:f}=this;if(s.enabled)for(let b of i){if(!b.visible)continue;f.setProperties(b);let v=f.getBBox(!1);v&&h.push(v)}if(a?.enabled&&c==="bottom"&&(h.push(new re(0,qt.getLineHeight(s.fontSize)+2,1,this.getTickSize(r)+s.spacing+d)),a.format!=null)){let{format:v}=a,M=($e(v)?Object.values(v):[v]).reduce((D,w)=>Math.max(D,fL(w)),0);h.push(new re(0,this.getTickSize(o??r)+a.spacing+d,1,M*qt.getLineHeight(a.fontSize)+2))}let p=0;if(l.enabled){let b=re.merge(h);p=u?b.height:b.width,h.push(this.titleBBox(t,p))}return{bbox:re.merge(h),spacing:p}}titleProps(t,n,i){let{title:r}=this;if(!r.enabled)return t.enabled=!1,{visible:!1,text:"",textBaseline:"bottom",x:0,y:0,rotationCenterX:0,rotationCenterY:0,rotation:0};t.enabled=!0,t.color=r.color,t.fontFamily=r.fontFamily,t.fontSize=r.fontSize,t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.wrapping=r.wrapping;let o=(r.spacing??0)+i,{range:s}=this,a=(s[0]+s[1])/2,l,c,u,d;switch(this.position){case"top":l=a,c=-o,u=0,d="bottom";break;case"bottom":l=a,c=o,u=0,d="top";break;case"left":l=-o,c=a,u=-.5*Math.PI,d="bottom";break;case"right":l=o,c=a,u=.5*Math.PI,d="bottom";break}let{formatter:h=p=>p.defaultValue}=r,f=this.cachedCallWithContext(h,this.getTitleFormatterParams(n));return t.text=f,{visible:!0,text:f,textBaseline:d,x:l,y:c,rotationCenterX:l,rotationCenterY:c,rotation:u}}getLabelBorderOffset(t){let n=fh(t);function i(r){return r}switch(this.position){case"top":return n.bottom;case"right":return n.left;case"bottom":return n.top;case"left":return n.right;default:this.position}}getTickLabelProps(t,n){let{horizontal:i,primaryLabel:r,primaryTick:o,seriesAreaPadding:s,scale:a}=this,{tickId:l,tickLabel:c="",translation:u,primary:d,textUntruncated:h}=t,f=d&&r?.enabled?r:this.label,p=d&&o?.enabled?o:this.tick,{rotation:m,textBaseline:b,textAlign:v}=n,{range:x}=a,M=this.label.getSideFlag(),D=-this.getLabelBorderOffset(f),w=M*(this.getTickSize(p)+f.spacing+s)+D,E=c!=="",C=i?u:w,_=i?-w:u;return I(g({},this.getLabelStyles({value:c},void 0,f)),{tickId:l,rotation:m,text:c,textAlign:v,textBaseline:b,textUntruncated:h,visible:E,x:C,y:_,rotationCenterX:C,rotationCenterY:_,range:x})}updateSelections(){if(!this.tickLayout)return;let t=this.getAxisLineCoordinates(),{tickLines:n,gridLines:i,gridFills:r,labels:o}=this.tickLayout,s=a=>a.tickId;this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLine.enabled?i:[],void 0,s),this.gridFillGroupSelection.update(this.gridLine.enabled?r:[],void 0,s),this.tickLineGroupSelection.update(n,void 0,s),this.tickLabelGroupSelection.update(o,void 0,s)}updateGridLines(){this.gridLineGroupSelection.each((t,n)=>{t.stroke=n.stroke,t.strokeWidth=n.strokeWidth,t.lineDash=n.lineDash})}updateGridFills(){this.gridFillGroupSelection.each((t,n)=>{t.fill=n.fill,t.fillOpacity=n.fillOpacity??1})}updateTickLines(){this.tickLineGroupSelection.each((t,n)=>{t.stroke=n.stroke,t.strokeWidth=n.strokeWidth,t.lineDash=n.lineDash})}updateTitle(t,n){let{caption:i}=this.title,r=this.titleProps(i,t,n);i.node.visible=r.visible,i.node.text=r.text,i.node.textBaseline=r.textBaseline,i.node.datum=r}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,n)=>{t.fill=n.color,t.text=n.text,t.textBaseline=n.textBaseline,t.textAlign=n.textAlign??"center",t.pointerEvents=n.textUntruncated==null?1:0,t.setFont(n),t.setBoxing(n)})}animateReadyUpdate(t){let{animationManager:n}=this.moduleCtx,i=MF(this),r=DF(i);Bn(this.id,"axis-group",n,[this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],r.group),Bn(this.id,"line",n,[this.lineNode],r.line),Bn(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(o,s)=>s.tickId,t),Bn(this.id,"tick-labels",n,[this.tickLabelGroupSelection],r.label,(o,s)=>s.tickId,t),Bn(this.id,"title",n,[this.title.caption.node],r.label,(o,s)=>s.tickId,t)}resetSelectionNodes(){wi([this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],IF()),wi([this.gridLineGroupSelection,this.tickLineGroupSelection],OC()),wi([this.gridFillGroupSelection],wF()),wi([this.tickLabelGroupSelection],Ax()),wi([this.title.caption.node],Ax()),wi([this.lineNode],OC())}};y([S],y0.prototype,"thickness",2);y([S],y0.prototype,"maxThicknessRatio",2);y([S],y0.prototype,"position",2);var Ng=y0,HF=["top","right","bottom","left"];function aK(e){return typeof e=="string"&&HF.includes(e)}function lK(e){let t=[],n=[],i=[...HF];for(let r of e)r instanceof Ng&&(aK(r.position)?n.push(r.position):t.push(r));for(let r of t){let o;do o=i.pop();while(o&&n.includes(o));if(o==null)break;r.position=o}}var cK=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function uK(e,t,n){let i=(c,u,d)=>{let h=[c];for(let f of cK)f in u&&u[f]!=null&&h.push(`${f}=${u[f]}`);return d?.seriesGrouping&&h.push(`seriesGrouping.groupId=${d?.seriesGrouping.groupId}`),h.join(";")},r=new Map,o=0;for(let c of e){let u=i(c.type,c.properties,n?.[o]);r.has(u)||r.set(u,[]),r.get(u)?.push([c,o++])}let s=new Map;o=0;for(let c of t){let u=i(c.type,c,c);s.has(u)||s.set(u,[]),s.get(u)?.push([c,o++])}if(![...r.keys()].some(c=>s.has(c)))return{status:"no-overlap",oldKeys:r.keys(),newKeys:s.keys()};let l=[];for(let[c,u]of s.entries())for(let[d,h]of u){let f=r.get(c);if(f==null||f.length<1){l.push({opts:d,targetIdx:h,idx:h,status:"add"}),r.delete(c);continue}let[p,m]=f.shift(),b=n?.[m]??{},v=Da(b,d??{}),{groupIndex:x,stackIndex:M}=v?.seriesGrouping??{};x!=null||M!=null?l.push({opts:d,series:p,diff:v,targetIdx:h,idx:m,status:"series-grouping"}):v?l.push({opts:d,series:p,diff:v,targetIdx:h,idx:m,status:"update"}):l.push({opts:d,series:p,targetIdx:h,idx:m,status:"no-op"}),f.length===0&&r.delete(c)}for(let c of r.values())for(let[u,d]of c)l.push({series:u,idx:d,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function v0(e){let{series:t}=e;return t?.[0]?.type??"line"}function UF(e){let t=v0(e);return ni.isCartesian(t)||fq(t)}function dK(e){let t=v0(e);return ni.isPolar(t)||pq(t)}function GF(e){let t=v0(e);return ni.isTopology(t)||gq(t)}function $F(e){let t=v0(e);return ni.isStandalone(t)||mq(t)}var hK=class extends BE{applyOptions(e){for(let t of this.moduleMap.values())t.module.optionsKey in e&&Zc(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(let{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},PC="ag-charts-overlay",jR="ag-charts-dark-overlay",Wc=class extends Te{constructor(e,t){super(),this.className=e,this.defaultMessageId=t,this.enabled=!0}getText(e){return Ie(this.text)?this.text.map(t=>t.text).join(""):e.t(this.text??this.defaultMessageId)}getElement(e,t,n,i){if(this.content?.remove(),this.focusBox=i,this.renderer){let r={},o=Yo(e,this.renderer,r);if(o instanceof HTMLElement)this.content=o;else{let s=fe("div");s.innerHTML=o;let{firstElementChild:a}=s;a instanceof HTMLElement&&s.childElementCount===1?this.content=a:this.content=s}}else{let r=fe("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});if(Ie(this.text)){let o=fe("div");for(let s of this.text){let a=fe("span",{color:s.color,fontSize:`${s.fontSize}px`,fontFamily:s.fontFamily??"inherit",fontWeight:String(s.fontWeight),fontStyle:s.fontStyle});a.innerText=s.text,o.appendChild(a)}r.appendChild(o)}else r.innerText=this.getText(n);this.content=r,t?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(o){r.style.opacity=String(o)},onStop(){r.style.opacity="1"}})}return this.content}removeElement(e=()=>this.content?.remove(),t){if(this.content){if(t){let{content:n}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(i){n.style.opacity=String(i)},onStop(){e?.()}})}else e?.();this.content=void 0,this.focusBox=void 0}}};y([S],Wc.prototype,"enabled",2);y([S],Wc.prototype,"text",2);y([S],Wc.prototype,"renderer",2);var Sh=class extends Te{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Wc("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new Wc("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Wc("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new Wc("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(let t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};y([S],Sh.prototype,"darkTheme",2);y([S],Sh.prototype,"loading",2);y([S],Sh.prototype,"noData",2);y([S],Sh.prototype,"noVisibleSeries",2);y([S],Sh.prototype,"unsupportedBrowser",2);function fK(e,t){let{animationDuration:n}=Jp.add,i=n*t,r=fe("div",`${PC}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${i}ms linear 50ms both`}),o=fe("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),s=fe("p",{marginTop:"1em"});s.innerText=e;let a=fe("div",`${PC}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=fe("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),r.replaceChildren(l,o,s,a),r}var WF=(e=>(e[e.None=0]="None",e[e.Item=1]="Item",e[e.Series=2]="Series",e[e.OtherSeries=3]="OtherSeries",e[e.OtherItem=4]="OtherItem",e))(WF||{}),Aa=class extends Te{};y([S],Aa.prototype,"fill",2);y([S],Aa.prototype,"fillOpacity",2);y([S],Aa.prototype,"stroke",2);y([S],Aa.prototype,"strokeWidth",2);y([S],Aa.prototype,"strokeOpacity",2);y([S],Aa.prototype,"lineDash",2);y([S],Aa.prototype,"lineDashOffset",2);var _a=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.range="tooltip",this.bringToFront=!1,this.highlightedItem={},this.unhighlightedItem={},this.highlightedSeries={},this.unhighlightedSeries={}}getItemHighlightStyle(e){switch(e){case 1:return this.highlightedItem;case 4:return this.unhighlightedItem;case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getSeriesHighlightStyle(e){switch(e){case 1:case 4:case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getStyle(e){return Dt(this.getItemHighlightStyle(e),this.getSeriesHighlightStyle(e))}};y([S],_a.prototype,"enabled",2);y([S],_a.prototype,"range",2);y([S],_a.prototype,"bringToFront",2);y([S],_a.prototype,"highlightedItem",2);y([S],_a.prototype,"unhighlightedItem",2);y([S],_a.prototype,"highlightedSeries",2);y([S],_a.prototype,"unhighlightedSeries",2);var b0=class extends Te{};y([S],b0.prototype,"strokeWidth",2);y([S],b0.prototype,"dimOpacity",2);y([S],b0.prototype,"enabled",2);var YF=class extends Te{constructor(){super(...arguments),this.color="black"}};y([S],YF.prototype,"color",2);var mo=class extends Te{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1}};y([S],mo.prototype,"type",2);y([S],mo.prototype,"colorStops",2);y([S],mo.prototype,"bounds",2);y([S],mo.prototype,"gradient",2);y([S],mo.prototype,"rotation",2);y([S],mo.prototype,"reverse",2);var rn=class extends Te{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.scale=1,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};y([S],rn.prototype,"type",2);y([S],rn.prototype,"colorStops",2);y([S],rn.prototype,"bounds",2);y([S],rn.prototype,"gradient",2);y([S],rn.prototype,"rotation",2);y([S],rn.prototype,"scale",2);y([S],rn.prototype,"reverse",2);y([S],rn.prototype,"path",2);y([S],rn.prototype,"pattern",2);y([S],rn.prototype,"width",2);y([S],rn.prototype,"height",2);y([S],rn.prototype,"padding",2);y([S],rn.prototype,"fill",2);y([S],rn.prototype,"fillOpacity",2);y([S],rn.prototype,"backgroundFill",2);y([S],rn.prototype,"backgroundFillOpacity",2);y([S],rn.prototype,"stroke",2);y([S],rn.prototype,"strokeOpacity",2);y([S],rn.prototype,"strokeWidth",2);var xr=class extends Te{constructor(){super(...arguments),this.type="image",this.url="",this.rotation=0,this.scale=1,this.backgroundFill="black",this.backgroundFillOpacity=1,this.repeat="no-repeat",this.fit="contain"}};y([S],xr.prototype,"type",2);y([S],xr.prototype,"url",2);y([S],xr.prototype,"rotation",2);y([S],xr.prototype,"scale",2);y([S],xr.prototype,"backgroundFill",2);y([S],xr.prototype,"backgroundFillOpacity",2);y([S],xr.prototype,"repeat",2);y([S],xr.prototype,"fit",2);var Og=class extends Te{constructor(e=!0){super(),this.deprecated=e,this.item=new Aa,this.series=new b0,this.text=new YF}set(e){return this.deprecated&&P.warnOnce("highlightStyle is deprecated, use highlight instead."),super.set(e)}};y([S],Og.prototype,"item",2);y([S],Og.prototype,"series",2);y([S],Og.prototype,"text",2);var yo=class extends Te{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new _a,this.highlightStyle=new Og}handleUnknownProperties(e,t){"context"in t&&(this.context=t.context,e.delete("context"))}};y([S],yo.prototype,"id",2);y([S],yo.prototype,"visible",2);y([S],yo.prototype,"focusPriority",2);y([S],yo.prototype,"showInLegend",2);y([S],yo.prototype,"cursor",2);y([S],yo.prototype,"nodeClickRange",2);y([S],yo.prototype,"highlight",2);y([S],yo.prototype,"highlightStyle",2);var ZF=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(ZF||{}),qF=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(qF||{});function eh(e,t,n,i){if(Wo(e))return{type:"gradient",gradient:e.gradient??t.gradient,colorStops:e.colorStops??t.colorStops,bounds:e.bounds??t.bounds,rotation:e.rotation??t.rotation,reverse:e.reverse??t.reverse};if(Dl(e)){let r=e.pattern??n.pattern,o=e.strokeWidth;r==="backward-slanted-lines"||r==="forward-slanted-lines"||r==="horizontal-lines"||r==="vertical-lines"?o??(o=n.strokeWidth):o??(o=0);let s=e.width??e.height??n.width,a=e.height??e.width??n.height;return{type:"pattern",pattern:r,width:s,height:a,path:e.path,padding:e.padding??n.padding,fill:e.fill??n.fill,fillOpacity:e.fillOpacity??n.fillOpacity,backgroundFill:e.backgroundFill??n.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??n.backgroundFillOpacity,stroke:e.stroke??n.stroke,strokeOpacity:e.strokeOpacity??n.strokeOpacity,strokeWidth:o,rotation:e.rotation??n.rotation,scale:e.scale??n.scale}}return eu(e)?{type:"image",url:e.url,width:e.width,height:e.height,backgroundFill:e.backgroundFill??i.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??i.backgroundFillOpacity,rotation:e.rotation??i.rotation,repeat:e.repeat??i.repeat,fit:e.fit??i.fit}:e}function Ns(e,t,n,i){return!Wo(e?.fill)&&!Dl(e?.fill)&&!eu(e?.fill)?e:I(g({},e),{fill:eh(e.fill,t,n,i)})}function KF(e,t,n,i){n==null||!Wo(t)||t.bounds==null||t.bounds==="item"?e.fillBBox=void 0:e.fillBBox=n[t.bounds],e.fillParams=i}function ya(e,t,n,i){let r=t?.opacity??1;e.fill=t?.fill,KF(e,e.fill,n,i),e.fillOpacity=(t?.fillOpacity??1)*r,e.stroke=t?.stroke,e.strokeOpacity=(t?.strokeOpacity??1)*r,e.strokeWidth=t?.strokeWidth??0,e.lineDash=t?.lineDash,e.lineDashOffset=t?.lineDashOffset??0}var QF=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(QF||{}),pK=.25,gK=.125,x0=class{constructor(e,t,n,i){this.type=e,this.event=t,this.defaultPrevented=!1,this.datum=n.datum,this.seriesId=i.id}preventDefault(){this.defaultPrevented=!0}},_x=class{constructor(e,t){this.series=e,this.seriesGrouping=t,this.type="groupingChanged"}};function VR(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}function Gw(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}var S0=class extends d2{constructor(e){super(),this.cleanup=new Be,this.usesPlacedLabels=!1,this.hasChangesOnHighlight=!1,this.seriesGrouping=void 0,this.NodeEvent=x0,this.internalId=In(this),this.contentGroup=new Fi({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new Fi({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new Fi({name:`${this.internalId}-annotation`}),this.labelGroup=new Fi({name:`${this.internalId}-series-labels`}),this.axes={},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new BE,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this.declarationOrder=-1,this._broughtToFront=!1,this.events=new _i,this._pickNodeCache=new yE,this.fireEventWrapper=a=>super.fireEvent(a);let{moduleCtx:t,pickModes:n,propertyKeys:i={},propertyNames:r={},canHaveAxes:o=!1,usesPlacedLabels:s=!1}=e;this.ctx=t,this.propertyKeys=i,this.propertyNames=r,this.canHaveAxes=o,this.usesPlacedLabels=s,this.pickModes=n,this.cleanup.register(this.ctx?.eventsHub.on("highlight:change",a=>this.onChangeHighlight(a)))}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem(e,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){let{internalId:n,type:i,visible:r}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:n,type:i,visible:r,seriesGrouping:t}),this.fireEvent(new _x(this,t))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,n){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),n?.appendChild(this.annotationGroup)}detachSeries(e,t,n){e?.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),n?.removeChild(this.annotationGroup)}setSeriesIndex(e,t=!1){let n=this.bringToFront();return!t&&e===this.declarationOrder&&n===this._broughtToFront?!1:(this.declarationOrder=e,this._broughtToFront=n,this.setZIndex(n?Number.MAX_VALUE:e),this.fireEvent(new _x(this,this.seriesGrouping)),!0)}setZIndex(e){this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}removeEventListener(e,t){return super.removeEventListener(e,t)}hasEventListener(e){return super.hasEventListener(e)}addChartEventListeners(){}updatedDomains(){}destroy(){this.cleanup.flush(),this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getPropertyValues(e,t){let n=VR(e),i=n!=null?Gw(this.resolveKeyDirection(n)):e,r=t?.[i],o=[];if(!r)return o;let s=(...a)=>{for(let l of a)Array.isArray(l)?s(...l):typeof l=="object"?s(...Object.values(l)):o.push(l)};return s(...r.map(a=>this.properties[a])),o}getKeys(e){return this.getPropertyValues(Gw(e),this.propertyKeys)}getKeyProperties(e){return this.propertyKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getPropertyValues(Gw(e),this.propertyNames)}getFormatterContext(e){let{id:t}=this,n=this.getPropertyValues(e,this.propertyKeys),i=this.getPropertyValues(e,this.propertyNames),r=[];for(let o=0;o<n.length;o++)r.push({seriesId:t,key:n[o],name:i[o]});return r}resolveKeyDirection(e){return e}getDomain(e){let t=this.getSeriesDomain(e),n=this.moduleMap.mapModules(i=>i.getDomain(e)).flat();return n.length!==0?t.concat(n):t}getRange(e,t){return this.getSeriesRange(e,t)}getVisibleItems(e,t,n){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){if(!this.properties.highlight)return 1;let{opacity:t=1}=this.getHighlightStyle();return t}getHighlightState(e,t,n,i){if(t)return 1;if(e?.series==null)return 0;if(this.isSeriesHighlighted(e,i)){let r=this.isItemHighlighted(e,n);return r==null||r?2:4}return 3}getHighlightStateString(e,t,n,i){switch(this.getHighlightState(e,t,n,i)){case 1:return"highlighted-item";case 4:return"unhighlighted-item";case 2:return"highlighted-series";case 3:return"unhighlighted-series";case 0:default:return"none"}}onChangeHighlight(e){let t=e.previousHighlight,n=e.currentHighlight,i=this.getHighlightState(n),r=this.getHighlightState(t);if(this.setSeriesIndex(this.declarationOrder),i===r){this.hasChangesOnHighlight=!1;return}let{highlightedSeries:o,unhighlightedItem:s,unhighlightedSeries:a}=this.properties.highlight,l=this.hasItemStylers();this.hasChangesOnHighlight=l||!Ab(o)||!Ab(s)||!Ab(a)}bringToFront(){return this.properties.highlight.bringToFront&&this.isSeriesHighlighted(this.ctx.highlightManager.getActiveHighlight())}isSeriesHighlighted(e,t){return e?.series===this}isItemHighlighted(e,t){if(!(e?.datumIndex==null||t==null))return e.datumIndex===t}getHighlightStyle(e,t,n){let i=this.ctx.highlightManager?.getActiveHighlight(),r=this.getHighlightState(i,e,t,n);return this.properties.highlight.getStyle(r)}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNodes(e,t,n=!1){let{pickModes:i,pickModeAxis:r,visible:o,contentGroup:s}=this;if(!o||!s.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let a=1/0;if(t==="tooltip"||t==="highlight-tooltip"){let{tooltip:h}=this.properties;a=typeof h.range=="number"?h.range:1/0,n||(n=h.range==="exact")}else if(t==="event"||t==="context-menu"){let{nodeClickRange:h}=this.properties;a=typeof h=="number"?h:1/0,n||(n=h==="exact")}let l=i.filter(h=>!n||h===0),{x:c,y:u}=e,d=JSON.stringify({x:c,y:u,maxDistance:a,selectedPickModes:l});if(this._pickNodeCache.has(d))return this._pickNodeCache.get(d);for(let h of l){let f;switch(h){case 0:{let p=this.pickNodesExactShape(e);f=p.length===0?void 0:{datums:p,distance:0};break}case 1:{let p=this.pickNodeClosestDatum(e),m=p?.distance===0?this.pickNodesExactShape(e):void 0;m!=null&&m.length!==0?f={datums:m,distance:0}:p?f={datums:[p.datum],distance:p.distance}:f=void 0;break}case 2:{let p=r!=null?this.pickNodeMainAxisFirst(e,r==="main-category"):void 0;f=p!=null?{datums:[p.datum],distance:p.distance}:void 0;break}}if(f&&f.distance<=a)return this._pickNodeCache.set(d,{pickMode:h,datums:f.datums,distance:f.distance})}return this._pickNodeCache.set(d,void 0)}pickNodesExactShape(e){let t=[];for(let n of this.contentGroup.pickNodes(e.x,e.y)){let i=n.closestDatum();i!=null&&i.missing!==!0&&t.push(i)}return t}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){let n=Zx(e.x,e.y,t),i=n.nearest?.closestDatum();if(i!=null&&i.missing!==!0)return{datum:i,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireEvent(e){Yo([this.properties,this.ctx.chartService],this.fireEventWrapper,e)}fireNodeClickEvent(e,t){let n=new this.NodeEvent("seriesNodeClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}fireNodeDoubleClickEvent(e,t){let n=new this.NodeEvent("seriesNodeDoubleClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){let{visible:n=!0,itemId:i,legendItemName:r}=t??{};this.toggleSeriesItem(n,e,i,r)}onLegendItemClick(e){let{enabled:t,itemId:n,series:i,legendType:r}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,s="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,a=o!=null&&o===e.legendItemName;(i.id===this.id||a||s!=null)&&this.toggleSeriesItem(t,r,n,o,e)}onLegendItemDoubleClick(e){let{enabled:t,itemId:n,series:i,numVisibleItems:r,legendType:o}=e,s="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=s!=null&&s===e.legendItemName;i.id===this.id||l||a!=null?this.toggleSeriesItem(!0,o,n,s,e):t&&r===1?this.toggleSeriesItem(!0,o,void 0,s):this.toggleSeriesItem(!1,o,void 0,s)}toggleSeriesItem(e,t,n,i,r){let o=this.id;(e||t!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();let s={type:"seriesVisibilityChange",seriesId:o,itemId:n,legendItemName:r?.legendItemName??i,visible:e};this.fireEvent(s),this.ctx.legendManager.toggleItem(e,o,n,i)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return I(g({},this.ctx),{series:this})}getAxisValueText(e,t,n,i,r,o){let{id:s,properties:a}=this;return e.formatDatum(a,n,t,s,o,i,r)}getLabelText(e,t,n,i,r,o,s){if(e==null)return"";let{axes:a,canHaveAxes:l,ctx:c,id:u,properties:d}=this,h="series-label",f="legendItemName"in d?d.legendItemName:void 0,p=g({seriesId:this.id},s),m=l?VR(i):void 0,b=m!=null?a[this.resolveKeyDirection(m)]:void 0;if(b!=null)return b.formatDatum(d,e,h,u,f,t,n,r,o,p);let{formatManager:v}=c,x=this.callWithContext.bind(this),M=w=>o.formatValue(x,w.type,w.value,p)??v.format(x,w)??String(e),D=this.getFormatterContext(i);switch(i){case"y":case"color":case"size":return M({type:"number",value:e,datum:t,seriesId:u,legendItemName:f,key:n,source:h,property:i,domain:r,boundSeries:D,fractionDigits:void 0});case"x":case"radius":case"angle":case"label":case"secondaryLabel":case"calloutLabel":case"sectorLabel":case"legendItem":return M({type:"category",value:e,datum:t,seriesId:u,legendItemName:f,key:n,source:h,property:i,domain:r,boundSeries:D})}}getMarkerStyle(e,{datumIndex:t,datum:n,point:i},r,o=!1,s={size:i?.size??e.size??0},a,l=!0){let{itemStyler:c,fillGradientDefaults:u,fillPatternDefaults:d,fillImageDefaults:h}=e,f=l?this.getHighlightStyle(o,t):void 0,p=Dt(f,s,e.getStyle(),a),m=Ns(p,u,d,h);if(c&&r){let b=this.ctx.highlightManager?.getActiveHighlight(),v=this.getHighlightStateString(b,o,t),x=this.cachedCallWithContext(c,I(g(g({seriesId:this.id},m),r),{highlighted:o,highlightState:v,datum:n}));m=Ns(Dt(x,m),u,d,h)}return m}applyMarkerStyle(e,t,n,i,{applyTranslation:r=!0,selected:o=!0}={}){let{shape:s,size:a=0}=e,l=this.visible&&a>0&&n&&!isNaN(n.x)&&!isNaN(n.y);if(ya(t,e,i),r?t.setProperties({visible:l,shape:s,size:a,x:n?.x,y:n?.y,scalingCenterX:n?.x,scalingCenterY:n?.y}):t.setProperties({visible:l,shape:s,size:a}),o||(t.fillOpacity*=pK,t.strokeOpacity*=gK),typeof s=="function"&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();let c=t.getBBox();if(n!=null&&c.isFinite()){let u=c.computeCenter(),[d,h]=["x","y"].map(f=>(e.strokeWidth??0)+Math.abs(u[f]-n[f]));n.focusSize=Math.max(c.width+d,c.height+h)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){let{width:t,height:n}=e??{width:NaN,height:NaN},i=e?{seriesRectWidth:t,seriesRectHeight:n}:void 0,r=Da(this.nodeDataDependencies,i)!=null;return r&&(this._nodeDataDependencies=i,this.markNodeDataDirty()),r}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){let{datumCallbackCache:n}=this,i=n.get(e);if(i!=null)return i;try{let r=t();return n.set(e,r),r}catch(r){P.error(String(r))}}cachedCallWithContext(e,...t){return this.ctx.callbackCache.call([this.properties,this.ctx.chartService],e,...t)}callWithContext(e,...t){return Yo([this.properties,this.ctx.chartService],e,...t)}formatTooltipWithContext(e,t,n){return e.formatTooltip([this.properties,this.ctx.chartService],t,n)}minTimeInterval(){}};y([Vi({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],S0.prototype,"seriesGrouping",2);var mK=class{constructor(e){this.swapChain=e,this.hasBeenActivated=!1,this.div=fe("div"),this.svg=St("svg"),this.outerPath=St("path"),this.innerPath=St("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=fe("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",t=>this.onSwap(t))}clear(){}update(e,t,n){if(t!=null)if(e instanceof ir){let i=(o,s)=>{let{x:a,y:l}=gn.toCanvasPoint(e,o,s);return a-=t.x??0,l-=t.y??0,{x:a,y:l}},r=e.svgPathData(i);this.outerPath.setAttribute("d",r),this.innerPath.setAttribute("d",r),this.show(this.svg)}else{let i;if(n){let r=Math.max(e.x-t.x,0),o=Math.max(e.y-t.y,0),s=Math.min(e.x+e.width-t.x,t.width),a=Math.min(e.y+e.height-t.y,t.height);i=new re(r,o,s-r,a-o)}else i=new re(e.x-t.x,e.y-t.y,e.width,e.height);Mx(this.div,i),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;let t={true:"1",false:"0",undefined:""};this.element.parentElement?.style.setProperty("opacity",t[`${e}`])}isFocusVisible(e=!1){if(!e&&!this.hasBeenActivated)return!1;let t=this.element.parentElement;return t!=null&&Ce().getComputedStyle(t).opacity==="1"}},yK=class{constructor(e,t,n,i){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=r=>(hr(r.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",r)),this.onFocus=r=>(hr(r.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",r)),Ee(this.label1,"id",_c()),Ee(this.label2,"id",_c()),hr(this.label1,"display","none"),hr(this.label2,"display","none"),this.label1.textContent=i,this.label2.textContent=i,this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),Ee(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap(i)}createAnnouncer(e){let t=fe("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(let e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){this.listeners[e].push(t),e==="swap"&&t(this.activeAnnouncer)}dispatch(e,t){e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),this.listeners[e].forEach(n=>n(t))}swap(e){let t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],ol(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),ol(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},vK={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function bK(e,t){for(let n of t)if("code"in n){if(n.code===e.code)return!0}else if(n.key===e.key&&(n.shift===void 0||n.shift===e.shiftKey)&&(n.ctrlOrMeta===void 0||n.ctrlOrMeta===e.ctrlKey||n.ctrlOrMeta===e.metaKey))return!0;return!1}function xK(e){for(let[t,{activatesFocusIndicator:n=!0,bindings:i}]of di(vK))if(bK(e,i))return{name:t,activatesFocusIndicator:n}}function SK(e,t,n){let i=_E(e,n.datum,n.movedBounds);if(i!=null)return{x:i.canvasX,y:i.canvasY};let r=n.bounds;if(r!=null){if(r instanceof re){let{x:o,y:s}=r.computeCenter();return{x:t.x+o,y:t.y+s}}return gn.toCanvas(r).computeCenter()}}function MK({bounds:e}){return e instanceof re?e:e!=null?gn.toCanvas(e):re.NaN}function DK(e,t,n){let{x:i,y:r}=SK(e,t,n)??{};if(i!==void 0&&r!==void 0)return{type:"keyboard",canvasX:i,canvasY:r}}function XF(e,t,n,i){let{top:r,right:o,bottom:s,left:a,width:l,height:c}=i;return a!=null?l!=null?o=n.width-a+l:o!=null&&(l=n.width-a-o):o!=null&&l!=null&&(a=n.width-o-l),r!=null?c!=null?s=n.height-r-c:s!=null&&(c=n.height-s-r):s!=null&&c!=null&&(r=n.height-s-c),l==null?c==null?(c=t,l=e):l=Math.ceil(e*c/t):c??(c=Math.ceil(t*l/e)),a==null&&(o==null?a=Math.floor((n.width-l)/2):a=n.width-o-l),r==null&&(s==null?r=Math.floor((n.height-c)/2):r=n.height-c-s),{x:a,y:r,width:l,height:c}}var BR=.1,zR=200,HR=12,IK=.5,wK=class{constructor(){this.events=new _i,this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle??(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;let{x1:e,y1:t,t0:n}=this,i=Date.now(),r=i-n;this.t0=i;let o=.001,s=Math.ceil(r/(o*1e3))|0,{x:a,y:l,vx:c,vy:u}=this;for(let d=0;d<s;d+=1){let h=a-e,f=l-t,p=-(zR*h+HR*c)/BR,m=-(zR*f+HR*u)/BR;c+=p*o,u+=m*o,a+=c*o,l+=u*o}Math.hypot(a-e,l-t)<IK?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=a,this.y=l,this.vx=c,this.vy=u,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.events.emit("update",{x:this.x,y:this.y})}},$b=null;function Gp(e){return e===""?"":($b??($b=fe("div")),$b.textContent=String(e),$b.innerHTML.replace(/\n/g,"<br>"))}function Pp(e,t){let{path:n,size:i}=e,{x:r,y:o}=e;n.clear();let s=!1;for(let[a,l]of t){let c=r+(a-.5)*i,u=o+(l-.5)*i;s?n.lineTo(c,u):n.moveTo(c,u),s=!0}n.closePath()}var CK={circle({path:e,x:t,y:n,size:i}){let r=i/2;e.arc(t,n,r,0,Math.PI*2),e.closePath()},cross(e){Pp(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){Pp(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:e,x:t,y:n,size:i}){let r=i/4;n=n+r/2,e.arc(t-r,n-r,r,Ci(130),Ci(330)),e.arc(t+r,n-r,r,Ci(220),Ci(50)),e.lineTo(t,n+r),e.closePath()},pin({path:e,x:t,y:n,size:i}){e.moveTo(t+(.15625-.5)*i,n+(.34375-.5)*i),e.cubicCurveTo(t+(.15625-.5)*i,n+(.151491-.5)*i,t+(.307741-.5)*i,n+(0-.5)*i,t+(.5-.5)*i,n+(0-.5)*i),e.cubicCurveTo(t+(.692259-.5)*i,n+(0-.5)*i,t+(.84375-.5)*i,n+(.151491-.5)*i,t+(.84375-.5)*i,n+(.34375-.5)*i),e.cubicCurveTo(t+(.84375-.5)*i,n+(.493824-.5)*i,t+(.784625-.5)*i,n+(.600181-.5)*i,t+(.716461-.5)*i,n+(.695393-.5)*i),e.cubicCurveTo(t+(.699009-.5)*i,n+(.719769-.5)*i,t+(.681271-.5)*i,n+(.743104-.5)*i,t+(.663785-.5)*i,n+(.766105-.5)*i),e.cubicCurveTo(t+(.611893-.5)*i,n+(.834367-.5)*i,t+(.562228-.5)*i,n+(.899699-.5)*i,t+(.528896-.5)*i,n+(.980648-.5)*i),e.cubicCurveTo(t+(.524075-.5)*i,n+(.992358-.5)*i,t+(.512663-.5)*i,n+(1-.5)*i,t+(.5-.5)*i,n+(1-.5)*i),e.cubicCurveTo(t+(.487337-.5)*i,n+(1-.5)*i,t+(.475925-.5)*i,n+(.992358-.5)*i,t+(.471104-.5)*i,n+(.980648-.5)*i),e.cubicCurveTo(t+(.487337-.5)*i,n+(1-.5)*i,t+(.475925-.5)*i,n+(.992358-.5)*i,t+(.471104-.5)*i,n+(.980648-.5)*i),e.cubicCurveTo(t+(.437772-.5)*i,n+(.899699-.5)*i,t+(.388107-.5)*i,n+(.834367-.5)*i,t+(.336215-.5)*i,n+(.766105-.5)*i),e.cubicCurveTo(t+(.318729-.5)*i,n+(.743104-.5)*i,t+(.300991-.5)*i,n+(.719769-.5)*i,t+(.283539-.5)*i,n+(.695393-.5)*i),e.cubicCurveTo(t+(.215375-.5)*i,n+(.600181-.5)*i,t+(.15625-.5)*i,n+(.493824-.5)*i,t+(.15625-.5)*i,n+(.34375-.5)*i),e.closePath()},plus(e){Pp(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:e,x:t,y:n,size:i,pixelRatio:r}){let o=i/2;e.moveTo(ti(r,t-o),ti(r,n-o)),e.lineTo(ti(r,t+o),ti(r,n-o)),e.lineTo(ti(r,t+o),ti(r,n+o)),e.lineTo(ti(r,t-o),ti(r,n+o)),e.closePath()},star({path:e,x:t,y:n,size:i}){let o=i/2,s=o/2,a=Math.PI/2;for(let l=0;l<10;l++){let c=l%2===0?o:s,u=l*Math.PI/5-a,d=t+Math.cos(u)*c,h=n+Math.sin(u)*c;e.lineTo(d,h)}e.closePath()},triangle(e){Pp(e,[[.5,0],[1,.87],[0,.87]])}},Lg=class extends ir{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}isPointInPath(e,t){return this.distanceSquared(e,t)<=0}distanceSquared(e,t){let n=Hn.anchor(this.shape);return Math.max(Math.hypot(e-this.x+(n.x-.5)*this.size,t-this.y+(n.y-.5)*this.size)-this.size/2,0)}updatePath(){let{path:e,shape:t,x:n,y:i,size:r}=this,o=this.layerManager?.canvas?.pixelRatio??1,s=Hn.anchor(t),a={path:e,x:n-(s.x-.5)*r,y:i-(s.y-.5)*r,size:r,pixelRatio:o};e.clear(),typeof t=="string"?CK[t](a):typeof t=="function"&&t(a)}computeBBox(){let{x:e,y:t,size:n}=this,i=Hn.anchor(this.shape);return new re(e-n*i.x,t-n*i.y,n,n)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};y([Ur({equals:mh})],Lg.prototype,"shape",2);y([Y()],Lg.prototype,"x",2);y([Y()],Lg.prototype,"y",2);y([Y({convertor:Math.abs})],Lg.prototype,"size",2);var Hn=class extends vh(pE(bh(Lg))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),e?.shape!=null&&(this.shape=e.shape)}};function JF(e,t,n=t*(5/3)){let i=new Ve,r=Math.min(e.marker.strokeWidth??1,2),o=Math.min(e.line?.strokeWidth??0,2),s=Math.max(e.marker.enabled===!1?0:t,e.line==null?0:n),a=Math.max(e.marker.enabled===!1?0:t,o);if(e.line!=null){let{stroke:l,strokeOpacity:c,lineDash:u}=e.line,d=new co;d.x1=0,d.y1=a/2,d.x2=s,d.y2=a/2,d.stroke=l,d.strokeOpacity=c,d.strokeWidth=o,d.lineDash=u,i.append(d)}if(e.marker.enabled!==!1){let{shape:l,fill:c,fillOpacity:u,stroke:d,strokeOpacity:h,lineDash:f,lineDashOffset:p}=e.marker,m=new Hn;m.shape=l??"square",m.size=t,m.fill=c,m.fillOpacity=u??1,m.stroke=d,m.strokeOpacity=h??1,m.strokeWidth=r,m.lineDash=f,m.lineDashOffset=p??0;let b=Hn.anchor(l),v=s/2+(b.x-.5)*t,x=a/2+(b.y-.5)*t,M=t/(t+r);m.x=v,m.y=x,m.scalingCenterX=v,m.scalingCenterY=x,m.scalingX=M,m.scalingY=M,i.append(m)}return Ve.toSVG(i,s,a)}var fi="ag-charts-tooltip",ej="ag-charts-tooltip--dark";function tj(e){let t=[],n=new Map;for(let i of e)if(i.type==="structured"){let{heading:r}=i,o=r!=null?n.get(r):void 0,s={type:"structured",heading:r,items:[i]};o==null?(n.set(r,s),t.push(s)):o.items.push(i)}else t.push(i);return t}function nj(e){let t=tj(e),n=[];return t.forEach(i=>{if(i.type==="raw")return"";i.heading!=null&&n.push(i.heading),i.items.forEach(r=>{r.title!=null&&n.push(r.title),r.data?.forEach(o=>{n.push(o.label??o.fallbackLabel,o.value)})})}),n.join("; ")}function FC(e,t,n){let i="";e==null?i+=`<span class="${fi}-label">${Gp(t)}</span>`:(i+=`<span class="${fi}-label">${Gp(e)}</span>`,i+=" ",i+=`<span class="${fi}-value">${Gp(t)}</span>`);let r=[`${fi}-row`];return n&&r.push(`${fi}-row--inline`),i=`<div class="${r.join(" ")}">${i}</div>`,i}function EK(e){let t="";if(e.data?.length&&e.data.every(r=>r.value==null||r.value===""))return t;let n=e.title==null&&e.data?.length===1,i=e.symbol==null?void 0:JF(e.symbol,12);return i!=null&&(e.title!=null||e.data?.length)&&(t+=`<span class="${fi}-symbol">${i}</span>`),e.title!=null&&(t+=`<span class="${fi}-title">${Gp(e.title)}</span>`,t+=" "),e.data?.forEach(r=>{t+=FC(r.label??r.fallbackLabel,r.value,n),t+=" "}),t}function ij(e,t){if(e==null||t.length===1)return;let n=e?.t("tooltipPaginationStatus",{index:t.index+1,count:t.length});return`<div class="${fi}-footer">${n}</div>`}function UR(e,t,n,i){let r=t.items.length===1?t.items[0]:void 0,o,s,a;switch(n){case"compact":o=!0,s=r?.title;break;case"single":o=r!=null&&(t.heading==null||r.title==null)&&r.data?.length===1&&r.data[0].label==null&&r.data[0].value!=null,a=t.heading??r?.title;break;case"shared":o=!1}let l="";if(o&&r!=null?(s!=null&&(l+=FC(void 0,s,!1)),r.data?.forEach(u=>{l+=FC(u.label??a,u.value,!1),l+=" "})):(t.heading!=null&&(l+=`<span class="${fi}-heading">${Gp(t.heading)}</span>`,l+=" "),t.items.forEach(u=>{l+=EK(u)})),l.length===0)return;let c=n!=="compact"&&i!=null?ij(e,i):void 0;return c+null&&(l+=c),l=`<div class="${fi}-content">${l.trimEnd()}</div>`,l}function TK(e,t){let n=t==null?void 0:ij(e,t);return n==null?"":`<div class="${fi}-content">${n}</div>`}function rj(e,t,n,i){let r=tj(t);if(r.length!==0){if(r.length===1&&r[0].type==="structured")return UR(e,r[0],n,i);{let o=r.map(s=>s.type==="structured"?UR(e,s,n):s.rawHtmlString);return i!=null&&o.push(TK(e,i)??""),o.join("")}}}var AK={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},_K={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},kK={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},GR={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0},NK={pointer:"top",node:"top",chart:"top-left"},cu=class extends Te{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}};y([S],cu.prototype,"xOffset",2);y([S],cu.prototype,"yOffset",2);y([S],cu.prototype,"anchorTo",2);y([S],cu.prototype,"placement",2);var vo=class extends Te{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new cu,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.cleanup=new Be,this.springAnimation=new wK,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new C2,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.cleanup.register(this.springAnimation.events.on("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(e,t){return"togglePopover"in Ce().HTMLElement.prototype&&(this.element=t.addChild("tooltip-container",fi),this.element.setAttribute("popover","manual"),this.element.className=fi,this.element.style.positionAnchor=t.anchorName,this.sizeMonitor.observe(this.element,n=>{this._elementSize=n,this.updateTooltipPosition()})),this.localeManager=e,()=>{t.removeChild("tooltip-container",fi),this.cleanup.flush(),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(e){return this.element?.contains(e)??!1}updateTooltipPosition(){let{element:e,_elementSize:t,positionParams:n}=this;if(e==null||t==null||n==null)return;let{canvasRect:i,relativeRect:r,meta:o}=n,{x:s,y:a}=this.springAnimation,l=o.position?.anchorTo??"pointer",c=o.position?.placement??NK[l];Array.isArray(c)||(c=[c]);let u=o.position?.xOffset??0,d=o.position?.yOffset??0,h=r.x,f=r.y,p=r.width-t.width-1+h,m=r.height-t.height+f,b=0,v,x,M=!1;do{v=c[b],b+=1;let _=this.getTooltipBounds({elementSize:t,placement:v,anchorTo:l,canvasX:s,canvasY:a,yOffset:d,xOffset:u,canvasRect:i});x=XF(t.width,t.height,r,_),M=!1,GR[v]&1&&(M||(M=x.x<h||x.x>p)),GR[v]&2&&(M||(M=x.y<f||x.y>m))}while(b<c.length&&M);let D=se(h,x.x,p),w=se(f,x.y,m);M||(M=D!==x.x||w!==x.y);let E=l!=="chart"&&!M&&!u&&!d,C=o.showArrow??this.showArrow??E;this.arrowPosition=C?kK[v]:void 0,this.updateClassModifiers(),e.style.translate=`${D}px ${w}px`}show(e,t,n,i,r,o=!1){let{element:s}=this;if(s!=null&&i!=null&&i.length!==0){let c=rj(this.localeManager,i,this.mode,this.pagination?r:void 0);if(c==null){this.toggle(!1);return}s.innerHTML=c}else if(s==null||s.innerHTML===""){this.toggle(!1);return}let a={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height};switch(this.positionParams={canvasRect:t,relativeRect:a,meta:n},n.position?.anchorTo??"pointer"){case"node":this.springAnimation.update(n.nodeCanvasX??n.canvasX,n.nodeCanvasY??n.canvasY);break;case"pointer":this.springAnimation.update(n.canvasX,n.canvasY);break;case"chart":this.springAnimation.reset()}n.enableInteraction?(this.enableInteraction=!0,s.style.pointerEvents="auto",s.removeAttribute("aria-hidden"),s.tabIndex=-1):(this.enableInteraction=!1,s.style.pointerEvents="none",s.setAttribute("aria-hidden","true"),s.removeAttribute("tabindex")),s.style.setProperty("--top",`${t.top}px`),s.style.setProperty("--left",`${t.left}px`),this.updateClassModifiers(),this.toggle(!0,o)}hide(){this.toggle(!1)}maybeEnterInteractiveTooltip({relatedTarget:e},t){let{interactive:n,interactiveLeave:i,enabled:r,element:o}=this;if(o==null)return!1;if(i)return!0;let s=n&&r&&this.isVisible()&&e instanceof Node&&this.contains(e);return s&&(this.interactiveLeave={callback:t,listener:a=>{(a.relatedTarget==null||a.relatedTarget instanceof Node&&!this.contains(a.relatedTarget))&&this.popInteractiveLeaveCallback()}},o.addEventListener("focusout",this.interactiveLeave.listener),o.addEventListener("mouseout",this.interactiveLeave.listener)),s}popInteractiveLeaveCallback(){let{interactiveLeave:e,element:t}=this;this.interactiveLeave=void 0,e&&(t&&(t.removeEventListener("focusout",e.listener),t.removeEventListener("mouseout",e.listener)),e.callback())}toggle(e,t=!1){let{delay:n}=this;e&&n>0&&!t?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},n)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(e))}toggleCallback(e){this.element?.isConnected&&this._visible!==e&&(this._visible=e,this.element.togglePopover(e),e?this.updateTooltipPosition():(this.springAnimation.reset(),this.popInteractiveLeaveCallback()))}updateClassModifiers(){if(!this.element?.isConnected)return;let{classList:e}=this.element,t=(n,i)=>e.toggle(`${fi}--${n}`,i);t("no-interaction",!this.enableInteraction),t("arrow-top",this.arrowPosition===1),t("arrow-right",this.arrowPosition===3),t("arrow-bottom",this.arrowPosition===2),t("arrow-left",this.arrowPosition===0),t("compact",this.mode==="compact"),e.toggle(ej,this.darkTheme);for(let n of this.wrapTypes)e.toggle(`${fi}--wrap-${n}`,n===this.wrapping)}getTooltipBounds(e){let{elementSize:t,anchorTo:n,placement:i,canvasX:r,canvasY:o,yOffset:s,xOffset:a,canvasRect:l}=e,{width:c,height:u}=t,d={width:c,height:u};if(n==="node"||n==="pointer"){let h=AK[i],f=_K[i];return d.top=o+s+u*(f-1)/2+8*f,d.left=r+a+c*(h-1)/2+8*h,d}switch(i){case"top":return d.top=s,d.left=l.width/2-c/2+a,d;case"right":return d.top=l.height/2-u/2+s,d.left=l.width-c/2+a,d;case"left":return d.top=l.height/2-u/2+s,d.left=a,d;case"bottom":return d.top=l.height-u+s,d.left=l.width/2-c/2+a,d;case"top-left":return d.top=s,d.left=a,d;case"top-right":return d.top=s,d.left=l.width-c+a,d;case"bottom-right":return d.top=l.height-u+s,d.left=l.width-c+a,d;case"bottom-left":return d.top=l.height-u+s,d.left=a,d}return d}};y([S],vo.prototype,"enabled",2);y([S],vo.prototype,"mode",2);y([S],vo.prototype,"showArrow",2);y([S],vo.prototype,"delay",2);y([S],vo.prototype,"range",2);y([S],vo.prototype,"wrapping",2);y([S],vo.prototype,"position",2);y([S],vo.prototype,"pagination",2);y([S],vo.prototype,"darkTheme",2);y([S],vo.prototype,"bounds",2);function jC(e,t){return e.series===t.series&&Un(e.datumIndex,t.datumIndex)}var OK=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(e,t){this.candidates=e;let n=t!=null?e.findIndex(i=>jC(i,t)):-1;return n===-1&&(n=0),this.active=e[n],{current:this.active,index:n,length:e.length}}next(){let{candidates:e,active:t}=this,n=t==null?-1:e.findIndex(r=>jC(r,t));if(n===-1)return;let i=n+1;return i>=e.length&&(i=0),this.active=e[i],{current:this.active,index:i,length:this.candidates.length}}},LK=class extends SE{constructor(e){super(),this.chart=e,this.id=In(this),this.series=[],this.announceMode="when-changed",this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.cachedTooltipContent=void 0,this.hoverScheduler=q8(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=5){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}}),this.tooltipCandidates=new OK;let t=e.ctx.localeManager.t("ariaInitSeriesArea"),n=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new yK(n,i,"img",t),this.swapChain.addListener("blur",a=>this.onBlur(a)),this.swapChain.addListener("focus",()=>this.onFocus()),e.ctx.domManager.mode==="normal"&&(this.focusIndicator=new mK(this.swapChain),this.focusIndicator.overrideFocusVisible(e.mode==="integrated"?!1:void 0));let{seriesDragInterpreter:r,seriesWidget:o,containerWidget:s}=e.ctx.widgets;o.setTabIndex(-1),this.cleanup.register(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),o.addListener("focus",()=>this.swapChain.focus({preventScroll:!0})),o.addListener("mousemove",a=>this.onHover(a,o)),o.addListener("wheel",a=>this.onWheel(a)),o.addListener("mouseleave",a=>this.onLeave(a)),o.addListener("keydown",a=>this.onKeyDown(a)),o.addListener("contextmenu",(a,l)=>this.onContextMenu(a,l)),s.addListener("contextmenu",(a,l)=>this.onContextMenu(a,l)),s.addListener("click",(a,l)=>this.onClick(a,l)),s.addListener("dblclick",(a,l)=>this.onClick(a,l)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.eventsHub.on("dom:resize",()=>this.clearAll()),e.ctx.eventsHub.on("highlight:change",a=>this.changeHighlightDatum(a)),e.ctx.eventsHub.on("layout:complete",a=>this.layoutComplete(a)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.eventsHub.on("zoom:change",()=>this.clearAll()),e.ctx.eventsHub.on("zoom:pan-start",()=>this.clearAll())),r&&this.cleanup.register(r.events.on("drag-move",a=>this.onDragMove(a,o)),r.events.on("click",a=>this.onClick(a,o)),r.events.on("dblclick",a=>this.onClick(a,o)))}get bbox(){return(this.seriesRect??re.zero).clone()}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return!(e.device!=="touch"||e.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var e;this.cachedTooltipContent=void 0,this.highlight.appliedHoverEvent&&((e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.clearHighlight()),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator?.clear()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.isState(34)&&this.focusIndicator?.isFocusVisible()&&(this.announceMode!=="always"&&(this.announceMode="never"),this.handleFocus(0,0))}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,n)=>{let i=t.properties.focusPriority??1/0,r=n.properties.focusPriority??1/0;return i===r&&([i,r]=[t.declarationOrder,n.declarationOrder]),i<r?-1:i>r?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.rect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.rect),this.chart.ctx.domManager.mode==="normal"&&this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){let{sourceEvent:n}=e;if(n.currentTarget!=t.getElement())return;if(n.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){let{currentX:l,currentY:c}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("always",{widgetEvent:e,canvasX:l,canvasY:c},void 0)}return}let i,r;if(this.focusIndicator?.isFocusVisible())i=this.chart.ctx.highlightManager.getActiveHighlight(),i&&this.seriesRect&&i.midPoint&&(r=gn.toCanvasPoint(i.series.contentGroup,i.midPoint.x,i.midPoint.y));else if(this.isState(36)){let l=this.pickNodes({x:e.currentX,y:e.currentY},"context-menu");l&&(this.chart.ctx.highlightManager.updateHighlight(this.id),i=l.matches[0].datum)}let o=i?.series;this.clearAll();let s=e.currentX+t.cssLeft(),a=e.currentY+t.cssTop();o&&i?this.chart.ctx.contextMenuRegistry.dispatchContext("series-node",{widgetEvent:e,canvasX:s,canvasY:a},{pickedSeries:o,pickedNode:i},r):this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{widgetEvent:e,canvasX:s,canvasY:a},void 0,r)}onLeave(e){!this.isState(41)||e.sourceEvent.relatedTarget?.className==="ag-charts-text-input__textarea"||this.maybeEnterInteractiveTooltip(e.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),this.hoverDevice!=="keyboard"&&this.clearAll())}onWheel(e){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e,t){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t))}onHover(e,t){this.isState(41)&&this.onHoverLikeEvent(e,t)}onHoverLikeEvent(e,t){if(!this.isIgnoredTouch(e)&&(e.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&e.sourceEvent.preventDefault(),t===this.chart.ctx.widgets.seriesWidget&&((e.device==="touch"||RK(e,"drag-move"))&&(this.tooltip.lastHover=e),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32)))){let{currentX:n,currentY:i}=e,r=this.pickNodes({x:n,y:i},"event")?.matches,o=r?.[0];o?.series.hasEventListener("seriesNodeClick")||o?.series.hasEventListener("seriesNodeDoubleClick")||r!=null&&r.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){if(e.device==="keyboard"||(t===this.chart.ctx.widgets.seriesWidget&&this.chart.ctx.animationManager.isActive()&&this.chart.ctx.animationManager.skipCurrentBatch(),e.device==="touch"&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41)))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e)){this.update(5),e.sourceEvent.preventDefault();return}let n={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(n)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator?.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(e){this.isState(34)&&(this.hoverDevice="pointer",this.maybeEnterInteractiveTooltip(e)||this.clearAll(),this.focusIndicator?.overrideFocusVisible(void 0))}onKeyDown(e){if(!this.isState(43))return;let t=xK(e.sourceEvent);switch(t?.activatesFocusIndicator===!1&&this.focusIndicator?.overrideFocusVisible(this.previousInputDevice==="keyboard"),t?.name){case"redo":return this.chart.ctx.eventsHub.emit("series:redo",null);case"undo":return this.chart.ctx.eventsHub.emit("series:undo",null);case"zoomin":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:1,widgetEvent:e});case"zoomout":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:-1,widgetEvent:e});case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,n){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator?.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),n.sourceEvent.preventDefault(),this.chart.ctx.eventsHub.emit("series:focus-change",null))}onSubmit(e){if(!this.isState(34))return;let{series:t,datum:n}=this.focus,i=e.sourceEvent;t!=null&&n!=null?t.fireNodeClickEvent(i,n):this.chart.fireEvent({type:"click",event:i}),i.preventDefault()}checkSeriesNodeClick(e){var t;let n=this.pickNodes({x:e.currentX,y:e.currentY},"event");if(n==null||n.matches.length===0)return;let i=this.chart.tooltip.pagination?this.tooltipCandidates.update(n.matches,this.tooltipCandidates.current)?.current:void 0,{series:r,datum:o}=i??n.matches[0],s=i==null?n.distance:0;if(e.type==="click"){let l=r.fireNodeClickEvent(e.sourceEvent,o)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(l!=null){e.sourceEvent.preventDefault();let{currentX:c,currentY:u}=e,d=c+(this.hoverRect?.x??0),h=u+(this.hoverRect?.y??0);(t=this.highlight).pendingHoverEvent??(t.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(l.current,d,h,{index:l.index,length:l.length})}return!0}return e.type==="dblclick"?(e.preventZoomDblClick=s===0,r.fireNodeDoubleClickEvent(e.sourceEvent,o),!0):!1}handleFocus(e,t){let n=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);n==null?this.handleSeriesFocus(e,t)===0?this.announceMode="when-changed":this.announceMode="always":(this.focusIndicator?.update(n.rect,this.seriesRect,!1),this.swapChain.update(n.text),this.announceMode="always")}handleSeriesFocus(e,t){if(this.chart.chartType==="standalone")return this.handleSoloSeriesFocus(e,t);let{focus:n}=this,i=n.sortedSeries.filter(l=>l.visible&&l.focusable);if(i.length===0)return 1;let r=n.datumIndex-t,o=n.seriesIndex-e;n.seriesIndex=se(0,n.seriesIndex,i.length-1),n.series=i[n.seriesIndex];let s=this.focus.datumIndex,a=this.focus.seriesIndex;return this.updatePickedFocus(s,t,r,a,e,o)}handleSoloSeriesFocus(e,t){this.focus.series=this.focus.sortedSeries[0];let n=this.focus.datumIndex,i=this.focus.seriesIndex,r=this.focus.datumIndex-t,o=this.focus.seriesIndex-e;return this.updatePickedFocus(n,t,r,i,e,o)}updatePickedFocus(e,t,n,i,r,o){let{focus:s,hoverRect:a,seriesRect:l}=this;if(s.series==null||a==null)return 1;let c=s?.series?.pickFocus({datumIndex:e,datumIndexDelta:t,otherIndex:i,otherIndexDelta:r,seriesRect:l});if(!c)return 2;let{datum:u}=c;if(s.datum=u,s.datumIndex=c.datumIndex,c.otherIndex!=null&&(s.seriesIndex=c.otherIndex),this.focusIndicator?.isFocusVisible()){this.chart.ctx.animationManager.reset();let h=MK(c),{x:f,y:p}=h.computeCenter();if(!a.containsPoint(f,p)&&this.chart.ctx.zoomManager.panToBBox(this.id,a,h))return 3;let{x1:m,x2:b,y1:v,y2:x}=tg.from(h),M=a.containsPoint(m,v),D=a.containsPoint(b,v),w=a.containsPoint(m,x),E=a.containsPoint(b,x);if(!(M||D||w||E)){let C=tg.from(a);c.movedBounds=h.clone(),m<C.x1&&b<C.x1?(c.movedBounds.x=C.x1-2,c.movedBounds.width=4):m>C.x2&&b>C.x2&&(c.movedBounds.x=C.x2-2,c.movedBounds.width=4),v<C.y1&&x<C.y1?(c.movedBounds.y=C.y1-2,c.movedBounds.height=4):v>C.y2&&x>C.y2&&(c.movedBounds.y=C.y2-2,c.movedBounds.height=4)}}this.focusIndicator?.update(c.movedBounds??c.bounds,this.seriesRect,c.clipFocusBox);let d=DK(s.series,a,c);if(d!=null&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;let h=this.getTooltipContent(s.series,u.datumIndex,u,"aria-label"),f=Ix.makeTooltipMeta(d,s.series,u,c.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,u),this.isTooltipEnabled(s.series)&&this.chart.ctx.tooltipManager.updateTooltip(this.id,f,h),this.maybeAnnouncePickedFocus(t,n,r,o,c,h)}return 0}maybeAnnouncePickedFocus(e,t,n,i,r,o){let{focus:s}=this,a;this.announceMode==="when-changed"?e===0&&n===0||t!==r.datumIndex||i!==(r.otherIndex??s.seriesIndex)?a="always":a="never":a=this.announceMode,a==="always"&&this.swapChain.update(this.getDatumAriaText(r.datum,o))}getDatumAriaText(e,t){let n=t==null?"":nj(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:e.series.getDatumAriaText?.(e,n)??n})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator?.clear()}handleHoverHighlight(e){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;let t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;let{currentX:n,currentY:i}=t,r=t.currentX+(this.hoverRect?.x??0),o=t.currentY+(this.hoverRect?.y??0);if(e?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(r,o)){this.clearHighlight();return}let{range:s}=this.chart.highlight,a=s==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNodes({x:n,y:i},a);if(!l||l.matches.length===0){this.chart.ctx.highlightManager.updateHighlight(this.id);return}let{current:c}=this.tooltipCandidates,d=(c==null?void 0:l.matches.find(h=>jC(h,c)))?.datum??l.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,d),this.hoverDevice="pointer"}handleHoverTooltip(e,t){let{current:n}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;let{currentX:i,currentY:r}=e,o=i+(this.hoverRect?.x??0),s=r+(this.hoverRect?.y??0),a=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(o,s)){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(a&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(a,"canvas-overlay",fi))return;let l=this.pickNodes({x:e.currentX,y:e.currentY},"tooltip");if(!l||l.matches.length===0){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(this.hoverDevice="pointer",l.distance===0){let{current:c,index:u,length:d}=this.tooltipCandidates.update(l.matches,this.chart.tooltip.pagination?n:void 0);this.showTooltip(c,o,s,{index:u,length:d})}else this.showTooltip(l.matches[0],o,s)}showTooltip({series:e,datum:t,datumIndex:n},i,r,o){let s=this.getTooltipContent(e,n,t,"tooltip");if(s!=null){let l=Ix.makeTooltipMeta({type:"pointermove",canvasX:i,canvasY:r},e,t,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,l,s,o)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}maybeEnterInteractiveTooltip(e){return this.chart.tooltip.maybeEnterInteractiveTooltip(e,()=>{this.tooltip.lastHover=void 0,this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.highlightManager.updateHighlight(this.id)})}changeHighlightDatum(e){let t=e.previousHighlight?.series,n=e.currentHighlight?.series;t?.properties.cursor&&e.previousHighlight?.datum&&this.chart.ctx.domManager.updateCursor(t.id),n?.properties.cursor&&n.properties.cursor!=="default"&&e.currentHighlight?.datum&&this.chart.ctx.domManager.updateCursor(n.id,n.properties.cursor),n==null||t==null?this.update(5):this.update(5,{seriesToUpdate:new Set([t,n].filter(Boolean))})}pickNodes(e,t,n){let i=[...this.series].reverse(),r;for(let o of i){if(!o.visible||!o.contentGroup.visible)continue;let s=o.pickNodes(e,t,n);if(s==null||s.datums.length===0)continue;let{datums:a,distance:l}=s;if(s.datums.length!==0){if(l===0){r?.distance!==0&&(r={matches:[],distance:0});for(let c of a){let{datumIndex:u}=c;r.matches.push({series:o,datum:c,datumIndex:u})}}else if(r==null||r.distance>l){let[c]=a,{datumIndex:u}=c;r={matches:[{series:o,datum:c,datumIndex:u}],distance:l}}}}return r}isTooltipEnabled(e){return e.tooltipEnabled??this.chart.tooltip.enabled}getTooltipContent(e,t,n,i){let r;if(i==="aria-label"||this.isTooltipEnabled(e)){let{cachedTooltipContent:o}=this;if(o!=null&&o.series===e&&o.datumIndex===t)r=o.content;else{let s=this.chart.getTooltipContent(e,t,n);this.cachedTooltipContent={series:e,datumIndex:t,content:s},r=s}}else this.cachedTooltipContent=void 0;return r}};function RK(e,t){return e.type!==t}var $R=30,PK=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}getGroupIndex(e){let{internalId:t,seriesGrouping:n}=e;return n?.groupIndex??t}getGroupType(e,t){return t?"top":e.type}requestGroup(e){let{internalId:t,contentGroup:n}=e,i=e.bringToFront(),r=this.getGroupType(e,i),o=this.getGroupIndex(e),s=this.series.get(t);if(s!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(s)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=$R?"aggressive-grouping":"normal");let a=this.groups.get(r);a==null&&(a=new Map,this.groups.set(r,a));let l=this.lookupIdx(o),c=a.get(l);return c==null&&(c={type:r,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new Ve({name:`${e.contentGroup.name??r}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},a.set(l,c)),this.series.set(t,{layerState:c,seriesConfig:e,bringToFront:i}),c.seriesIds.push(t),c.group.appendChild(n),c.group}changeGroup(e){let{internalId:t,contentGroup:n}=e,i=e.bringToFront(),r=this.getGroupType(e,i),o=this.series.get(t),s=o?this.getGroupType(o.seriesConfig,o.bringToFront):void 0,a=this.getGroupIndex(e),l=this.lookupIdx(a),c=this.groups.get(r)?.get(l);if(!(s===r&&c?.seriesIds.includes(t)===!0))return this.series.has(t)&&this._releaseGroup({internalId:t,contentGroup:n,type:s}),this.requestGroup(e)}releaseGroup(e){let{internalId:t,contentGroup:n}=e,i=this.getGroupType(e,e.bringToFront());this._releaseGroup({internalId:t,contentGroup:n,type:i})}_releaseGroup(e){let{internalId:t,contentGroup:n,type:i}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);let r=this.series.get(t)?.layerState;r&&(r.seriesIds=r.seriesIds.filter(o=>o!==t),r.group.removeChild(n)),r?.seriesIds.length===0?(this.seriesRoot.removeChild(r.group),this.groups.get(r.type)?.delete(r.id),this.groups.get(i)?.delete(t)):r!=null&&r.seriesIds.length>0&&(r.group.zIndex=this.getLowestSeriesZIndex(r.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(t=>{let{group:n,seriesIds:i}=t,r;i.length===0?r=!1:i.length>1?r=!0:r=this.series.get(i[0])?.seriesConfig.renderToOffscreenCanvas()===!0,n.renderToOffscreenCanvas=r,n.zIndex=this.getLowestSeriesZIndex(i)})})}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!Number.isFinite(e))?0:Math.floor(se(0,e/this.expectedSeriesCount,1)*$R)}destroy(){this.groups.forEach(e=>{e.forEach(t=>{this.seriesRoot.removeChild(t.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){let t;for(let n of e){let r=this.series.get(n)?.seriesConfig.contentGroup.zIndex??1;if(t==null||r==null){t=r;continue}t=WP(t,r)<=0?t:r}return t??1}},oj=class extends Te{constructor(){super(...arguments),this.dragAction="drag"}};y([S],oj.prototype,"dragAction",2);var FK=class{constructor(e,t,n,i,r,o){this.chart=e,this.eventsHub=t,this.dataService=n,this.updateService=i,this.zoomManager=r,this.animationManager=o,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.cleanup=new Be,this.cleanup.register(this.eventsHub.on("data:source-change",()=>this.onDataSourceChange()),this.eventsHub.on("data:load",()=>this.onDataLoad()),this.eventsHub.on("data:error",()=>this.onDataError()),this.updateService.addListener("update-complete",s=>this.onUpdateComplete(s)),this.eventsHub.on("zoom:change",()=>this.onZoomChange()))}destroy(){this.cleanup.flush()}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(4)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(e){!e.apiUpdate&&!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow(e)}onZoomChange(){this.dirtyZoom=!0}updateWindow(e){if(!this.dataService.isLazy())return;let t=this.getValidAxis(),n,i=!0;if(t){let r=this.zoomManager.getAxisZoom(t.id);(r.min!==0||r.max!==1)&&(n=this.getAxisWindow(t,r)),i=this.shouldRefresh(e,t,r)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:n?.min,windowEnd:n?.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t,n){if(e.apiUpdate||this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let i=this.lastAxisZooms.get(t.id);return i&&n.min===i.min&&n.max===i.max?!1:(this.lastAxisZooms.set(t.id,n),!0)}getAxisWindow(e,t){let{domain:n}=e.scale;if(!t||n.length===0||isNaN(Number(n[0])))return;let i=Number(n[1])-Number(n[0]),r=new Date(Number(n[0])+i*t.min),o=new Date(Number(n[0])+i*t.max);return{min:r,max:o}}},jK=/^((?!chrome|android).)*safari/i,VK=/Version\/(\d+(\.\d+)?)/,BK=/Chrome/,zK=/Chrome\/(\d+)/,HK=/Edg/,UK=/OPR/;function GK(){let{userAgent:e}=Ce("navigator");if(jK.test(e)){let t=VK.exec(e);if(t==null)return!1;let n=parseFloat(t[1]),i=Math.floor(n)>16;return i||P.warnOnce(`Unsupported Safari version: ${n}; ${e}`),!i}else if(BK.test(e)&&!HK.test(e)&&!UK.test(e)){let t=zK.exec(e);if(t==null)return!1;let n=parseInt(t[1],10),i=n>126;return i||P.warnOnce(`Unsupported Chrome version: ${n}; ${e}`),!i}return!1}var $K=new Set(["map-shape-background","map-line-background"]),WK=class{constructor(e,t,n,i,r,o,s){this.chartLike=e,this.overlays=t,this.eventsHub=n,this.dataService=i,this.localeManager=r,this.animationManager=o,this.domManager=s,this.cleanup=new Be,this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(PC),this.cleanup.register(this.eventsHub.on("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.cleanup.flush(),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){let t=this.dataService.isLoading(),n=this.chartLike.series.some(c=>c.hasData),i=this.chartLike.series.some(c=>c.visible&&!$K.has(c.type));this.overlays.darkTheme?this.overlayElem.classList.add(jR):this.overlayElem.classList.remove(jR),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;let r=t,o=!t&&!n,s=n&&!i,a=this.overlays.unsupportedBrowser.enabled&&GK();r?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),o?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),s?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),a?this.showOverlay(this.overlays.unsupportedBrowser,e):this.hideOverlay(this.overlays.unsupportedBrowser);let l=r||o||s||a;Ee(this.overlayElem,"aria-hidden",!l)}showOverlay(e,t){if(!e.enabled)return;let n=e.getElement(this.chartLike,this.animationManager,this.localeManager,t);this.overlayElem.appendChild(n)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText="\xA0"},this.animationManager)}},io=We.create(!0,"opts"),Cn=(()=>{let e=class sj extends d2{constructor(n,i){var r;super(),this.id=In(this),this.seriesRoot=new Fi({name:`${this.id}-series-root`,zIndex:7}),this.annotationRoot=new Fi({name:`${this.id}-annotation-root`,zIndex:11}),this.titleGroup=new Ve({name:"titles",zIndex:15}),this.debug=We.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new Dw,this.chartCaptions=new e0,this.padding=new ru(20),this.keyboard=new PE,this.touch=new oj,this.mode="standalone",this.styleNonce=void 0,this.formatter=void 0,this.suppressFieldDotNotation=!1,this.loadGoogleFonts=!1,this.destroyed=!1,this.cleanup=new Be,this.chartAnimationPhase="initial",this.modulesManager=new hK,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this.syncStatus="init",this.fireEventWrapper=d=>super.fireEvent(d),this.apiUpdate=!1,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new Dw,this.performUpdateType=8,this.runningUpdateType=8,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Y8,this.updateRequestors={},this.performUpdateTrigger=K8(({count:d})=>{this.destroyed||this.updateMutex.acquire(()=>Fe(this,null,function*(){try{yield this.performUpdate(d)}catch(h){P.error("update error",h,h.stack)}})).catch(h=>P.errorOnce(h))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=d=>{this.fireEvent(d)},this.onSeriesNodeDoubleClick=d=>{this.fireEvent(d)},this.onSeriesVisibilityChange=d=>{this.fireEvent(d)},this.seriesGroupingChanged=d=>{if(!(d instanceof _x))return;let{series:h,seriesGrouping:f}=d;if(h.contentGroup.isRoot())return;let p=this.seriesLayerManager.changeGroup({internalId:h.internalId,type:h.type,contentGroup:h.contentGroup,bringToFront:()=>h.bringToFront(),renderToOffscreenCanvas:()=>h.renderToOffscreenCanvas(),seriesGrouping:f});p!=null&&h.attachSeries(p,this.seriesRoot,this.annotationRoot)},this.chartOptions=n;let o=i?.scene,s=i?.container??n.processedOptions.container??void 0,a=i?.styleContainer??n.specialOverrides.styleContainer;o&&(this._firstAutoSize=!1,this._lastAutoSize=[o.width,o.height,o.pixelRatio]);let l=new Ve({name:"root"});l.visible=!1,l.append(this.seriesRoot),l.append(this.annotationRoot),l.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new vo,this.seriesLayerManager=new PK(this.seriesRoot),this.mode=n.userOptions.mode??this.mode,this.styleNonce=n.processedOptions.styleNonce;let c=this.ctx=new J9(this,{chartType:this.getChartType(),scene:o,root:l,container:s,styleContainer:a,domMode:n.optionMetadata.domMode,withDragInterpretation:n.optionMetadata.withDragInterpretation??!0,syncManager:new Iq(this),fireEvent:d=>this.fireEvent(d),updateCallback:(d,h)=>this.update(d,h),updateMutex:this.updateMutex});this.cleanup.register(c.eventsHub.on("dom:resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new Sh,(r=this.overlays.loading).renderer??(r.renderer=()=>fK(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new FK(this,c.eventsHub,c.dataService,c.updateService,c.zoomManager,c.animationManager),new WK(this,this.overlays,c.eventsHub,c.dataService,c.localeManager,c.animationManager,c.domManager)],this.highlight=new rF,this.container=s;let u=this.getModuleContext();c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new LK(this.initSeriesAreaDependencies()),this.cleanup.register(c.layoutManager.registerElement(0,d=>{d.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(d)}),c.eventsHub.on("layout:complete",d=>this.chartCaptions.positionAbsoluteCaptions(d)),c.eventsHub.on("data:load",d=>{this.data=d.data}),this.title.registerInteraction(u,"beforebegin"),this.subtitle.registerInteraction(u,"beforebegin"),this.footnote.registerInteraction(u,"afterend"),Rs.addWindowEvent("page-left",()=>this.destroy()),c.animationManager.addListener("animation-frame",()=>{this.update(7)}),c.animationManager.addListener("animation-start",()=>c.domManager.setDataBoolean("animating",!0)),c.animationManager.addListener("animation-stop",()=>c.domManager.setDataBoolean("animating",!1)),c.eventsHub.on("zoom:change",()=>{this.series.forEach(h=>h.animationState?.transition("updateData"));let d=this.chartAnimationPhase!=="initial";this.update(4,{forceNodeDataRefresh:!0,skipAnimations:d})})),this.parentResize(c.domManager.containerSize)}static getInstance(n){return sj.chartsInstances.get(n)}get canvasElement(){return this.ctx.scene.canvas.element}download(n,i){this.ctx.scene.download(n,i)}getCanvasDataURL(n){return this.ctx.scene.getDataURL(n)}toSVG(){return this.ctx.scene.toSVG()}get seriesAreaBoundingBox(){return this.seriesAreaManager.bbox}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(n){this.seriesAreaManager.focusIndicator?.overrideFocusVisible(n)}fireEvent(n){Yo(this,this.fireEventWrapper,n)}initSeriesAreaDependencies(){let{ctx:n,tooltip:i,highlight:r,overlays:o,seriesRoot:s,mode:a}=this,l=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(h,f,p)=>this.getTooltipContent(h,f,p),chartType:l,ctx:n,tooltip:i,highlight:r,overlays:o,seriesRoot:s,mode:a}}getModuleContext(){return this.ctx}getTooltipContent(n,i,r){let o=n.properties.tooltip.enabled!==!1?n.getTooltipContent(i,r):void 0,s=o==null?[]:[o];if(this.tooltip.mode!=="shared"||this.series.length===1)return s;let a=n.getCategoryValue(i);return a==null?s:this.series.flatMap(l=>{if(l===n)return s;if(!l.isEnabled()||l.properties.tooltip.enabled===!1)return[];let c=l.datumIndexForCategoryValue(a),u=c==null?void 0:l.getTooltipContent(c,void 0);return u==null?[]:[u]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(n=>n.enabled&&n.text).map(n=>n.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(let n of this.series)n.resetAnimation(this.chartAnimationPhase);for(let n of this.axes)n.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clearCanvas()}destroy(n){if(this.destroyed)return;let i=n?.keepTransferableResources,r;return this.performUpdateType=8,this.cleanup.flush(),this.processors.forEach(o=>o.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),r={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(o=>o.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),r}requestFactoryUpdate(n){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>Fe(this,null,function*(){if(!this.destroyed)try{yield n(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}})).catch(i=>P.errorOnce(i)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(let n of this.series)n.resetDatumCallbackCache()}update(n=0,i){if(this.destroyed)return;let{forceNodeDataRefresh:r=!1,skipAnimations:o,seriesToUpdate:s=this.series,newAnimationBatch:a,apiUpdate:l=!1}=i??{};this.apiUpdate=l,this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),r&&this.series.forEach(c=>c.markNodeDataDirty());for(let c of s)this.seriesToUpdate.add(c);if(o&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),a&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.debug.check()){let c=new Error().stack??"<unknown>";c=c.replace(/\([^)]*/g,""),this.updateRequestors[c]=n}n<this.performUpdateType&&(this.performUpdateType=n,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i?.backOffMs))}performUpdate(n){return Fe(this,null,function*(){let{performUpdateType:i,extraDebugStats:r,_performUpdateSplits:o,ctx:s}=this,a=[...this.seriesToUpdate];this.clearCallbackCache(),this.performUpdateType=8,this.seriesToUpdate.clear(),this.runningUpdateType=i,this.updateShortcutCount===0&&i<7&&(s.animationManager.startBatch(this._performUpdateSkipAnimations),s.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",Up[i]);let l=performance.now();o.start??(o.start=l);let c=d=>{o[d]??(o[d]=0),o[d]+=performance.now()-l,l=performance.now()};switch(i){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;yield this.updateData(),c("\u2B07\uFE0F");case 2:if(this.checkUpdateShortcut(2))break;yield this.processData(),this.seriesAreaManager.dataChanged(),c("\u{1F3ED}");case 3:if(this.checkUpdateShortcut(3))break;yield this.processDomains(),c("\u26F0\uFE0F");case 4:if(yield this.checkFirstAutoSize(),this.checkUpdateShortcut(4))break;yield this.processLayout(),c("\u2316");case 5:{if(this.checkUpdateShortcut(5))break;yield this.updateSeries(a),c("\u{1F914}"),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 6:if(this.checkUpdateShortcut(6))break;s.updateService.dispatchPreSceneRender(),c("\u2196");case 7:if(this.checkUpdateShortcut(7))break;s.animationManager.endBatch(),r.updateShortcutCount=this.updateShortcutCount,s.scene.render({debugSplitTimes:o,extraDebugStats:r,seriesRect:this.seriesRect}),this.extraDebugStats={};for(let d of Object.keys(o))delete o[d];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 8:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,s.animationManager.endBatch()}this.destroyed||(s.updateService.dispatchUpdateComplete(this.apiUpdate),this.apiUpdate=!1,this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=8,this.syncStatus="ready"),this._performUpdateNotify.notify();let u=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((u-o.start)*100)/100,count:n,performUpdateType:Up[i]})})}updateThemeClassName(){let n="ag-charts-theme-",i=[`${n}default`,`${n}default-dark`],r=i[0],o=!1,{theme:s}=this.chartOptions.processedOptions;for(;typeof s!="string"&&s!=null;)s=s.baseTheme;typeof s=="string"&&(r=s.replace("ag-",n),o=s.includes("-dark")),i.includes(r)||(r=o?i[1]:i[0]),this.ctx.domManager.setThemeClass(r)}updateDOM(){this.updateThemeClassName();let{enabled:n,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabGuardIndex(n?i??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(n){return this.destroyed?!0:this.updateShortcutCount>3?(P.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=n?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(){return Fe(this,null,function*(){this.width!=null&&this.height!=null||this._lastAutoSize||(yield this._autoSizeNotify.await(500))||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")})}onAxisChange(n,i){i==null&&n.length===0||this.ctx.axisManager.updateAxes(i??[],n)}onSeriesChange(n,i){let r=i?.filter(o=>!n.includes(o))??[];this.destroySeries(r),this.seriesLayerManager?.setSeriesCount(n.length);for(let o of n){if(i?.includes(o))continue;let s=this.seriesLayerManager.requestGroup(o);o.attachSeries(s,this.seriesRoot,this.annotationRoot);let a=this;o.chart={get mode(){return a.mode},get isMiniChart(){return!1},get seriesRect(){return a.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(n)}destroySeries(n){n?.forEach(i=>{i.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),i.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.detachSeries(void 0,this.seriesRoot,this.annotationRoot),i.chart=void 0})}addSeriesListeners(n){this.hasEventListener("seriesNodeClick")&&n.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&n.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&n.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),n.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(let n of this.axes)n.boundSeries=this.series.filter(i=>i.axes[n.direction]===n)}assignAxesToSeries(){let n=wd(this.axes,i=>i.direction);for(let i of this.series)for(let r of i.directions){let o=n[r];if(!o){P.warnOnce(`no available axis for direction [${r}]; check series and axes configuration.`);return}let s=i.getKeys(r),a=o.find(l=>!l.keys.length||s.some(c=>l.keys.includes(c)));if(!a){P.warnOnce(`no matching axis for direction [${r}] and keys [${s}]; check series and axes configuration.`);return}i.axes[r]=a}}parentResize(n){if(n==null||this.width!=null&&this.height!=null)return;let{width:i,height:r}=n,{pixelRatio:o}=n;if(i=Math.floor(i),r=Math.floor(r),i===0&&r===0)return;let[s=0,a=0,l=1]=this._lastAutoSize??[];s===i&&a===r&&l===o||(this._lastAutoSize=[i,r,o],this.resize("SizeMonitor",{}))}resize(n,i){let{scene:r,animationManager:o}=this.ctx,{inWidth:s,inHeight:a,inMinWidth:l,inMinHeight:c,inOverrideDevicePixelRatio:u}=i;this.ctx.domManager.setSizeOptions(l??this.minWidth,c??this.minHeight,s??this.width,a??this.height);let d=s??this.width??this._lastAutoSize?.[0],h=a??this.height??this._lastAutoSize?.[1],f=u??this.overrideDevicePixelRatio??this._lastAutoSize?.[2];if(this.debug(`Chart.resize() from ${n}`,{width:d,height:h,pixelRatio:f,stack:new Error().stack}),!(d==null||h==null||!nt(d)||!nt(h))&&r.resize(d,h,f)){o.reset();let p=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(p=!1,this._firstAutoSize=!1),this.update(4,{forceNodeDataRefresh:!0,skipAnimations:p}),this._autoSizeNotify.notify()}}updateData(){return Fe(this,null,function*(){this.series.forEach(i=>i.setChartData(this.data));let n=this.modulesManager.mapModules(i=>i.updateData?.(this.data));yield Promise.all(n)})}processData(){return Fe(this,null,function*(){this.series.some(o=>o.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());let n=new uF(this.mode,this.suppressFieldDotNotation),i=this.series.map(o=>o.processData(n)),r=this.modulesManager.mapModules(o=>o.processData?.(n));this._cachedData=n.execute(this._cachedData),yield Promise.all([...i,...r]),this.updateLegends()})}processDomains(){return Fe(this,null,function*(){for(let n of this.axes)n.processData();for(let n of this.series)n.updatedDomains()})}updateLegends(n){for(let{legend:i,legendType:r}of this.modulesManager.legends())r==="category"?this.setCategoryLegendData(n):this.setLegendData(r,i)}setCategoryLegendData(n){var i;let{ctx:{legendManager:r,stateManager:o}}=this;n&&this.series.forEach(a=>{let l=n.find(c=>c.seriesId===a.id);a.onLegendInitialState("category",l)});let s=this.series.flatMap(a=>{let l=a.getLegendData("category");return r.updateData(a.id,l),l});if(n){o.setStateAndRestore(r,n);return}if(this.mode!=="integrated"){let a={},l=new Map(this.series.map(c=>[c.id,c.type]));for(let{seriesId:c,symbol:{marker:u},label:d}of s.filter(h=>!h.hideInLegend)){if(u.fill==null)continue;let h=l.get(c),f=a[h]??(a[h]={});f[i=d.text]??(f[i]=u.fill),f[d.text]!==u.fill&&P.warnOnce(`legend item '${d.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}r.update()}setLegendData(n,i){i.data=this.series.filter(r=>r.properties.showInLegend).flatMap(r=>r.getLegendData(n))}processLayout(){return Fe(this,null,function*(){let n=this.animationRect,{width:i,height:r}=this.ctx.scene,o=this.ctx.layoutManager.createContext(i,r);yield this.performLayout(o),n&&!this.animationRect?.equals(n)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}updateSeries(n){return Fe(this,null,function*(){let{seriesRect:i}=this;yield Promise.all(n.map(r=>r.update({seriesRect:i}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(r=>r.visible&&r.usesPlacedLabels),this.padding,this.seriesRect)})}waitForUpdate(n,i){return Fe(this,null,function*(){let r=Ce("agChartsDebugTimeout");r==null?(n??(n=1e5),i??(i=!1)):(n=r,i??(i=!0));let o=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==8||this.runningUpdateType!==8||this.ctx.scene.waitingForUpdate())&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue()),(this.performUpdateType!==8||this.runningUpdateType!==8)&&(yield this._performUpdateNotify.await()),performance.now()-o>n){let s=`Chart.waitForUpdate() timeout of ${n} reached - first chart update taking too long.`;if(i)throw new Error(s);P.warnOnce(s)}c2()&&(yield Iw()),this.ctx.scene.waitingForUpdate()&&(yield Iw(50))}})}filterMiniChartSeries(n){return n?.filter(i=>i.showInMiniChart!==!1)}applyOptions(n){let r=this.firstApply?n.processedOptions:n.diffOptions(this.chartOptions);if(r==null||Object.keys(r).length===0){io("Chart.applyOptions() - no delta, forcing re-layout",r),this.update(4,{apiUpdate:!0,newAnimationBatch:!0});return}let o=this.firstApply?{}:this.chartOptions.processedOptions,s=n.processedOptions;io("Chart.applyOptions() - applying delta",r);let a=this.applyModules(s),l=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer","formatter"];r.listeners&&this.registerListeners(this,r.listeners),Hp(this,r,{skip:l});let c=!1,u="no-op";r.series!=null&&(u=this.applySeries(this,r.series,o?.series),c=!0),u==="replaced"&&this.resetAnimations(),this.applyAxes(this,s,o,u,[])&&(c=!0),r.data&&(this.data=r.data),r.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,r.legend.listeners),r.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=r.locale?.localeText),this.chartOptions=n;let d=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!d?.enabled&&!h?.enabled&&this.ctx.zoomManager.updateZoom("chart");let f=d?.miniChart,p=s.navigator?.miniChart?.series??s.series;f?.enabled===!0&&p!=null?this.applyMiniChartOptions(f,p,s,o):f?.enabled===!1&&(f.series=[],f.axes=[]),this.ctx.annotationManager.setAnnotationStyles(n.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(r,u));let b=c||a?0:4;if(this.maybeResetAnimations(u),this.shouldClearLegendData(s,o,u)&&this.ctx.legendManager.clearData(),this.applyInitialState(s),this.ctx.formatManager.setFormatter(s.formatter),io("Chart.applyOptions() - update type",Up[b],{seriesStatus:u,forceNodeDataRefresh:c}),n.optionsProcessingTime!==void 0){this._performUpdateSplits["\u2699\uFE0F"]=n.optionsProcessingTime;let v=performance.now()-n.optionsProcessingTime;this._performUpdateSplits.start=v}this.update(b,{apiUpdate:!0,forceNodeDataRefresh:c,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(n){let{annotationManager:i,chartTypeOriginator:r,historyManager:o,stateManager:s,zoomManager:a}=this.ctx,{initialState:l}=n;if("annotations"in n&&n.annotations?.enabled&&l?.annotations!=null){let c=l.annotations.map(u=>{let d=i.getAnnotationTypeStyles(u.type);return Dt(u,d)});s.setState(i,c)}l?.chartType!=null&&s.setState(r,l.chartType),(n.navigator?.enabled||n.zoom?.enabled)&&l?.zoom!=null&&s.setState(a,l.zoom),l?.legend!=null&&this.updateLegends(l.legend),l!=null&&o.clear()}maybeResetAnimations(n){if(this.mode==="standalone")switch(n){case"series-grouping-change":case"replaced":this.resetAnimations();break;default:}}shouldForceNodeDataRefresh(n,i){let r=!!n.data||i==="data-change"||i==="replaced",o=LE.getKeys(),s=Object.values(o).some(l=>n[l]!=null),a=n.title!=null&&n.subtitle!=null||n.formatter!=null;return r||s||a}shouldClearLegendData(n,i,r){let o=r==="replaced"||r==="series-grouping-change"||r==="updated"&&(n.series?.length!==i.series?.length||!n.series?.every((a,l)=>a.type===i.series?.[l].type)),s=i.legend!=null&&n.legend==null;return o||s}applyMiniChartOptions(n,i,r,o){let s=o?.navigator?.miniChart?.series??o?.series,a=this.applySeries(n,this.filterMiniChartSeries(i),this.filterMiniChartSeries(s));this.applyAxes(n,r,o,a,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let l=n.series;for(let d of l)d.properties.id=void 0;let c=n.axes,u=c.find(d=>d.direction==="x");for(let d of c)d.nice=!1,d.gridLine.enabled=!1,d.label.enabled=d===u,d.tick.enabled=!1,d.interactionEnabled=!1;if(u!=null){let d=r.navigator?.miniChart,h=d?.label,f=d?.label?.interval;if(u.line.enabled=!1,u.label.set(ee(h,["interval","autoRotate","autoRotateAngle","itemStyler","minSpacing","rotation"])),u.type==="grouped-category"){u.label.enabled=!1,u.label.rotation=0;let{depthOptions:p}=u;if(p.length===0)p.set([{label:{enabled:!0}}]);else for(let m=1;m<p.length;m++)p[m].label.enabled=!1}else(u.type==="time"||u.type==="unit-time"||u.type==="ordinal-time")&&(u.parentLevel.enabled=!1);u.interval.step=f?.step,u.interval.values=f?.values,u.interval.minSpacing=f?.minSpacing,u.interval.maxSpacing=f?.maxSpacing}}applyModules(n){let{type:i}=this.constructor,r=!1;for(let o of _s.byType("root","legend")){let a=n[o.optionsKey]!=null&&o.chartTypes.includes(i);a!==this.modulesManager.isEnabled(o)&&(a?(this.modulesManager.addModule(o,l=>l.moduleFactory(this.getModuleContext())),o.type==="legend"&&this.modulesManager.getModule(o)?.attachLegend(this.ctx.scene),this[o.optionsKey]=this.modulesManager.getModule(o)):(this.modulesManager.removeModule(o),delete this[o.optionsKey]),r=!0)}return r}initSeriesDeclarationOrder(n){for(let i=0;i<n.length;i++)n[i].setSeriesIndex(i)}applySeries(n,i,r){if(!i)return"no-change";let o=uK(n.series,i,r);if(o.status==="no-overlap"){io(`Chart.applySeries() - creating new series instances, status: ${o.status}`,o);let d=i.map(h=>this.createSeries(h));return this.initSeriesDeclarationOrder(d),n.series=d,"replaced"}io("Chart.applySeries() - matchResult",o);let s=[],a=!1,l=!1,c=!1,u=o.changes.toSorted((d,h)=>d.targetIdx-h.targetIdx);for(let d of u)switch(l||(l=d.status==="series-grouping"),a||(a=d.diff?.data!=null),c||(c=d.status!=="no-op"),d.status){case"add":{let h=this.createSeries(d.opts);s.push(h),io("Chart.applySeries() - created new series",h);break}case"remove":io(`Chart.applySeries() - removing series at previous idx ${d.idx}`,d.series);break;case"no-op":s.push(d.series),io(`Chart.applySeries() - no change to series at previous idx ${d.idx}`,d.series);break;case"series-grouping":case"update":default:{let{series:h,diff:f,idx:p}=d;io(`Chart.applySeries() - applying series diff previous idx ${p}`,f,h),this.applySeriesValues(h,f),h.markNodeDataDirty(),s.push(h)}}return this.initSeriesDeclarationOrder(s),io("Chart.applySeries() - final series instances",s),n.series=s,l?"series-grouping-change":a?"data-change":c?"updated":"no-op"}applyAxes(n,i,r,o,s=[]){if(!("axes"in i)||!i.axes)return!1;s=["axes[].type",...s];let a=i.axes;return!(o==="replaced")&&n.axes.length===a.length&&n.axes.every((u,d)=>u.type===a[d].type)&&UF(r)?(n.axes.forEach((u,d)=>{let h=r.axes?.[d]??{},f=Da(h,a[d]);io(`Chart.applyAxes() - applying axis diff idx ${d}`,f);let p=`axes[${d}]`;Hp(u,f,{path:p,skip:s})}),!0):(io(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${o}`),n.axes=this.createAxis(a,s),!0)}createSeries(n){let i=Ho.create(n.type,this.getModuleContext());return this.applySeriesOptionModules(i,n),this.applySeriesValues(i,n),i}applySeriesOptionModules(n,i){let r=n.createModuleContext(),o=n.getModuleMap();for(let s of _s.byType("series-option"))s.optionsKey in i&&s.seriesTypes.includes(n.type)&&o.addModule(s,a=>a.moduleFactory(r))}applySeriesValues(n,i){let r=n.getModuleMap(),d=i,{type:o,data:s,listeners:a,seriesGrouping:l,showInMiniChart:c}=d,u=Vt(d,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(let h of Ig)if(h.type==="series-option"&&h.optionsKey in u){let f=r.getModule(h.optionsKey);if(f){let p=u[h.optionsKey];delete u[h.optionsKey],f.properties.set(p)}}u.visible!=null&&(n.visible=u.visible),n.properties.set(u),"data"in i&&n.setOptionsData(s),a&&this.registerListeners(n,a),"seriesGrouping"in i&&(l==null?n.seriesGrouping=void 0:n.seriesGrouping=g(g({},n.seriesGrouping),l))}createAxis(n,i){let r=[],o=this.getModuleContext();for(let s=0;s<n.length;s++){let a=n[s],l=qc.create(a.type,o);this.applyAxisModules(l,a),Hp(l,a,{path:`axes[${s}]`,skip:i}),r.push(l)}return lK(r),r}applyAxisModules(n,i){let r=n.createModuleContext(),o=n.getModuleMap();for(let s of _s.byType("axis-option")){let a=i[s.optionsKey]!=null;a!==o.isEnabled(s)&&(a?(o.addModule(s,l=>l.moduleFactory(r)),n[s.optionsKey]=o.getModule(s)):(o.removeModule(s),delete n[s.optionsKey]))}}registerListeners(n,i){n.clearEventListeners();for(let[r,o]of di(i))n.addEventListener(r,o)}};return e.chartsInstances=new WeakMap,e})();y([Vi({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),Cn.chartsInstances.set(e,this))},oldValue(e){Cn.chartsInstances.delete(e)}})],Cn.prototype,"container",2);y([Vi({newValue(e){this.resize("width option",{inWidth:e})}})],Cn.prototype,"width",2);y([Vi({newValue(e){this.resize("height option",{inHeight:e})}})],Cn.prototype,"height",2);y([Vi({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],Cn.prototype,"minWidth",2);y([Vi({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],Cn.prototype,"minHeight",2);y([Vi({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],Cn.prototype,"overrideDevicePixelRatio",2);y([S],Cn.prototype,"padding",2);y([S],Cn.prototype,"keyboard",2);y([S],Cn.prototype,"touch",2);y([S],Cn.prototype,"mode",2);y([S],Cn.prototype,"styleNonce",2);y([ri("chartCaptions.title")],Cn.prototype,"title",2);y([ri("chartCaptions.subtitle")],Cn.prototype,"subtitle",2);y([ri("chartCaptions.footnote")],Cn.prototype,"footnote",2);y([S],Cn.prototype,"formatter",2);y([S],Cn.prototype,"suppressFieldDotNotation",2);y([S],Cn.prototype,"loadGoogleFonts",2);y([Vi({changeValue(e,t){this.onAxisChange(e,t)}})],Cn.prototype,"axes",2);y([Vi({changeValue(e,t){this.onSeriesChange(e,t)}})],Cn.prototype,"series",2);var M0=Cn;function WR(e,t){let n=[],i=e?.series?.[0]?.type,r=i==="linear-gauge"||i==="radial-gauge",o=i?ni.get(i):"unknown";for(let s of Ig)if(!(o!=="unknown"&&!s.chartTypes.includes(o))){if(s.type==="root"||s.type==="legend"){let a=e[s.optionsKey];if(a==null)continue;s.optionsInnerKey?a[s.optionsInnerKey]&&(n.push(`${s.optionsKey}.${s.optionsInnerKey}`),delete a[s.optionsInnerKey]):(n.push(s.optionsKey),delete e[s.optionsKey])}else if(s.type==="axis"){if(!("axes"in e)||!Ie(e.axes)||!e.axes?.some(a=>a.type===s.identifier))continue;n.push(`axis[type=${s.identifier}]`),e.axes=e.axes.filter(a=>a.type!==s.identifier)}else if(s.type==="axis-option"){if(!("axes"in e)||!Ie(e.axes)||!e.axes?.some(a=>a[s.optionsKey]))continue;n.push(`axis.${s.optionsKey}`),e.axes.forEach(a=>{a[s.optionsKey]&&delete a[s.optionsKey]})}else if(s.type==="series"){if(s.community||!Ie(e.series)||!e.series?.some(a=>a.type===s.identifier))continue;n.push(`series[type=${s.identifier}]`),e.series=e.series.filter(a=>a.type!==s.identifier)}else if(s.type==="series-option"){if(!Ie(e.series)||!e.series?.some(a=>a[s.optionsKey]))continue;n.push(`series.${s.optionsKey}`),e.series.forEach(a=>{a[s.optionsKey]&&delete a[s.optionsKey]})}}if(n.length&&!t){r&&(n=["AgCharts.createGauge"]);let s="ag-charts-enterprise",a="https://www.ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(s="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",a="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),P.warnOnce([`unable to use these enterprise features as '${s}' has not been loaded:`,"",...n,"",`See: ${a}`].join(`
`))}}function YK(e){let t="mode"in e&&e.mode==="integrated";for(let n of _s.byType("root","legend")){let i=e[n.optionsKey],r=i!=null&&i.enabled===!1,o=!("removable"in n)||n.removable===!0||n.removable==="standalone-only"&&!t;r&&o&&delete e[n.optionsKey]}}function aj(e){return e?.up||e?.down||e?.neutral?"user-full":e?.fills||e?.strokes?"user-indexed":"inbuilt"}var kn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},da={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},qE={};Ls(qE,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Fg,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Bg,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>zg,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>ag,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>lg,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>jg,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Vg,DEFAULT_CAPTION_ALIGNMENT:()=>pl,DEFAULT_CAPTION_LAYOUT_STYLE:()=>fl,DEFAULT_FIBONACCI_STROKES:()=>sg,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>zn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>pn,DEFAULT_GRIDLINE_ENABLED:()=>Uo,DEFAULT_POLAR_SERIES_STROKE:()=>A0,DEFAULT_SEPARATION_LINES_COLOUR:()=>Rg,DEFAULT_SHADOW_COLOUR:()=>_l,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>_0,DEFAULT_TEXTBOX_COLOR:()=>Gg,DEFAULT_TEXTBOX_FILL:()=>Hg,DEFAULT_TEXTBOX_STROKE:()=>Ug,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Pg,DEFAULT_TOOLBAR_POSITION:()=>$g,IS_DARK_THEME:()=>th,PALETTE_ALT_DOWN_FILL:()=>JE,PALETTE_ALT_DOWN_STROKE:()=>QE,PALETTE_ALT_NEUTRAL_FILL:()=>eT,PALETTE_ALT_NEUTRAL_STROKE:()=>tT,PALETTE_ALT_UP_FILL:()=>XE,PALETTE_ALT_UP_STROKE:()=>KE,PALETTE_DOWN_FILL:()=>C0,PALETTE_DOWN_STROKE:()=>I0,PALETTE_NEUTRAL_FILL:()=>T0,PALETTE_NEUTRAL_STROKE:()=>E0,PALETTE_UP_FILL:()=>w0,PALETTE_UP_STROKE:()=>D0});var th=Symbol("is-dark-theme"),Rg=Symbol("default-separation-lines-colour"),_l=Symbol("default-shadow-colour"),fl=Symbol("default-caption-layout-style"),pl=Symbol("default-caption-alignment"),D0=Symbol("palette-up-stroke"),I0=Symbol("palette-down-stroke"),w0=Symbol("palette-up-fill"),C0=Symbol("palette-down-fill"),E0=Symbol("palette-neutral-stroke"),T0=Symbol("palette-neutral-fill"),KE=Symbol("palette-alt-up-stroke"),QE=Symbol("palette-alt-down-stroke"),XE=Symbol("palette-alt-up-fill"),JE=Symbol("palette-alt-down-fill"),eT=Symbol("palette-gray-fill"),tT=Symbol("palette-gray-stroke"),A0=Symbol("default-polar-series-stroke"),_0=Symbol("default-sparkline-crosshair-stroke"),pn=Symbol("default-financial-charts-annotation-stroke"),sg=Symbol("default-hierarchy-strokes"),Pg=Symbol("default-text-annotation-color"),zn=Symbol("default-financial-charts-annotation-background-fill"),Fg=Symbol("default-annotation-handle-fill"),jg=Symbol("default-annotation-statistics-fill"),Vg=Symbol("default-annotation-statistics-stroke"),Bg=Symbol("default-annotation-statistics-color"),zg=Symbol("default-annotation-statistics-divider-stroke"),ag=Symbol("default-annotation-statistics-fill"),lg=Symbol("default-annotation-statistics-stroke"),Hg=Symbol("default-textbox-fill"),Ug=Symbol("default-textbox-stroke"),Gg=Symbol("default-textbox-color"),$g=Symbol("default-toolbar-position"),Uo=Symbol("default-gridline-enabled"),lj=[{type:"number",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"left","bottom"]}}],ZK={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillFallback"},{$palette:"fill"}]},nT={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillsFallback"},{$palette:"fills"}]},k0={$if:[{$isGradient:{$palette:"fill"}},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},qK={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},Mh={type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},KK=I(g({},Mh),{colorStops:[{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"black",.15]},{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"white",.15]}]}),QK=e=>I(g({},Mh),{colorStops:{$if:[{$or:[{$isGradient:{$palette:`${e}.fill`}},{$isPattern:{$palette:`${e}.fill`}},{$isImage:{$palette:`${e}.fill`}}]},{$map:[{$path:["/color",void 0,{$value:"$1"}]},{$path:["/colorStops",void 0,{$palette:`${e}.fill`}]}]},[{$mix:[{$palette:`${e}.fill`},"black",.15]},{$mix:[{$palette:`${e}.fill`},"white",.15]}]]}}),N0={type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},Wg=I(g({},N0),{reverse:!0}),XK=I(g({},N0),{bounds:"series"}),JK=I(g({},N0),{bounds:"series",reverse:!0}),e6={type:"gradient",gradient:"conic",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},Ia={type:"pattern",pattern:"forward-slanted-lines",width:10,height:10,padding:2,fill:{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:k0,strokeOpacity:1,strokeWidth:4,backgroundFill:"none",backgroundFillOpacity:1,rotation:0,scale:1},t6=I(g({},Ia),{fill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]}}),uu={type:"image",backgroundFill:{$palette:"fillFallback"},backgroundFillOpacity:1,repeat:"no-repeat",fit:"contain",rotation:0};function Gr(e){return HP(e,t=>{let n=zt.fromString(t);return[zt.darken(n,.15).toString(),t,zt.lighten(n,.15).toString()]})}var iT={stroke:{$path:["../../highlightStyle/item/stroke","rgba(0, 0, 0, 0.4)"]},strokeWidth:{$path:["../../highlightStyle/item/strokeWidth",2]},strokeOpacity:{$path:["../../highlightStyle/item/strokeOpacity",void 0]},opacity:{$path:["../../highlightStyle/item/opacity",1]}},cj=I(g({},iT),{fill:{$path:["../../highlightStyle/item/fill","rgba(255,255,255, 0.33)"]},fillOpacity:{$path:["../../highlightStyle/item/fillOpacity",void 0]}}),uo={padding:8,cornerRadius:4,fill:{$if:[{$and:[{$eq:[{$path:"./fill/type"},"image"]},{$isUserOption:["./fill/backgroundFill",!1,!0]}]},{backgroundFill:"transparent"},void 0]},border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}}};function kl(e=!0){return{enabled:!0,highlightedItem:e?cj:iT,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},highlightedSeries:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},unhighlightedSeries:{opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}function uj(e=!0){return{enabled:!0,highlightedItem:e?cj:iT,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]},opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}var dj={border:{enabled:!1,stroke:{$foregroundBackgroundMix:.25},strokeOpacity:1,strokeWidth:1},cornerRadius:4,fillOpacity:1,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,{$isUserOption:["./fill",5,0]}]}},$w="white",n6={get cartesian(){return{seriesTypes:ni.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:ni.polarTypes,commonOptions:[]}},get topology(){return{seriesTypes:ni.topologyTypes,commonOptions:[]}},get standalone(){return{seriesTypes:ni.standaloneTypes,commonOptions:[]}}},i6={"radial-gauge":!0,"linear-gauge":!0};function r6(e){return i6[e]===!0}var Fr=class Fp{static getDefaultColors(){return{fills:kn,fillsFallback:Object.values(kn),strokes:da,sequentialColors:Gr(kn),divergingColors:[kn.ORANGE,kn.YELLOW,kn.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:zt.interpolate([zt.fromHexString(kn.BLUE),zt.fromHexString("#cbdef5")],8).map(t=>t.toString()),secondDivergingColors:[kn.GREEN,kn.YELLOW,kn.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:kn.GREEN,stroke:da.GREEN},down:{fill:kn.RED,stroke:da.RED},neutral:{fill:kn.GRAY,stroke:da.GRAY},altUp:{fill:kn.BLUE,stroke:da.BLUE},altDown:{fill:kn.ORANGE,stroke:da.ORANGE},altNeutral:{fill:kn.GRAY,stroke:da.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:.325},backgroundColor:$w,borderColor:{$foregroundOpacity:.15},borderRadius:4,chartBackgroundColor:{$ref:"backgroundColor"},chartPadding:20,focusShadow:"0 0 0 3px var(--ag-charts-accent-color)",foregroundColor:"#181d1f",fontFamily:"Verdana, sans-serif",fontSize:fa,fontWeight:400,gridLineColor:{$foregroundBackgroundMix:.1},popupShadow:"0 0 16px rgba(0, 0, 0, 0.15)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:.02},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:{$ref:"foregroundColor"},chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},buttonBackgroundColor:{$ref:"backgroundColor"},buttonBorder:!0,buttonFontWeight:400,buttonTextColor:{$ref:"textColor"},inputBackgroundColor:{$ref:"backgroundColor"},inputBorder:!0,inputTextColor:{$ref:"textColor"},menuBackgroundColor:{$ref:"chromeBackgroundColor"},menuBorder:!0,menuTextColor:{$ref:"chromeTextColor"},panelBackgroundColor:{$ref:"chromeBackgroundColor"},panelSubtleTextColor:{$ref:"chromeSubtleTextColor"},tooltipBackgroundColor:{$ref:"chromeBackgroundColor"},tooltipBorder:!0,tooltipTextColor:{$ref:"chromeTextColor"},tooltipSubtleTextColor:{$ref:"chromeSubtleTextColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"chartBackgroundColor"}}}static getAxisDefaults(t,{title:n,time:i}){return Dt(t,n&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Br.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},i&&{parentLevel:{enabled:!1,label:{enabled:{$path:"../../label/enabled"},border:{enabled:{$or:[{$isUserOption:["../border",!0,!1]},{$path:"../../../label/border/enabled"}]},strokeWidth:{$path:"../../../label/border/strokeWidth"},stroke:{$path:"../../../label/border/stroke"}},fill:{$path:"../../label/fill"},fontSize:{$path:"../../label/fontSize"},fontFamily:{$path:"../../label/fontFamily"},fontWeight:"bold",spacing:{$path:"../../label/spacing"},color:{$path:"../../label/color"},cornerRadius:{$path:"../../label/cornerRadius"},padding:{$path:"../../label/padding"},avoidCollisions:{$path:"../../label/avoidCollisions"}},tick:{enabled:{$path:"../../tick/enabled"},width:{$path:"../../tick/width"},size:{$path:"../../tick/size"},stroke:{$path:"../../tick/stroke"}}}},{label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0,cornerRadius:4,border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}},padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},{left:12,right:12,top:8,bottom:8},void 0]}},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,size:6,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,width:1,style:{$apply:[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]},[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]}]]}},crossLines:{$apply:[{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.08,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},void 0,{$pathString:["/common/axes/$axisType/crossLines",{axisType:{$path:["/axes/$index/type"]}}]},{$pathString:["/$seriesType/axes/$axisType/crossLines",{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["/axes/$index/type"]}}]}]}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"chartBackgroundColor"}},padding:{top:{$ref:"chartPadding"},right:{$ref:"chartPadding"},bottom:{$ref:"chartPadding"},left:{$ref:"chartPadding"}},seriesArea:{border:{enabled:!1,stroke:{$ref:"foregroundColor"},strokeOpacity:1,strokeWidth:1},cornerRadius:4,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,0]}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Br.LARGEST},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:fl,textAlign:pl},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Br.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:fl,textAlign:pl},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:Br.MEDIUM},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:fl,textAlign:pl},legend:I(g({},dj),{enabled:{$and:[{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$or:[{$isChartType:"cartesian"},{$isChartType:"standalone"},{$and:[{$isChartType:"polar"},{$not:{$isSeriesType:"pie"}},{$not:{$isSeriesType:"donut"}}]}]}]},position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"left-top"]},{$eq:[{$path:"./position"},"left-bottom"]},{$eq:[{$path:"./position"},"right"]},{$eq:[{$path:"./position"},"right-top"]},{$eq:[{$path:"./position"},"right-bottom"]},{$eq:[{$path:"./position/placement"},"left"]},{$eq:[{$path:"./position/placement"},"left-top"]},{$eq:[{$path:"./position/placement"},"left-bottom"]},{$eq:[{$path:"./position/placement"},"right"]},{$eq:[{$path:"./position/placement"},"right-top"]},{$eq:[{$path:"./position/placement"},"right-bottom"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$rem:Br.SMALL},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}},fill:{$if:[{$path:["./position/floating",!1]},{$ref:"chartBackgroundColor"},"transparent"]}}),tooltip:{enabled:!0,darkTheme:th,delay:0,pagination:!1,mode:{$if:[{$and:[{$isChartType:"cartesian"},{$not:{$hasSeriesType:"bubble"}},{$not:{$hasSeriesType:"scatter"}},{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$lessThan:[{$size:[{$path:"/series"}]},4]}]},"shared","single"]}},overlays:{darkTheme:th},listeners:{},series:{tooltip:{range:{$path:["/tooltip/range","exact"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","pointer"]},placement:{$path:["/tooltip/position/placement",void 0]},xOffset:{$path:["/tooltip/position/xOffset",0]},yOffset:{$path:["/tooltip/position/yOffset",0]}}}}}}constructor(t={}){let{overrides:n,palette:i,params:r}=ln(t),o=this.createChartConfigPerChartType(this.getDefaults()),s={};n&&this.processOverrides(s,n);let d=this.getDefaultColors(),{fills:a,strokes:l,sequentialColors:c}=d,u=Vt(d,["fills","strokes","sequentialColors"]);this.palette=ga(Dt(i,g({fills:Object.values(a),strokes:Object.values(l),sequentialColors:Object.values(c)},u))),this.paletteType=aj(i),this.params=Dt(r,this.getPublicParameters()),this.config=ga(ln(o)),this.overrides=ga(n),this.presets=ga(s)}processOverrides(t,n){ni.seriesTypes.forEach(i=>{let r=i,o=n[r];r6(r)&&(t[r]=o,delete n[r])})}createChartConfigPerChartType(t){for(let[n,{seriesTypes:i}]of di(n6)){let r=TC.get(n);for(let o of i)t[o]??(t[o]=ln(r))}return t}getDefaults(){let t=(n,i)=>{let r={},o=g(g(g({axes:{}},LE.getThemeTemplates()),this.getChartDefaults()),TC.get(n));for(let s of i){r[s]=Dt(Ho.getThemeTemplate(s),r[s]??ln(o));let{axes:a}=r[s];for(let l of qc.keys())a[l]=Dt(a[l],qc.getThemeTemplate(l),Fp.axisDefault[l]);(s==="map-shape-background"||s==="map-line-background")&&delete r[s].series.tooltip}return r};return Dt(t("cartesian",ni.cartesianTypes),t("polar",ni.polarTypes),t("topology",ni.topologyTypes),t("standalone",ni.standaloneTypes))}static applyTemplateTheme(t,n,i){if(Ie(t))for(let r=0;r<t.length;r++){let o=t[r];typeof o=="symbol"&&i?.has(o)&&(t[r]=i.get(o))}else for(let r of Object.keys(t)){let o=t[r];typeof o=="symbol"&&i?.has(o)&&(t[r]=i.get(o))}}templateTheme(t,n=!0){let i=n?ln(t):t,r=this.getTemplateParameters();return yl(i,Fp.applyTemplateTheme,void 0,void 0,r),i}getDefaultColors(){return Fp.getDefaultColors()}getPublicParameters(){return Fp.getDefaultPublicParameters()}getTemplateParameters(){let t=new Map;t.set(th,!1),t.set(Rg,"#d9d9d9"),t.set(_l,"#00000080"),t.set(_0,"#aaa"),t.set(fl,"block"),t.set(pl,"center"),t.set(sg,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),t.set(A0,$w),t.set(pn,kn.BLUE),t.set(zn,kn.BLUE),t.set(Pg,kn.BLUE),t.set(Fg,$w),t.set(jg,"#fafafa"),t.set(Vg,"#ddd"),t.set(Bg,"#000"),t.set(zg,"#181d1f"),t.set(ag,"#e35c5c"),t.set(lg,"#e35c5c"),t.set(Hg,"#fafafa"),t.set(Ug,"#ddd"),t.set(Gg,"#000"),t.set($g,"top"),t.set(Uo,!1);let n=this.getDefaultColors();return t.set(D0,this.palette.up?.stroke??n.up.stroke),t.set(w0,this.palette.up?.fill??n.up.fill),t.set(I0,this.palette.down?.stroke??n.down.stroke),t.set(C0,this.palette.down?.fill??n.down.fill),t.set(E0,this.palette.neutral?.stroke??n.neutral.stroke),t.set(T0,this.palette.neutral?.fill??n.neutral.fill),t.set(KE,this.palette.altUp?.stroke??n.up.stroke),t.set(XE,this.palette.altUp?.fill??n.up.fill),t.set(QE,this.palette.altDown?.stroke??n.down.stroke),t.set(JE,this.palette.altDown?.fill??n.down.fill),t.set(eT,this.palette.altNeutral?.fill??n.altNeutral.fill),t.set(tT,this.palette.altNeutral?.stroke??n.altNeutral.stroke),t}};Fr.axisDefault={number:Fr.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),log:Fr.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),category:Fr.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0,wrapping:"on-space"},gridLine:{enabled:Uo},crosshair:{enabled:!1}},{title:!0,time:!1}),"grouped-category":Fr.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:Rg},label:{spacing:10,rotation:270,wrapping:"on-space"},maxThicknessRatio:.5,paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}},{title:!0,time:!1}),time:Fr.getAxisDefaults({keys:[],gridLine:{enabled:Uo},crosshair:{enabled:!0}},{title:!0,time:!0}),"unit-time":Fr.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!1},gridLine:{enabled:Uo},crosshair:{enabled:!0},parentLevel:{enabled:!0}},{title:!0,time:!0}),"ordinal-time":Fr.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:Uo},crosshair:{enabled:!0}},{title:!0,time:!0}),"angle-category":Fr.getAxisDefaults({label:{spacing:5},gridLine:{enabled:Uo},shape:{$findFirstSiblingNotOperation:void 0}},{title:!1,time:!1}),"angle-number":Fr.getAxisDefaults({label:{spacing:5},gridLine:{enabled:Uo}},{title:!1,time:!1}),"radius-category":Fr.getAxisDefaults({positionAngle:0,line:{enabled:!1}},{title:!0,time:!1}),"radius-number":Fr.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$findFirstSiblingNotOperation:void 0}},{title:!0,time:!1})};var Zo=Fr,Ww="#192232",yi={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Nc={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Dh=class extends Zo{getDefaultColors(){return{fills:yi,fillsFallback:Object.values(yi),strokes:Nc,sequentialColors:Gr(yi),divergingColors:[yi.ORANGE,yi.YELLOW,yi.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[yi.GREEN,yi.YELLOW,yi.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:yi.GREEN,stroke:Nc.GREEN},down:{fill:yi.RED,stroke:Nc.RED},neutral:{fill:yi.GRAY,stroke:Nc.GRAY},altUp:{fill:yi.BLUE,stroke:Nc.BLUE},altDown:{fill:yi.ORANGE,stroke:Nc.ORANGE},altNeutral:{fill:yi.GRAY,stroke:Nc.GRAY}}}getPublicParameters(){return I(g({},super.getPublicParameters()),{axisColor:{$foregroundBackgroundMix:.737},backgroundColor:Ww,borderColor:{$foregroundBackgroundMix:.216},chromeBackgroundColor:{$foregroundBackgroundMix:.07},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundMix:.257},popupShadow:"0 0 16px rgba(0, 0, 0, 0.33)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.57]},crosshairLabelBackgroundColor:{$foregroundBackgroundMix:.65}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(th,!0),e.set(A0,Ww),e.set(Rg,"#7f8389"),e.set(pn,yi.BLUE),e.set(Pg,"#fff"),e.set(zn,yi.BLUE),e.set(Fg,Ww),e.set(jg,"#28313e"),e.set(Vg,"#4b525d"),e.set(Bg,"#fff"),e.set(zg,"#fff"),e.set(Hg,"#28313e"),e.set(Ug,"#4b525d"),e.set(Gg,"#fff"),e}constructor(e){super(e)}},fr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Oc={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},o6=class extends Dh{getDefaultColors(){return I(g({},super.getDefaultColors()),{fills:g({},fr),fillsFallback:Object.values(g({},fr)),strokes:g({},Oc),sequentialColors:Gr(fr),divergingColors:[fr.GREEN,fr.BLUE,fr.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:fr.GREEN,stroke:Oc.GREEN},down:{fill:fr.RED,stroke:Oc.RED},neutral:{fill:fr.BLUE,stroke:Oc.BLUE},altUp:{fill:fr.GREEN,stroke:Oc.GREEN},altDown:{fill:fr.RED,stroke:Oc.RED},altNeutral:{fill:fr.GRAY,stroke:Oc.GRAY}})}getPublicParameters(){return I(g({},super.getPublicParameters()),{chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.12}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,fr.BLUE),e.set(zn,fr.BLUE),e.set(fl,"overlay"),e.set(pl,"left"),e.set($g,"bottom"),e.set(Uo,!0),e}},pr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Lc={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},s6=class extends Zo{getDefaultColors(){return I(g({},super.getDefaultColors()),{fills:g({},pr),fillsFallback:Object.values(g({},pr)),strokes:g({},Lc),sequentialColors:Gr(pr),divergingColors:[pr.GREEN,pr.BLUE,pr.RED],up:{fill:pr.GREEN,stroke:Lc.GREEN},down:{fill:pr.RED,stroke:Lc.RED},neutral:{fill:pr.BLUE,stroke:Lc.BLUE},altUp:{fill:pr.GREEN,stroke:Lc.GREEN},altDown:{fill:pr.RED,stroke:Lc.RED},altNeutral:{fill:pr.GRAY,stroke:Lc.GRAY}})}getPublicParameters(){return I(g({},super.getPublicParameters()),{chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.06}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,pr.BLUE),e.set(zn,pr.BLUE),e.set(fl,"overlay"),e.set(pl,"left"),e.set($g,"bottom"),e.set(Uo,!0),e}},vi={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Rc={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},a6=class extends Dh{getDefaultColors(){return I(g({},super.getDefaultColors()),{fills:vi,fillsFallback:Object.values(vi),strokes:Rc,sequentialColors:Gr(vi),divergingColors:[vi.ORANGE,vi.YELLOW,vi.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[vi.GREEN,vi.YELLOW,vi.RED],up:{fill:vi.GREEN,stroke:Rc.GREEN},down:{fill:vi.RED,stroke:Rc.RED},neutral:{fill:vi.GRAY,stroke:Rc.GRAY},altUp:{fill:vi.BLUE,stroke:Rc.BLUE},altDown:{fill:vi.RED,stroke:Rc.RED},altNeutral:{fill:vi.GRAY,stroke:Rc.GRAY}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,vi.BLUE),e.set(zn,vi.BLUE),e}},bi={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Pc={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},l6=class extends Zo{getDefaultColors(){return I(g({},super.getDefaultColors()),{fills:bi,fillsFallback:Object.values(bi),strokes:Pc,sequentialColors:Gr(bi),divergingColors:[bi.ORANGE,bi.YELLOW,bi.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[bi.GREEN,bi.YELLOW,bi.RED],up:{fill:bi.GREEN,stroke:Pc.GREEN},down:{fill:bi.RED,stroke:Pc.RED},neutral:{fill:bi.GRAY,stroke:Pc.GRAY},altUp:{fill:bi.BLUE,stroke:Pc.BLUE},altDown:{fill:bi.RED,stroke:Pc.RED},altNeutral:{fill:bi.GRAY,stroke:Pc.GRAY}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,bi.BLUE),e.set(zn,bi.BLUE),e}},hn={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Fc={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},c6=class extends Dh{getDefaultColors(){return{fills:hn,fillsFallback:Object.values(hn),strokes:Fc,sequentialColors:Gr(hn),divergingColors:[hn.BLUE,hn.RED],hierarchyColors:[],secondSequentialColors:[hn.BLUE,hn.PURPLE,hn.MAGENTA,hn.PINK,hn.RED,hn.ORANGE,hn.YELLOW,hn.GREEN],secondDivergingColors:[hn.BLUE,hn.RED],secondHierarchyColors:[],up:{fill:hn.GREEN,stroke:Fc.GREEN},down:{fill:hn.RED,stroke:Fc.RED},neutral:{fill:hn.GRAY,stroke:Fc.GRAY},altUp:{fill:hn.BLUE,stroke:Fc.BLUE},altDown:{fill:hn.RED,stroke:Fc.RED},altNeutral:{fill:hn.GRAY,stroke:Fc.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,hn.BLUE),e.set(zn,hn.BLUE),e}},fn={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},jc={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},u6=class extends Zo{getDefaultColors(){return I(g({},super.getDefaultColors()),{fills:fn,fillsFallback:Object.values(fn),strokes:jc,sequentialColors:Gr(fn),divergingColors:[fn.BLUE,fn.RED],hierarchyColors:[],secondSequentialColors:[fn.BLUE,fn.PURPLE,fn.MAGENTA,fn.PINK,fn.RED,fn.ORANGE,fn.YELLOW,fn.GREEN],secondDivergingColors:[fn.BLUE,fn.RED],secondHierarchyColors:[],up:{fill:fn.GREEN,stroke:jc.GREEN},down:{fill:fn.RED,stroke:jc.RED},neutral:{fill:fn.GRAY,stroke:jc.GRAY},altUp:{fill:fn.BLUE,stroke:jc.BLUE},altDown:{fill:fn.RED,stroke:jc.RED},altNeutral:{fill:fn.GRAY,stroke:jc.GRAY}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,fn.BLUE),e.set(zn,fn.BLUE),e}},jn={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},al={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},d6=class extends Dh{getDefaultColors(){return I(g({},super.getDefaultColors()),{fills:I(g({},jn),{RED:jn.ORANGE}),fillsFallback:Object.values(I(g({},jn),{RED:jn.ORANGE})),strokes:I(g({},al),{RED:al.ORANGE}),sequentialColors:Gr(I(g({},jn),{RED:jn.ORANGE})),divergingColors:[jn.ORANGE,jn.YELLOW,jn.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[jn.GREEN,jn.YELLOW,jn.ORANGE],up:{fill:jn.GREEN,stroke:al.GREEN},down:{fill:jn.ORANGE,stroke:al.ORANGE},neutral:{fill:jn.GRAY,stroke:al.GRAY},altUp:{fill:jn.BLUE,stroke:al.BLUE},altDown:{fill:jn.ORANGE,stroke:al.ORANGE},altNeutral:{fill:jn.GRAY,stroke:al.GRAY}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,jn.BLUE),e.set(zn,jn.BLUE),e}},Xn={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},la={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},h6=class extends Zo{getDefaultColors(){return I(g({},super.getDefaultColors()),{fills:I(g({},Xn),{RED:Xn.ORANGE}),fillsFallback:Object.values(I(g({},Xn),{RED:Xn.ORANGE})),strokes:I(g({},la),{RED:la.ORANGE}),sequentialColors:Gr(I(g({},Xn),{RED:Xn.ORANGE})),divergingColors:[Xn.ORANGE,Xn.YELLOW,Xn.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[Xn.GREEN,Xn.YELLOW,Xn.ORANGE],secondHierarchyColors:[],up:{fill:Xn.GREEN,stroke:la.GREEN},down:{fill:Xn.ORANGE,stroke:la.ORANGE},neutral:{fill:la.GRAY,stroke:la.GRAY},altUp:{fill:Xn.BLUE,stroke:la.BLUE},altDown:{fill:Xn.ORANGE,stroke:la.ORANGE},altNeutral:{fill:Xn.GRAY,stroke:la.GRAY}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,Xn.BLUE),e.set(zn,Xn.BLUE),e}},VC=["top","top-right","top-left","bottom","bottom-right","bottom-left","right","right-top","right-bottom","left","left-top","left-bottom"],f6={floating:T,placement:H(...VC),xOffset:F,yOffset:F},YR=rt((e,t)=>{let n;if(typeof e=="string")VC.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new ia(_b.Invalid,`a legend placement string: ["${VC.join('", "')}"]`,e,t.path)));else{let{cleared:i,invalid:r}=Dn(e,f6);n={valid:r.length===0,cleared:i,invalid:r}}return n},"a legend position object or placement string"),kx=Se(H("circle","cross","diamond","heart","plus","pin","square","star","triangle"),ut),hj=H("never","always","hyphenate","on-space"),Nx=H("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),O0=Se(A,H("exact","nearest")),rT=Se(R,en(g({text:Q(R)},st),"text segments array")),ZR=H("pointer","start","middle","end"),ax=g({enabled:T,text:rT,textAlign:H("left","center","right"),wrapping:H("never","always","hyphenate","on-space"),spacing:A,maxWidth:A,maxHeight:A},st);ax.padding=ye(A);var Wb={enabled:T,text:rT,renderer:oa(Se(R,Nb))},Yw=["defaults","download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series","separator"],fj={type:H("action","separator"),showOn:H("always","series-area","series-node","legend-item"),label:Q(R),enabled:T,action:ut,items:(e,t)=>pj(e,t)};fj.iconUrl=ye(R);var p6=Jt(fj),g6=rt((e,t)=>{let n;return typeof e=="string"?Yw.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new ia(_b.Invalid,`a context menu item string alias: ["${Yw.join('", "')}"]`,e,t.path))):n=p6(e,t),n},`a context menu item object or string alias: [${Yw.join(", ")}]`),pj=he(g6,"a menu items array",!1),Yc={label:R,ariaLabel:R,tooltip:R,icon:H("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},Po=Se(R,oa(R)),gj=Jt({x:Po,y:Po,angle:Po,radius:Po,size:Po,color:Po,label:Po,secondaryLabel:Po,sectorLabel:Po,calloutLabel:Po,legendItem:Po}),Ko=rt(VL,"a valid number format string"),_e={width:A,height:A,minWidth:A,minHeight:A,suppressFieldDotNotation:T,title:ax,subtitle:ax,footnote:ax,padding:{top:A,right:A,bottom:A,left:A},seriesArea:{border:Ip,clip:T,cornerRadius:F,padding:Dp},legend:{enabled:T,position:YR,orientation:H("horizontal","vertical"),maxWidth:A,maxHeight:A,spacing:A,border:Ip,cornerRadius:F,padding:Dp,fill:Ni,fillOpacity:oe,preventHidingAll:T,reverseOrder:T,toggleSeries:T,item:{marker:{size:A,shape:kx,padding:A,strokeWidth:A},line:{length:A,strokeWidth:A},label:g({maxLength:A,formatter:ut},st),maxWidth:A,paddingX:A,paddingY:A,showSeriesStroke:T},pagination:{marker:{size:A,shape:kx,padding:A},activeStyle:g(g({},J),W),inactiveStyle:g(g({},J),W),highlightStyle:g(g({},J),W),label:st},listeners:{legendItemClick:ut,legendItemDoubleClick:ut}},gradientLegend:{enabled:T,position:YR,spacing:A,reverseOrder:T,border:Ip,cornerRadius:F,padding:Dp,fill:Ni,fillOpacity:oe,gradient:{preferredLength:A,thickness:A},scale:{label:I(g({},st),{minSpacing:A,format:Ko,formatter:ut}),padding:A,interval:{step:F,values:Xi,minSpacing:At(A,Ji("maxSpacing")),maxSpacing:At(A,er("minSpacing"))}}},listeners:{seriesNodeClick:ut,seriesNodeDoubleClick:ut,seriesVisibilityChange:ut,click:ut,doubleClick:ut,annotations:ut,zoom:ut},loadGoogleFonts:T,highlight:{range:H("tooltip","node")},overlays:{loading:Wb,noData:Wb,noVisibleSeries:Wb,unsupportedBrowser:Wb},tooltip:{enabled:T,showArrow:T,pagination:T,delay:A,range:O0,wrapping:hj,mode:H("single","shared","compact"),position:{anchorTo:H("pointer","node","chart"),placement:Se(Nx,he(Nx)),xOffset:F,yOffset:F}},animation:{enabled:T,duration:A},contextMenu:{enabled:T,items:pj},context:()=>!0,dataSource:{getData:ut},keyboard:{enabled:T,tabIndex:F},touch:{dragAction:H("none","drag","hover")},ranges:{enabled:T,buttons:en(I(g({},Yc),{value:Se(F,At(he(Se(F,to)),Oo(2,2)),ut)}),"range button options array")},locale:{localeText:Cc,getLocaleText:oa(R)},background:{visible:T,fill:K,image:{url:Q(R),top:F,right:F,bottom:F,left:F,width:A,height:A,opacity:oe}},styleNonce:R,sync:{enabled:T,groupId:R,axes:H("x","y","xy"),nodeInteraction:T,zoom:T},zoom:{enabled:T,enableAxisDragging:T,enableAxisScrolling:T,enableDoubleClickToReset:T,enablePanning:T,enableScrolling:T,enableSelecting:T,enableTwoFingerZoom:T,keepAspectRatio:T,anchorPointX:ZR,anchorPointY:ZR,axisDraggingMode:H("pan","zoom"),axes:H("x","y","xy"),deceleration:Se(H("off","short","long"),oe),minVisibleItems:A,panKey:H("alt","ctrl","meta","shift"),scrollingStep:oe,autoScaling:{enabled:T,padding:oe},buttons:{enabled:T,buttons:en(I(g({},Yc),{value:H("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:R}),"zoom button options array"),visible:H("always","zoomed","hover")}},formatter:Se(oa(R),gj)};_e.dataSource.requestThrottle=ye(A);_e.dataSource.updateThrottle=ye(A);_e.dataSource.updateDuringInteraction=ye(T);_e.zoom.enableIndependentAxes=ye(T);_e.statusBar=ye(me);_e.foreground=ye(g({visible:T,text:R,image:{url:R,top:F,right:F,bottom:F,left:F,width:A,height:A,opacity:oe}},J));_e.overrideDevicePixelRatio=ye(F);_e.sync.domainMode=ye(H("direction","position","key"));var mt={cursor:R,context:()=>!0,showInLegend:T,nodeClickRange:O0,listeners:{seriesNodeClick:ut,seriesNodeDoubleClick:ut},highlightStyle:{item:g(g({},J),W),series:{enabled:T,dimOpacity:oe,strokeWidth:A}},highlight:Lb(wt)},Qo=I(g({},mt),{id:R,visible:T,context:()=>!0,data:Xi});Qo.seriesGrouping=ye(me);var ka=g(g(g({enabled:T,shape:kx,size:A,itemStyler:_t(I(g(g(g({},J),W),ie),{shape:kx,size:A}))},J),W),ie),Ft=g(g({enabled:T,formatter:ut,format:Ko,itemStyler:ye(_t(g(g({enabled:T},Oi),st)))},Oi),st),wl=I(g({},Ft),{lineHeight:A,minimumFontSize:A,wrapping:hj,overflowStrategy:H("ellipsis","hide")}),Yg=g(g({visible:T,cap:g(g({visible:T,length:A,lengthRatio:oe},W),ie)},W),ie),L0=I(g({},Yg),{xLowerKey:R,xUpperKey:R,yLowerKey:R,yUpperKey:R,xLowerName:R,xUpperName:R,yLowerName:R,yUpperName:R,itemStyler:_t(I(g(g({visible:T},W),ie),{cap:g(g({visible:T,length:A,lengthRatio:oe},W),ie)}))}),It={enabled:T,showArrow:T,range:O0,renderer:oa(Se(R,Jt({heading:R,title:R,data:en({label:Q(R),value:Q(R)})},"tooltip renderer result object"))),position:{anchorTo:H("node","pointer","chart"),placement:Se(Nx,he(Nx)),xOffset:F,yOffset:F},interaction:{enabled:T}},Ps={enabled:T,xOffset:F,yOffset:F,blur:A,color:K},R0=wc({linear:{},smooth:{tension:oe},step:{position:H("start","middle","end")}},"interpolation line options"),cg={fills:At(Oo(2),he(Jt({color:K,stop:F},"")),xw),fillMode:H("continuous","discrete")},P0=g(g(g({value:Q(F),text:R,shape:Se(H("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),ut),placement:H("before","after","middle"),spacing:A,size:A,rotation:F},J),W),ie),F0=g(g(g({value:Q(F),text:R,shape:Se(H("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),ut),placement:H("inside","outside","middle"),spacing:A,size:A,rotation:F,label:I(g({},Ft),{spacing:A})},J),W),ie),Ox=g({direction:H("horizontal","vertical"),cornerMode:H("container","item"),cornerRadius:A,thickness:A,segmentation:{enabled:T,spacing:A,interval:{values:he(F),step:F,count:F}},bar:g(g(g(g({enabled:T,thickness:A,thicknessRatio:oe},cg),J),W),ie),label:I(g({},wl),{text:R,spacing:A,avoidCollisions:T,placement:H("inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end")}),tooltip:It},ee(mt,["listeners"])),Cl=I(g(g({},Ox),ee(Qo,["listeners"])),{type:Q(ot("linear-gauge")),value:Q(F),scale:g(g(g(g({min:At(F,Ji("max")),max:At(F,er("min")),label:g({enabled:T,formatter:ut,rotation:F,spacing:A,minSpacing:A,placement:H("before","after"),avoidCollisions:T,format:Ko},st),interval:{values:he(F),step:F}},cg),J),W),ie),targets:en(P0,"target options array")});Cl.margin=ye(F);Cl.defaultColorRange=ye(he(K));Cl.defaultTarget=ye(I(g({},P0),{value:F,label:I(g({},Ft),{spacing:F})}));Cl.defaultScale=ye(Cl.scale);Cl.scale.defaultFill=ye(K);var Lx=g({outerRadius:A,innerRadius:A,outerRadiusRatio:oe,innerRadiusRatio:oe,startAngle:F,endAngle:F,spacing:A,cornerMode:H("container","item"),cornerRadius:A,scale:g(g(g(g({min:At(F,Ji("max")),max:At(F,er("min")),label:g({enabled:T,formatter:ut,rotation:F,spacing:A,minSpacing:A,avoidCollisions:T,format:Ko},st),interval:{values:he(F),step:F}},cg),J),W),ie),segmentation:{enabled:T,spacing:A,interval:{values:he(F),step:F,count:F}},bar:g(g(g(g({enabled:T},cg),J),W),ie),needle:g(g(g({enabled:T,spacing:A,radiusRatio:oe},J),W),ie),label:g({text:R,spacing:A},wl),secondaryLabel:g({text:R},wl),tooltip:It},mt),Zg=I(g(g({},Lx),Qo),{type:Q(ot("radial-gauge")),value:Q(F),targets:en(F0,"target options array")});Zg.defaultColorRange=ye(he(K));Zg.defaultTarget=ye(I(g({},F0),{value:F,label:I(g({},Ft),{spacing:F})}));Zg.scale.defaultFill=ye(K);var qg=H("millisecond","second","minute","hour","day","month","year"),mj={unit:Q(qg),step:Ec,epoch:to,utc:T};mj.every=ut;var j0=Jt(mj,"a time interval object"),iu=g({enabled:T,text:R,padding:F},st),Es=rt(g(g({enabled:T,type:Q(H("line","range")),range:At(rt((e,{options:t})=>t.type==="range","crossLine type to be 'range'"),he(me),Oo(2,2)),value:At(rt((e,{options:t})=>t.type==="line","crossLine type to be 'line'"),me),label:iu,fill:K,fillOpacity:oe},W),ie),"cross-line options"),ha=I(g({},Es),{label:I(g({},iu),{position:H("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:F})}),Na=g(g({enabled:T,rotation:F,avoidCollisions:T,minSpacing:A,spacing:A,formatter:ut,itemStyler:ye(_t(I(g(g({},st),Oi),{spacing:F})))},st),Oi),Kg=g({autoRotate:T,autoRotateAngle:F,wrapping:H("never","always","hyphenate","on-space"),truncate:T},Na),oT=g({format:Ko},Kg),Qg=g({format:Se(R,Cc)},Kg),yj={enabled:T,width:A,size:A,stroke:K},V0={enabled:T,label:Qg,tick:yj},sT={values:he(me),minSpacing:A},du={reverse:T,gridLine:{enabled:T,width:A,style:en({fill:K,fillOpacity:A,stroke:Se(K,Id),strokeWidth:A,lineDash:he(A)},"a grid-line style object array")},interval:sT,label:Na,line:{enabled:T,width:A,stroke:K},tick:yj,context:()=>!0};du.layoutConstraints=ye({stacked:Q(T),align:Q(H("start","end")),unit:Q(H("percent","px")),width:Q(A)});var Oa=I(g({},du),{keys:he(R),crossLines:en(ha,"a cross-line options array"),position:H("top","right","bottom","left"),thickness:A,maxThicknessRatio:oe,title:g({enabled:T,text:R,spacing:A,formatter:ut},st)});Oa.title._enabledFromTheme=ye(T);var Xg=g(g(g({enabled:T},J),W),ie);function Nl(e,t){let n={enabled:T,xOffset:F,yOffset:F,formatter:oa(R),renderer:oa(Se(R,Jt({text:R,color:K,backgroundColor:K,opacity:oe},"crosshair label renderer result object")))},i;return e&&(i=I(g({},n),{format:t?Se(R,Jt({millisecond:R,second:R,hour:R,day:R,month:R,year:R})):R})),g(g({enabled:T,snap:T,label:i??n},W),ie)}function Ih(e,t){return{min:At(e,Ji("max")),max:At(e,er("min")),nice:T,interval:{step:t?Se(Ec,qg,j0):Ec,values:he(e),minSpacing:At(A,Ji("maxSpacing")),maxSpacing:At(A,er("minSpacing"))}}}var aT={step:Se(Ec,qg,j0),values:he(Se(F,to)),minSpacing:At(A,Ji("maxSpacing")),maxSpacing:At(A,er("minSpacing")),placement:H("on","between")},B0=(()=>{let e=class vj extends Ng{constructor(n,i=new xh,r=!0){super(n,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=r,this.nice=!1}static is(n){return n instanceof vj}isCategoryLike(){return!0}hasDefinedDomain(){return!1}normaliseDataDomain(n){return{domain:n,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:n,paddingOuter:i}=this;if(!nt(n)||!nt(i)){let r=this.reduceBandScalePadding();n??(n=r.inner),i??(i=r.outer)}this.scale.paddingInner=n??0,this.scale.paddingOuter=i??0}calculateGridLines(n,i,r){let o=super.calculateGridLines(n,i,r);return this.interval.placement==="between"&&n.length>0&&o.push(super.calculateGridLine({index:n.at(-1).index+1,tickId:`after:${n.at(-1).tickId}`,translation:this.range[1]},n.length,i,r,n)),o}calculateGridLine({index:n,tickId:i,translation:r},o,s,a,l){let{gridLine:c,horizontal:u,interval:d,scale:h}=this;if(d.placement!=="between")return super.calculateGridLine({index:n,tickId:i,translation:r},o,s,a,l);let f=r<h.step?Math.floor(h.step/2):h.step/2,p=r-f,[m,b,v,x]=u?[p,Math.max(s,a),p,Math.min(s,a)]:[Math.min(s,a),p,Math.max(s,a),p],{style:M}=c,{stroke:D,strokeWidth:w=0,lineDash:E}=M[n%M.length]??{};return{tickId:i,offset:p,x1:m,y1:b,x2:v,y2:x,stroke:D,strokeWidth:w,lineDash:E}}calculateGridFills(n,i,r){let{horizontal:o,range:s,scale:a}=this;if(this.interval.placement!=="between")return super.calculateGridFills(n,i,r);let l=[];if(n.length==0)return l;let c=n[0],u=c.translation>s[0]+a.step/2,d=n[n.length-1],h=o&&d.translation<s[1]-a.step/2;if(u){let f={tickId:`before:${c.tickId}`,translation:c.translation-a.step};l.push(this.calculateGridFill(f,-1,c.index-1,i,r,n))}if(l.push(...n.map((f,p)=>this.calculateGridFill(f,p,f.index,i,r,n))),h){let f={tickId:`after:${d.tickId}`,translation:d.translation+a.step};l.push(this.calculateGridFill(f,n.length,d.index+1,i,r,n))}return l}calculateGridFill({tickId:n,translation:i},r,o,s,a,l){let{gridLine:c,horizontal:u,interval:d,scale:h}=this;if(d.placement!=="between")return super.calculateGridFill({tickId:n,translation:i},r,o,s,a,l);let f=i-h.step/2,p=i+h.step/2,[m,b,v,x]=u?[f,Math.max(s,a),p,Math.min(s,a)]:[Math.min(s,a),f,Math.max(s,a),p],{fill:M,fillOpacity:D}=c.style[o%c.style.length]??{};return{tickId:n,x1:m,y1:b,x2:v,y2:x,fill:M,fillOpacity:D}}calculateTickLines(n,i){let r=super.calculateTickLines(n,i);return this.interval.placement==="between"&&n.length>0&&r.push(super.calculateTickLine({primary:!1,tickId:`after:${n.at(-1)?.tickId}`,translation:this.range[1]},n.length,i,n)),r}calculateTickLine({primary:n,tickId:i,translation:r},o,s,a){let{horizontal:l,interval:c,primaryTick:u,scale:d,tick:h}=this;if(c.placement!=="between")return super.calculateTickLine({primary:n,tickId:i,translation:r},o,s,a);let f=n&&u?.enabled?u:h,p=-s*this.getTickSize(f),m=r<d.step?Math.floor(d.step/2):d.step/2,b=r-m,[v,x,M,D]=l?[b,0,b,p]:[0,b,p,b],{stroke:w,width:E}=f;return{tickId:i,offset:b,x1:v,y1:x,x2:M,y2:D,stroke:w,strokeWidth:E,lineDash:void 0}}reduceBandScalePadding(){return this.boundSeries.reduce((n,i)=>{let r=i.getBandScalePadding?.();return r&&(n.inner>r.inner&&(n.inner=r.inner),n.outer<r.outer&&(n.outer=r.outer)),n},{inner:1/0,outer:-1/0})}tickFormatParams(n,i,r,o){return{type:"category"}}datumFormatParams(n,i,r,o,s){let{datum:a,seriesId:l,legendItemName:c,key:u,source:d,property:h,domain:f,boundSeries:p}=i;return Array.isArray(n)&&n.some(m=>typeof m!="string")?n=n.map(String):!Array.isArray(n)&&typeof n!="string"&&typeof n!="number"&&!(n instanceof Date)&&(n=String(n)),{type:"category",value:n,datum:a,seriesId:l,legendItemName:c,key:u,source:d,property:h,domain:f,boundSeries:p}}};return e.className="CategoryAxis",e.type="category",e})();y([S],B0.prototype,"groupPaddingInner",2);y([S],B0.prototype,"paddingInner",2);y([S],B0.prototype,"paddingOuter",2);var wh=B0,qR=class bj extends xh{static is(t){return t instanceof bj}normalizeDomains(...t){let{domain:n}=super.normalizeDomains(...t);return{domain:n,animatable:!1}}findIndex(t){return super.findIndex(t)??this.getMatchIndex(t)}getMatchIndex(t){let n=JSON.stringify(t),i=this._domain.find(r=>JSON.stringify(r)===n);if(i!=null)return super.findIndex(i)}};function Ol(e){if(e.length===0)return null;let t=1/0,n=-1/0;for(let r of e){let o=r instanceof Date?r.getTime():r;typeof o=="number"&&(o<t&&(t=o),o>n&&(n=o))}let i=[t,n];return i.every(isFinite)?i:null}function lT(e,t,n){let i=!1,r=Ol(e);if(r==null)return{extent:t!=null&&n!=null&&t<=n?[t,n]:[],clipped:!1};let[o,s]=r;return t!=null&&(i||(i=t>o),o=t),n!=null&&(i||(i=n<s),s=n),o>s?{extent:[],clipped:!1}:{extent:[o,s],clipped:i}}function z0(e,t=[0,0]){for(let n of e)typeof n=="number"&&(n<0&&(t[0]+=n),n>0&&(t[1]+=n));return t}function m6(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:i=>z0(i)}}function xj(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:n=>z0(n),groupAggregateFunction:(n,i=[0,0])=>(i[0]+=n?.[0]??0,i[1]+=n?.[1]??0,i)}}function y6(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:i=>ll.extendDomain(i)}}function BC(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,n=[0,0])=>(n[0]+=t?.[0]??0,n[1]+=t?.[1]??0,n)}}function Sj(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:i=>z0(i),groupAggregateFunction:(i,r=[0,0,-1])=>(r[0]+=i?.[0]??0,r[1]+=i?.[1]??0,r[2]++,r),finalFunction:(i=[0,0,0])=>{let r=i[0]+i[1];return r>=0?[0,r/i[2]]:[r/i[2],0]}}}function zC(e,t,n){let i={id:e,matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:(r,o=[])=>{let s=o[1]-o[0];return t.aggregateFunction(r).map(a=>a/s)}};return t.groupAggregateFunction&&(i.groupAggregateFunction=t.groupAggregateFunction),i}function Mj(e){return()=>{let t=0;return n=>nt(n)?(t+=e?Math.max(0,n):n,t):n}}function Dj(){return()=>{let e=0;return t=>{if(!nt(t))return t;let n=e;return e+=t,n}}}var v6=1e3;function Ch(e){return e.input.count<=v6}function Ij(e){return e!=null&&u0(e)}function b6(e){return e!=null}function wj(e){switch(e){case"number":case"log":case"time":case"unit-time":case"ordinal-time":case"color":return Ij;default:return b6}}function Cj(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function bl(e,t,n={}){return g({property:e,type:"key",valueType:Cj(t),validation:wj(t)},n)}function Kt(e,t,n={}){return g({property:e,type:"value",valueType:Cj(t),validation:wj(t)},n)}function Ej(e,t={}){return g({property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1},t)}var x6=function(e){return e};function Tj(...e){let t=e.filter(n=>n!=null);return t.length===0?()=>x6:t.length===1?t[0]:()=>{let n=t.map(i=>i());return(i,r)=>n.reduce((o,s)=>s(o,r),i)}}function Aj(e,t={}){let s=t,{min:n=-1/0,max:i=1/0,processor:r}=s,o=Vt(s,["min","max","processor"]);return g({type:"value",property:e,valueType:"range",validation:Ij,processor:Tj(r,()=>a=>nt(a)?se(n,a,i):a)},o)}function HC(e,t,n={}){let a=n,{onlyPositive:i,processor:r}=a,o=Vt(a,["onlyPositive","processor"]);return I(g({},Kt(e,t,o)),{processor:Tj(r,Mj(i))})}function S6(e,t,n={}){return I(g({},Kt(e,t,n)),{processor:Dj()})}function xl(e,t,n,i,r){return[Kt(e,r,i),Lj(i.groupId,t,n,i.separateNegative),...i.rangeId!=null?[y6(i.rangeId,i.groupId)]:[]]}function _j(e,t,n){return[Kt(e,t,n),Rj(n.groupId)]}var kj={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,n)=>{let i=typeof n[0]=="number"?n[0]:Number(n[0]),r=Math.abs(i-e);return e=i,!isNaN(r)&&r>0&&r<t?r:t}}},Nj={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,n)=>{let i=typeof n[0]=="number"?n[0]:Number(n[0]),r=Math.abs(i-e);return e=i,!isNaN(r)&&r>0&&r>t?r:t}}},Oj={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e?.slice().sort((t,n)=>{for(let i=0;i<t.length;i++){let r=t[i]-n[i];if(r!==0)return r}return 0})};function M6({normaliseTo:e}){let t=(n,i)=>{if(i===0)return null;let r=(n??0)*e/i;return r>=0?Math.min(e,r):Math.max(-e,r)};return()=>()=>(n,i,r)=>{let o=D6(n,i,r);for(let s of i){let a=r.datumIndices[s];if(a!=null)for(let l of a){let c=n[s],u=c[l];if(u==null){c[l]=void 0;continue}c[l]=typeof u=="number"?t(u,o):u.map(d=>t(d,o))}}}}function D6(e,t,n){let i=[0,0];for(let r of t){let o=e[r],s=n.datumIndices[r];if(s!=null)for(let a of s){let l=o[a];if(l==null)continue;let c=typeof l=="number"?l:Math.max(...l.map(d=>d??0)),u=c<0?0:1;u===0?i[u]=Math.min(i[u],c):i[u]=Math.max(i[u],c)}}return Math.max(Math.abs(i[0]),i[1])}function H0(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:Qp({normaliseTo:t},M6)}}function I6({normaliseTo:e,zeroDomain:t,rangeMin:n,rangeMax:i}){let r=e[1]-e[0],o=(s,a,l)=>{let c=e[0]+(s-a)/l*r;return l===0?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(s,a)=>{let[l,c]=s.domain.values[a];n!=null&&(l=n),i!=null&&(c=i);let u=c-l;s.domain.values[a]=[e[0],e[1]];let d=s.columns[a];for(let h=0;h<d.length;h+=1)d[h]=o(d[h],l,u)}}function lx(e,t,n,i,r){return{type:"property-value-processor",property:e,adjust:Qp({normaliseTo:t,rangeMin:i,rangeMax:r,zeroDomain:n},I6)}}var $p=1,Rx=2;function KR(e,t,n,i){let r=$p|Rx;if(t.valueType==="category")return n.length<e&&(r&=~$p),r;let o=i[0]?.valueOf();for(let s=1;r!==0&&s<i.length;s++){let a=i[s]?.valueOf();(!Number.isFinite(a)||o>a)&&(r&=~Rx),Number.isFinite(a)&&o===a&&(r&=~$p),o=a}return r}function Jg(e){return{type:"processor",property:"animationValidation",calculate(t){if(!Ch(t))return;let{keys:n,values:i}=t.defs,{input:r,domain:{keys:o,values:s},keys:a,columns:l,invalidKeyCount:c}=t,u=$p|Rx;if(r.count!==0){for(let d=0;u!==0&&d<n.length;d++)for(let h of n[d].scopes){let f=a[d].get(h),p=c?.get(h)??0,m=f.length-p;u&=KR(m,n[d],o[d],f)}for(let d=0;u!==0&&d<i.length;d++){let h=i[d];e?.includes(h.id)&&(u&=KR(0,h,s[d],l[d]))}}return{uniqueKeys:(u&$p)!==0,orderedKeys:(u&Rx)!==0}}}}function w6({mode:e,separateNegative:t}){return()=>()=>(n,i,r)=>{let o=[0,0];for(let s of i){let a=r.datumIndices[s];if(a!=null)for(let l of a){let c=n[s],u=c[l],d=Ad(u)&&t?0:1;nt(u)&&(e==="normal"&&(o[d]+=u),c[l]=o[d],e==="trailing"&&(o[d]+=u))}}}}function C6({mode:e,sum:t}){return()=>{let n=[],i=!0;return()=>(r,o,s)=>{let a=0;for(let l of o){let c=r[l],u=s.datumIndices[l];if(u!=null)for(let d of u){let h=c[d],f=i&&t==="current"?0:n[l];n[l]=h;let p=t==="current"?h:f;if(!nt(h)||!nt(f)){c[d]=a;continue}e==="normal"&&(a+=p),c[d]=a,e==="trailing"&&(a+=p)}}i=!1}}}function Lj(e,t,n,i=!1){let r;if(t.startsWith("window")){let o=t.endsWith("-trailing")?"trailing":"normal";r=Qp({mode:o,sum:n},C6)}else r=Qp({mode:t,separateNegative:i},w6);return{type:"group-value-processor",matchGroupIds:[e],adjust:r}}function E6(){return()=>(e,t,n)=>{let i=new Float64Array(t.length),r=0;for(let o of t){let s=e[o],a=n.datumIndices[o];if(a!=null)for(let l of a){let c=s[l];i[r]=Number.isFinite(c)?c:NaN,r+=1,s[l]=i.subarray(0,r)}}}}function Rj(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:E6}}function QR(e){return e.id??e.property}function T6(e,t,n){let i=new Map,r=t.defs.values;for(let a=0;a<r.length;a+=1){let l=r[a];if(l.scopes?.includes(e)===!1)continue;let c=QR(l);if(i.has(c))return;i.set(c,a)}let o=[],s=n.defs.values;for(let a=0;a<s.length;a+=1){let l=s[a];if(l.scopes?.includes(e)===!1)continue;let c=QR(l),u=i.get(c);if(u==null)return;i.delete(c),o.push({previousIndex:u,nextIndex:a})}if(i.size===0)return o}function Zw(e,t,n,i,r){for(let{previousIndex:o,nextIndex:s}of n){let a=e[o],l=t[s],c=a[i],u=l[r];if(c!==u)return!1}return!0}function em(e,t,n=!0){return{type:"processor",property:"diff",calculate(i,r){if(!Ch(i))return;let o=new Map,s=new Map,a=new Map,l=new Map,c=t.keys,u=i.keys,d=t.columns,h=i.columns,f=T6(e,t,i);if(f==null)return r;let p=Math.max(t.input.count,i.input.count);for(let v=0;v<p;v++){let x=v<t.input.count,M=v<i.input.count,D=x?wx(c,e,v):void 0,w=D!=null?va(D):"",E=M?wx(u,e,v):void 0,C=E!=null?va(E):"";if(M&&x&&w===C){Zw(d,h,f,v,v)||a.set(C,v);continue}let _=l.get(C);_!=null?((n||!Zw(d,h,f,_,v))&&(a.set(C,v),o.set(C,v)),l.delete(C)):M&&s.set(C,v);let N=s.get(w);N!=null?((n||!Zw(d,h,f,N,v))&&(a.set(w,v),o.set(w,v)),s.delete(w)):x&&(a.delete(w),l.set(w,v))}let b={changed:s.size>0||a.size>0||l.size>0,added:new Set(s.keys()),updated:new Set(a.keys()),removed:new Set(l.keys()),moved:new Set(o.keys())};return I(g({},r),{[e]:b})}}}function va(e,...t){let n;return Ie(e)?n=e.map(r=>kC(r)).join("___"):n=kC(e),(typeof n=="string"||typeof n=="number"||typeof n=="boolean"||n instanceof Date)&&t.length>0&&(n+=`___${t.join("___")}`),n}var A6=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},_6=class Pj{constructor(t="",n,i){this.label=t,this.parent=n,this.refId=i,this.position=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screen=0,this.depth=n?n.depth+1:0}insertTick(t,n){let i=this;for(let r=0;r<t.length;r++){let o=t[r],s=r!==t.length-1,{children:a}=i,l=a.find(c=>c.label===o);if(l&&s)i=l;else{let c=new Pj(o,i,n);c.index=a.length,a.push(c),s&&(i=c)}}}getLeftSibling(){return this.index>0?this.parent?.children[this.index-1]:void 0}getLeftmostSibling(){return this.index>0?this.parent?.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){return this.parent?.children.filter((t,n)=>n!==this.index)??[]}};function k6(e){let t=e.reduce((i,r)=>i<r.length?r.length:i,0),n=new _6;for(let i=0;i<e.length;i++){let r=e[i];for(;r.length<t;)r.push("");n.insertTick(r,i)}return n}function N6(e,t,n){let i=t.index-e.index,r=n/i;t.change-=r,t.shift+=n,e.change+=r,t.prelim+=n,t.mod+=n}function O6(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}function L6({children:e}){let t=0,n=0;for(let i=e.length-1;i>=0;i--){let r=e[i];r.prelim+=t,r.mod+=t,n+=r.change,t+=r.shift+n}}function R6(e,t){let n=e.getLeftSibling();if(n){let i=e,r=e,o=n,s=r.getLeftmostSibling(),a=r.mod,l=i.mod,c=o.mod,u=s.mod;for(;o.nextRight()&&r.nextLeft();){o=o.nextRight(),r=r.nextLeft(),s=s.nextLeft(),i=i.nextRight(),i.ancestor=e;let d=o.prelim+c-(r.prelim+a)+1;d>0&&(N6(O6(o,e,t),e,d),a+=d,l+=d),c+=o.mod,a+=r.mod,u+=s.mod,l+=i.mod}o.nextRight()&&!i.nextRight()?i.mod+=c-l:(r.nextLeft()&&!s.nextLeft()&&(s.mod+=a-u),t=e)}return t}function Fj(e){let{children:t}=e;if(t.length){let[n]=t;for(let o of t)Fj(o),n=R6(o,n);L6(e);let i=(t[0].prelim+t.at(-1).prelim)/2,r=e.getLeftSibling();r?(e.prelim=r.prelim+1,e.mod=e.prelim-i):e.prelim=i}else{let n=e.getLeftSibling();e.prelim=n?n.prelim+1:0}}function jj(e,t,n){e.position=e.prelim+t,n.insertNode(e);for(let i of e.children)jj(i,t+e.mod,n)}function Vj(e){let{children:t}=e,n=0;for(let i of t)Vj(i),i.children.length?n+=i.leafCount:n++;e.leafCount=n,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.position=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.position,e.subtreeRight=e.position)}function P6(e){let t=new F6,n=k6(e);return Fj(n),jj(n,-n.prelim,t),Vj(n),t}var F6=class{constructor(){this.dimensions=new A6,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.position,e.depth),this.nodes.push(e)}scaling(e,t){let n=1;if(e>0){let{left:i,right:r}=this.dimensions;r!==i&&(n=e/(r-i))}return t&&(n*=-1),n}},Bi=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.border=new ou}};y([S],Bi.prototype,"enabled",2);y([S],Bi.prototype,"avoidCollisions",2);y([S],Bi.prototype,"border",2);y([S],Bi.prototype,"color",2);y([S],Bi.prototype,"cornerRadius",2);y([S],Bi.prototype,"spacing",2);y([S],Bi.prototype,"rotation",2);y([S],Bi.prototype,"wrapping",2);y([S],Bi.prototype,"truncate",2);y([S],Bi.prototype,"fill",2);y([S],Bi.prototype,"fontStyle",2);y([S],Bi.prototype,"fontWeight",2);y([S],Bi.prototype,"fontSize",2);y([S],Bi.prototype,"fontFamily",2);y([S],Bi.prototype,"padding",2);var U0=class extends Te{constructor(){super(...arguments),this.enabled=!0}};y([S],U0.prototype,"enabled",2);y([S],U0.prototype,"width",2);y([S],U0.prototype,"stroke",2);var cT=class extends Te{constructor(){super(...arguments),this.label=new Bi,this.tick=new U0}};y([S],cT.prototype,"label",2);y([S],cT.prototype,"tick",2);var tm=(()=>{let e=class extends wh{constructor(t){super(t,new qR),this.tickScale=new qR,this.depthOptions=new bg(cT),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;let{nodes:t}=this.tickTreeLayout,{range:n,step:i,inset:r,bandwidth:o}=this.scale,s=Math.abs(n[1]-n[0])-i,a=this.tickTreeLayout.scaling(s,n[0]>n[1]),l=r+o/2,c=0;for(let u of t){let d=u.position*a;c>d&&(c=d),u.screen=d+l}for(let u of t)u.screen-=c}getDepthOptionsMap(t){let n=[],{depthOptions:i,label:r}=this,o=this.horizontal?0:-90;for(let s=0;s<t;s++)n.push(i[s]?.label.enabled??r.enabled?{enabled:!0,spacing:i[s]?.label.spacing??r.spacing,wrapping:i[s]?.label.wrapping??r.wrapping,truncate:i[s]?.label.truncate??r.truncate,rotation:i[s]?.label.rotation??(s?o:r.rotation),avoidCollisions:i[s]?.label.avoidCollisions??r.avoidCollisions}:{enabled:!1,spacing:0,rotation:0,avoidCollisions:!1});return n}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((t,n)=>{t.fill=n.color,t.text=n.text,t.textBaseline=n.textBaseline,t.textAlign=n.textAlign??"center",t.setFont(n),t.setBoxing(n)})}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){this.updateDirection(),this.updateScale();let{step:t}=this.scale,{title:n,label:i,range:r,depthOptions:o,horizontal:s,line:a}=this;if(this.lineNode.datum=s?{x1:r[0],x2:r[1],y1:0,y2:0}:{x1:0,x2:0,y1:r[0],y2:r[1]},this.lineNode.setProperties({stroke:a.stroke,strokeWidth:a.enabled?a.width:0}),this.resizeTickTree(),!this.tickTreeLayout?.depth)return{bbox:re.zero,spacing:0,separatorLayout:[],tickLabelLayout:[]};let{depth:l,nodes:c}=this.tickTreeLayout,u=s?-i.getSideFlag():i.getSideFlag(),d=[],h=new Map,f=new oh,p=this.getDepthOptionsMap(l),m=u*p[0].spacing,b=this.tickFormatter(this.scale.domain,this.scale.domain,!1),v=(k,j)=>{let V=l-k.depth;if(!p[V]?.enabled||!AL(k.screen,r))return!1;let $=b(k.label,j-1),te=this.getLabelStyles({value:$,depth:V},o[V]?.label);if(i.avoidCollisions){let Z=p[V].rotation,de=(k.leafCount||1)*t,Oe=this.thickness;if(Z!=null){let Ke=xL(Z,de,Oe);de=Ke.width,Oe=Ke.height}$=xg.wrapText($,{font:te,textWrap:p[V].wrapping,overflow:p[V].truncate?"ellipsis":"hide",maxWidth:de,maxHeight:Oe})||$}return f.x=s?k.screen:m,f.y=s?m:k.screen,f.rotation=0,f.lineHeight=qt.getLineHeight(te.fontSize),f.fill=te.color,f.text=$,f.textAlign="center",f.textBaseline=i.parallel?"top":"bottom",f.setFont(te),f.setBoxing(te),!0},x={};c.forEach((k,j)=>{let V=l-k.depth;if(x[V]??(x[V]=0),!v(k,j)||!f.getBBox())return;h.set(j,f.getBBox()),f.rotation=Sa(p[V]?.rotation);let{width:te,height:Z}=f.getBBox(),de=s?Z:te;x[V]<de&&(x[V]=de)});let M=YE(),D=new Map,w=k=>{if(k===0)return 0;let j=x[0];for(let V=1;V<=k;V++)j+=p[V].spacing,V!==k&&(j+=x[V]);return j};c.forEach((k,j)=>{if(j===0)return;let V=v(k,j),$=!k.children.length,te=l-k.depth;if(k.parent){let Ye=$?k.position:k.position-(k.leafCount-1)/2;if(!D.has(Ye)){let be=this.depthOptions[te]?.tick,xe=x[0];for(let ge=0;ge<=te;ge++)xe+=p[ge].spacing,ge!==0&&(xe+=x[ge]);D.set(Ye,{tickSize:xe,tickStroke:be?.stroke,tickWidth:be?.enabled!==!1?be?.width:0})}}if(!V)return;let Z=Sa(p[te].rotation),{width:de,height:Oe}=h.get(j),Ke=w(te);if(f.textAlign="center",f.textBaseline="middle",f.rotation=Z,s?(f.y+=(Ke+bC(de/2,Oe/2,Z))*u,f.rotationCenterX=k.screen,f.rotationCenterY=f.y):(f.x+=Ke*u+bC((p[te].spacing*u+de)/2,i.mirrored?de:0,Z)-de/2,f.rotationCenterX=f.x,f.rotationCenterY=k.screen),p[te].avoidCollisions){let{width:Ye,height:be}=f.getBBox(),xe=s?Ye:be,ge=$?t:k.leafCount*t;if(xe>ge){h.delete(j);return}}let vt=f.getPlainText(),Mt=f.getBoxingProperties();d.push({text:vt,visible:!0,tickId:M(vt),range:this.scale.range,border:Mt.border,color:f.fill,cornerRadius:Mt.cornerRadius,fill:Mt.fill,fontFamily:f.fontFamily,fontSize:f.fontSize,fontStyle:f.fontStyle,fontWeight:f.fontWeight,padding:Mt.padding,rotation:f.rotation,rotationCenterX:f.rotationCenterX,rotationCenterY:f.rotationCenterY,textAlign:f.textAlign,textBaseline:f.textBaseline,x:f.x,y:f.y}),h.set(j,gn.toCanvas(f))});let E=[...D.values()];E.push(E[0]);let C=[this.lineNodeBBox(),re.merge(h.values()),new re(0,0,E[0].tickSize*u,0)],_=0;if(n.enabled){let k=re.merge(C);_=s?k.height:k.width,C.push(this.titleBBox(this.scale.domain,_))}let N=re.merge(C);return this.layoutCrossLines(),{bbox:N,spacing:_,separatorLayout:E,tickLabelLayout:d}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();let{tickScale:t,tick:n,gridLine:i,gridLength:r}=this,{separatorLayout:o,spacing:s}=this.computedLayout,{position:a,horizontal:l,gridPadding:c}=this,u=a==="bottom"||a==="right"?-1:1,d=c,h=u*r-c,f=t.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).ticks.map((p,m)=>({index:m,tickId:va(p,m),translation:Math.round(t.convert(p))}));this.gridLineGroupSelection.update(i.enabled&&r?this.calculateGridLines(f,d,h):[]),this.gridFillGroupSelection.update(i.enabled&&r?this.calculateGridFills(f,d,h):[]),this.tickLineGroupSelection.update(n.enabled?f.map(({tickId:p,translation:m},b)=>{let{tickSize:v=this.getTickSize(),tickStroke:x=n.stroke,tickWidth:M=n.width}=o[b]??{},D=-u*v,[w,E,C,_]=l?[m,m,0,D]:[0,D,m,m];return{tickId:p,offset:m,x1:w,y1:C,x2:E,y2:_,stroke:x,strokeWidth:M,lineDash:void 0}}):[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateGridFills(),this.updateTickLines(),this.updateTitle(this.scale.domain,s),this.updateCrossLines(),this.resetSelectionNodes()}calculateLayout(){let{separatorLayout:t,tickLabelLayout:n,spacing:i,bbox:r}=this.computeLayout();return this.computedLayout={separatorLayout:t,tickLabelLayout:n,spacing:i},{bbox:r,niceDomain:this.scale.domain}}onGridVisibilityChange(){super.onGridVisibilityChange(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){let{direction:t}=this,n=this.boundSeries.filter(o=>o.visible).flatMap(o=>o.getDomain(t));this.dataDomain={domain:Ol(n)??this.filterDuplicateArrays(n),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();let i=this.dataDomain.domain.map(o=>Ac(yt(o)&&"value"in o?o.value:o));this.tickTreeLayout=P6(i);let r=[];for(let o of this.tickTreeLayout.nodes)o.leafCount||o.refId==null||r.push(this.dataDomain.domain[o.refId]);this.scale.domain=ML(this.dataDomain.domain,r),this.tickScale.domain=i.concat([[""]])}filterDuplicateArrays(t){let n=new Set;return t.filter(i=>{let r=Ie(i)?JSON.stringify(i):i;return n.has(r)?!1:(n.add(r),!0)})}};return e.className="GroupedCategoryAxis",e.type="grouped-category",e})();y([S],tm.prototype,"depthOptions",2);var j6={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},V6=(e,t)=>Math.log(t)/Math.log(e);function qw(e,t,n){let i=Math.min(...t),r=j6[e]??V6;return i>=0?r(e,n):-r(e,-n)}var B6={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},z6=(e,t)=>e**t;function Kw(e,t,n){let i=Math.min(...t),r=B6[e]??z6;return i>=0?r(e,n):-r(e,-n)}var uT=class Bj extends Ht{constructor(t=[1,10],n=[0,1]){super(t,n),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>qw(this.base,this.domain,i),this.pow=i=>Kw(this.base,this.domain,i)}static is(t){return t instanceof Bj}transform(t){let[n,i]=ii(this.domain);return n>=0!=i>=0?NaN:n>=0?Math.log(t):-Math.log(-t)}transformInvert(t){let[n,i]=ii(this.domain);return n>=0!=i>=0?NaN:n>=0?Math.exp(t):-Math.exp(-t)}toDomain(t){return t}niceDomain(t,n=this.domain){if(n.length<2)return[];let{base:i}=this,[r,o]=n,s=r>o?Math.ceil:Math.floor,a=r>o?Math.floor:Math.ceil,l=Kw(i,n,s(qw(i,n,r))),c=Kw(i,n,a(qw(i,n,o)));return[l,c]}ticks({interval:t,tickCount:n=Ht.defaultTickCount},i=this.domain,r){if(!i||i.length<2||n<1)return;let o=this.base,[s,a]=i,l=Math.min(s,a),c=Math.max(s,a),u=this.log(l),d=this.log(c);if(t){let b=E=>E>=l&&E<=c,v=Math.min(Math.abs(t),Math.abs(d-u)),{ticks:x,count:M,firstTickIndex:D}=g0(u,d,v,r),w=x.map(this.pow).filter(b);if(!ph(w.length,this.getPixelRange()))return{ticks:w,count:M,firstTickIndex:D}}if(!_L(o)||d-u>=n){let b=Math.min(d-u,n),{ticks:v,count:x,firstTickIndex:M}=kg(u,d,b,void 0,void 0,r);return{ticks:v.map(this.pow),count:x,firstTickIndex:M}}let h=[],f=l>0;u=Math.floor(u)-1,d=Math.round(d)+1;let p=dh(this.range)/n,m=1/0;for(let b=u;b<=d;b++){let v=this.convert(this.pow(b+1));for(let x=1;x<o;x++){let M=f?x:o-x+1,D=this.pow(b)*M,w=this.convert(D),E=Math.abs(m-w),C=Math.abs(w-v),_=E>=p&&C>=p;D>=l&&D<=c&&(x===1||_||h.length===0)&&(h.push(D),m=w)}}return TF(h,f,r)}},Qc=class UC extends Ht{constructor(){super([0,1],[0,1]),this.type="number"}static is(t){return t instanceof UC}static getTickStep(t,n,i){let{interval:r,tickCount:o=Ht.defaultTickCount,minTickCount:s,maxTickCount:a}=i;return r??og(t,n,o,s,a)}toDomain(t){return t}ticks({interval:t,tickCount:n=Ht.defaultTickCount,minTickCount:i,maxTickCount:r},o=this.domain,s){if(!o||o.length<2||n<1||!o.every(isFinite))return{ticks:[],count:0,firstTickIndex:0};let[a,l]=o;if(t){let c=Math.abs(t);if(!ph((l-a)/c,this.getPixelRange()))return g0(a,l,c,s)}return kg(a,l,n,i,r,s)}niceDomain(t,n=this.domain){if(n.length<2)return[];let{tickCount:i=Ht.defaultTickCount}=t,[r,o]=n;if(i===1)[r,o]=LF(r,o);else if(i>1){let s=r>o?Math.ceil:Math.floor,a=r>o?Math.floor:Math.ceil,l=4;for(let c=0;c<l;c++){let u=r,d=o,h=UC.getTickStep(r,o,t),[f,p]=n;if(r=s(f/h)*h,o=a(p/h)*h,r===u&&o===d)break}}return[r,o]}},Ll=(()=>{let e=class extends Ng{constructor(t,n=new Qc){super(t,n)}hasDefinedDomain(){let{min:t,max:n}=this;return t!=null&&n!=null&&t<n}normaliseDataDomain(t){let{min:n,max:i}=this,{extent:r,clipped:o}=lT(t,n,i);return{domain:r,clipped:o}}createDatumFormatter(t,n){let{format:i}=this.label;return typeof i=="number"?OF(n,i):void 0}tickFormatParams(t,n,i){return{type:"number",fractionDigits:i}}datumFormatParams(t,n,i){let{datum:r,seriesId:o,legendItemName:s,key:a,source:l,property:c,domain:u,boundSeries:d}=n;return{type:"number",value:t,datum:r,seriesId:o,legendItemName:s,key:a,source:l,property:c,domain:u,boundSeries:d,fractionDigits:i}}};return e.className="NumberAxis",e.type="number",e})();y([S],Ll.prototype,"min",2);y([S],Ll.prototype,"max",2);var G0=(()=>{let e=class extends Ll{normaliseDataDomain(t){let{min:n,max:i}=this,{extent:r,clipped:o}=lT(t,n,i);return r[0]<0&&r[1]>0||t[0]<0&&t[1]>0?(P.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:o}):r[0]===0||r[1]===0||t[0]===0||t[1]===0?(P.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:o}):{domain:r,clipped:o}}set base(t){this.scale.base=t}get base(){return this.scale.base}constructor(t){super(t,new uT)}};return e.className="LogAxis",e.type="log",e})(),Eh=class extends Te{constructor(){super(...arguments),this.enabled=!1,this.label=new tn,this.tick=new au}};y([S],Eh.prototype,"enabled",2);y([S],Eh.prototype,"label",2);y([S],Eh.prototype,"tick",2);var Rl=(()=>{let e=class extends Ng{constructor(t){super(t,new Qd),this.parentLevel=new Eh,this.min=void 0,this.max=void 0,this.minimumTimeGranularity=void 0}get _unit(){}set _unit(t){P.warnOnce("To use 'unit', use an axis with type 'unit-time' instead of 'time'.")}hasDefinedDomain(){let{min:t,max:n}=this;return t!=null&&n!=null&&t<n}isCategoryLike(){return!1}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}normaliseDataDomain(t){return dT(t,this.min,this.max)}processData(){super.processData();let{boundSeries:t,direction:n,min:i,max:r}=this;this.minimumTimeGranularity=zj(t,n,i,r)}tickFormatParams(t,n,i,r){r??(r=HE(n));let o=UE(t),s=ks(r),a=Il(r),l=ig(r);return{type:"date",unit:s,step:a,epoch:l,truncateDate:o}}datumFormatParams(t,n,i,r,o){if(typeof t=="number"&&(t=new Date(t)),r==null){let{minimumTimeGranularity:v}=this,x=f0(t);v!=null&&nr(v)<nr(x)?r=v:r=x}let{datum:s,seriesId:a,legendItemName:l,key:c,source:u,property:d,domain:h,boundSeries:f}=n,p=ks(r),m=Il(r),b=ig(r);return{type:"date",value:t,datum:s,seriesId:a,legendItemName:l,key:c,source:u,property:d,domain:h,boundSeries:f,unit:p,step:m,epoch:b,style:o}}};return e.className="TimeAxis",e.type="time",e})();y([S],Rl.prototype,"parentLevel",2);y([S],Rl.prototype,"min",2);y([S],Rl.prototype,"max",2);y([S,En("_unit")],Rl.prototype,"unit",2);function zj(e,t,n,i){let r=e.reduce((o,s)=>Math.min(s.minTimeInterval()??1/0,o),1/0);return Number.isFinite(r)?_g(r):Hj(e,t,n,i)?.unit}function Hj(e,t,n,i){let r=1/0,o=-1/0,s,a=0,l=[];for(let h of e){if(!h.visible)continue;let{domain:f}=dT(h.getDomain(t),void 0,void 0);if(f.length===0)continue;let p=f[0].valueOf(),m=f[f.length-1].valueOf();l.push(p,m),r=Math.min(r??1/0,p,m),o=Math.max(o??-1/0,p,m);let b=Math.abs(m-p);if(b===0)continue;let v=h.dataCount();if(a=Math.max(a,v),v<=1)continue;let x=b/(v-1);s=Math.min(s??1/0,x)}if(r=Math.min(r,n?.valueOf()??1/0,i?.valueOf()??1/0),o=Math.max(o,n?.valueOf()??-1/0,i?.valueOf()??-1/0),!Number.isFinite(r)||!Number.isFinite(o))return;s??(s=Math.abs(o-r)),s=Math.min(s,H6(l));let c=_g(s),u=s/nr(c);a<=2?u=Math.floor(u):u=Math.round(u),u=Math.max(u,1);let d=u===1?void 0:oo(c,r);return{unit:c,step:u,epoch:d}}function H6(e){e.sort((n,i)=>n-i);let t=1/0;for(let n=1;n<e.length;n++){let i=e[n-1],r=e[n];r-i>0&&(t=Math.min(t,Math.abs(r-i)))}return t}function dT(e,t,n){let i=!1;typeof t=="number"&&(t=new Date(t)),typeof n=="number"&&(n=new Date(n));let r=Ol(e)?.map(a=>new Date(a));if(r==null)return{domain:t!=null&&n!=null&&t.valueOf()<=n.valueOf()?[t,n]:[],clipped:!1};let[o,s]=r;return t instanceof Date&&(i||(i=t>o),o=t),n instanceof Date&&(i||(i=n<s),s=n),o>s?{domain:[],clipped:!1}:{domain:[o,s],clipped:i}}var Uj=class extends wh{calculateGridLine({index:e,tickId:t,translation:n},i,r,o,s){let{gridLine:a,horizontal:l,interval:c,range:u}=this;if(c.placement!=="between")return super.calculateGridLine({index:e,tickId:t,translation:n},i,r,o,s);let d=s[i-1],h=d?n-(n-d.translation)/2:u[0],[f,p,m,b]=l?[h,Math.max(r,o),h,Math.min(r,o)]:[Math.min(r,o),h,Math.max(r,o),h],{style:v}=a,{stroke:x,strokeWidth:M=0,lineDash:D}=v[e%v.length]??{};return{tickId:t,offset:h,x1:f,y1:p,x2:m,y2:b,stroke:x,strokeWidth:M,lineDash:D}}calculateGridFills(e,t,n){return this.interval.placement!=="between"?super.calculateGridFills(e,t,n):e.map((i,r)=>this.calculateGridFill(i,r,i.index,t,n,e))}calculateGridFill({tickId:e,translation:t},n,i,r,o,s){let{gridLine:a,horizontal:l,interval:c,range:u}=this;if(c.placement!=="between")return super.calculateGridFill({tickId:e,translation:t},n,i,r,o,s);let d=s[n-1],h=s[n+1],f=d?t-(t-d.translation)/2:u[0],p=h?t+(h.translation-t)/2:u[1],[m,b,v,x]=l?[f,Math.max(r,o),p,Math.min(r,o)]:[Math.min(r,o),f,Math.max(r,o),p],{fill:M,fillOpacity:D}=a.style[i%a.style.length]??{};return{tickId:e,x1:m,y1:b,x2:v,y2:x,fill:M,fillOpacity:D}}calculateTickLine({primary:e,tickId:t,translation:n},i,r,o){let{horizontal:s,interval:a,primaryTick:l,range:c,tick:u}=this;if(a.placement!=="between")return super.calculateTickLine({primary:e,tickId:t,translation:n},i,r,o);let d=e&&l?.enabled?l:u,h=-r*this.getTickSize(d),f=o[i-1],p=f?n-(n-f.translation)/2:c[0],[m,b,v,x]=s?[p,0,p,h]:[0,p,h,p],{stroke:M,width:D}=d;return{tickId:t,offset:p,x1:m,y1:b,x2:v,y2:x,stroke:M,strokeWidth:D,lineDash:void 0}}},Th=(()=>{let e=class extends Uj{constructor(t){super(t,new dl,!1),this.parentLevel=new Eh,this.min=void 0,this.max=void 0,this.unit=void 0,this.defaultUnit=void 0}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}hasDefinedDomain(){let{min:t,max:n}=this;return t!=null&&n!=null&&t<n}isCategoryLike(){return!0}processData(){super.processData();let t,{domain:n}=this.dataDomain;if(n.length===2&&n[0].valueOf()===n[1].valueOf())t=f0(n[0]);else{let{boundSeries:i,direction:r,min:o,max:s}=this;t=Hj(i,r,o,s)}Un(this.defaultUnit,t)||(this.defaultUnit=t)}updateScale(){super.updateScale(),this.scale.interval=this.unit??this.defaultUnit}normaliseDataDomain(t){return dT(t,this.min,this.max)}createDatumFormatter(t,n){let i=this.scale.interval,{format:r}=this.label;if(r==null)return;let o=_C(i!=null?F2(r,ks(i)):r,i);if(o!=null)return tu(o)}tickFormatParams(t,n,i,r){r??(r=HE(n));let o=UE(t),s=ks(r),a=Il(r),l=ig(r);return{type:"date",unit:s,step:a,epoch:l,truncateDate:o}}datumFormatParams(t,n,i,r,o){let s=this.unit??this.defaultUnit??"millisecond";t=oo(s,t),typeof t=="number"&&(t=new Date(t)),r??(r=s);let{datum:a,seriesId:l,legendItemName:c,key:u,source:d,property:h,domain:f,boundSeries:p}=n,m=ks(r),b=Il(r),v=ig(r);return{type:"date",value:t,datum:a,seriesId:l,legendItemName:c,key:u,source:d,property:h,domain:f,boundSeries:p,unit:m,step:b,epoch:v,style:o}}};return e.className="UnitTimeAxis",e.type="unit-time",e})();y([S],Th.prototype,"parentLevel",2);y([S],Th.prototype,"min",2);y([S],Th.prototype,"max",2);y([S],Th.prototype,"unit",2);var Hd=I(g(g({},Oa),Ih(F)),{type:Q(ot("number")),label:oT,crosshair:Nl(!0)}),Ud=I(g(g({},Oa),Ih(F)),{type:Q(ot("log")),base:At(Ec,rt(e=>e!==1,"not equal to 1")),label:oT,crosshair:Nl(!0)}),Gd=I(g(g({},Oa),Ih(Se(F,to),!0)),{type:Q(ot("time")),label:Qg,parentLevel:V0,crosshair:Nl(!0,!0)}),$d=I(g({},Oa),{type:Q(ot("category")),label:Kg,paddingInner:oe,paddingOuter:oe,groupPaddingInner:oe,crosshair:Nl(),bandHighlight:Xg,interval:I(g({},sT),{placement:H("on","between")})}),Wd=I(g({},Oa),{type:Q(ot("grouped-category")),label:Kg,crosshair:Nl(),bandHighlight:Xg,paddingInner:oe,groupPaddingInner:oe,depthOptions:en({label:g(g({enabled:T,avoidCollisions:T,wrapping:H("never","always","hyphenate","on-space"),truncate:T,rotation:F,spacing:F},st),Oi),tick:{enabled:T,stroke:K,width:A}},"depth options objects array")}),Yd=I(g({},Oa),{type:Q(ot("unit-time")),unit:Se(j0,qg),label:Qg,parentLevel:V0,paddingInner:oe,paddingOuter:oe,groupPaddingInner:oe,crosshair:Nl(!0,!0),bandHighlight:Xg,min:At(Se(F,to),Ji("max")),max:At(Se(F,to),er("min")),interval:aT}),U6={type:"axis",name:"number",chartType:"cartesian",options:Hd,create:e=>new Ll(e)},G6={type:"axis",name:"log",chartType:"cartesian",options:Ud,create:e=>new G0(e)},$6={type:"axis",name:"time",chartType:"cartesian",options:Gd,create:e=>new Rl(e)},W6={type:"axis",name:"category",chartType:"cartesian",options:$d,create:e=>new wh(e)},Y6={type:"axis",name:"grouped-category",chartType:"cartesian",options:Wd,create:e=>new tm(e)},Z6={type:"axis",name:"unit-time",chartType:"cartesian",options:Yd,create:e=>new Th(e)},Zd=I(g({},Oa),{type:Q(ot("ordinal-time")),paddingInner:oe,paddingOuter:oe,groupPaddingInner:oe,label:Qg,parentLevel:V0,interval:aT,crosshair:Nl(!0,!0),bandHighlight:Xg}),Gj=I(g(g({},du),Ih(F)),{type:Q(ot("angle-number")),crossLines:en(Es),startAngle:F,endAngle:F,label:I(g({},Na),{orientation:H("fixed","parallel","perpendicular"),format:Ko})}),q6={innerRadiusRatio:oe},$j=I(g(g({},du),q6),{type:Q(ot("angle-category")),shape:H("polygon","circle"),crossLines:en(Es),startAngle:F,endAngle:F,paddingInner:oe,groupPaddingInner:oe,label:I(g({},Na),{orientation:H("fixed","parallel","perpendicular")})}),Wj=I(g(g({},du),Ih(F)),{type:Q(ot("radius-number")),shape:H("polygon","circle"),positionAngle:F,innerRadiusRatio:oe,crossLines:en(I(g({},Es),{label:I(g({},iu),{positionAngle:F})}),"cross-line options"),title:g({enabled:T,text:R,spacing:A,formatter:ut},st),label:I(g({},Na),{format:Ko})}),Yj=I(g({},du),{type:Q(ot("radius-category")),positionAngle:F,innerRadiusRatio:oe,paddingInner:oe,paddingOuter:oe,groupPaddingInner:oe,label:Na,crossLines:en(I(g({},Es),{label:I(g({},iu),{positionAngle:F})}),"cross-line options"),title:g({enabled:T,text:R,spacing:A,formatter:ut},st)}),Zj=Pt(wt,wt),qj=I(g(g(g(g({showInMiniChart:T,connectMissingData:T,interpolation:R0,label:Ft,marker:ka,tooltip:It,shadow:Ps},mt),J),W),ie),{highlight:Zj}),Kj=I(g(g({},qj),Qo),{highlight:Zj,type:Q(ot("area")),xKey:Q(R),yKey:Q(R),xName:R,yName:R,stacked:T,stackGroup:R,normalizedTo:F}),Qj=Pt(no,no),hT=g(g(g(I(g({direction:H("horizontal","vertical"),showInMiniChart:T,cornerRadius:A,itemStyler:_t(I(g(g(g({},J),W),ie),{cornerRadius:A})),crisp:T,label:I(g({},Ft),{placement:H("inside-center","inside-start","inside-end","outside-start","outside-end"),spacing:A}),errorBar:Yg,shadow:Ps,tooltip:It},mt),{highlight:Qj}),J),W),ie);hT.sparklineMode=ye(T);var $0=I(g(g({},hT),Qo),{highlight:Qj,type:Q(ot("bar")),xKey:Q(R),yKey:Q(R),xName:R,yName:R,direction:H("horizontal","vertical"),grouped:T,stacked:T,stackGroup:R,normalizedTo:F,legendItemName:R,errorBar:L0});$0.pickOutsideVisibleMinorAxis=ye(T);$0.focusPriority=ye(F);var Xj=I(g(g({title:R,domain:he(F),maxSize:A,showInMiniChart:T,label:g({placement:H("top","right","bottom","left")},Ft),tooltip:It,maxRenderedItems:F},mt),ee(ka,["enabled"])),{highlight:Pt(wt,wt)}),K6=I(g(g({},Xj),Qo),{type:Q(ot("bubble")),xKey:Q(R),yKey:Q(R),sizeKey:Q(R),labelKey:R,xName:R,yName:R,sizeName:R,labelName:R,highlight:Pt(wt,wt)}),Jj=I(g(g(g(g({showInMiniChart:T,cornerRadius:A,label:Ft,tooltip:It,shadow:Ps},mt),J),W),ie),{highlight:Pt(wt,wt)}),Q6=I(g(g({},Qo),Jj),{type:Q(ot("histogram")),xKey:Q(R),yKey:R,xName:R,yName:R,areaPlot:T,aggregation:H("count","sum","mean"),bins:he(he(F)),binCount:A}),eV=Pt(wt,sa),fT=I(g(g(g({title:R,showInMiniChart:T,connectMissingData:T,interpolation:R0,label:Ft,marker:ka,tooltip:It,errorBar:Yg},mt),W),ie),{highlight:eV});fT.sparklineMode=ye(T);var W0=I(g(g({},fT),Qo),{highlight:eV,type:Q(ot("line")),xKey:Q(R),yKey:Q(R),xName:R,yName:R,stacked:T,stackGroup:R,normalizedTo:F,legendItemName:R,errorBar:L0});W0.pickOutsideVisibleMinorAxis=ye(T);W0.focusPriority=ye(F);var tV=I(g(g({title:R,showInMiniChart:T,label:g({placement:H("top","right","bottom","left")},Ft),tooltip:It,errorBar:Yg,maxRenderedItems:F},mt),ee(ka,["enabled"])),{highlight:Pt(wt,wt)}),X6=I(g(g({},tV),Qo),{type:Q(ot("scatter")),xKey:Q(R),yKey:Q(R),labelKey:R,xName:R,yName:R,labelName:R,errorBar:L0,highlight:Pt(wt,wt)}),nV=Pt(wt,wt),pT=g(g(g(I(g({},mt),{radiusMin:A,radiusMax:A,rotation:F,outerRadiusOffset:F,outerRadiusRatio:oe,hideZeroValueSectorsInLegend:T,sectorSpacing:A,cornerRadius:A,itemStyler:_t(I(g(g(g({},J),W),ie),{cornerRadius:A})),title:g({enabled:T,text:R,showInLegend:T,spacing:A},st),calloutLabel:g(g({enabled:T,offset:F,minAngle:A,avoidCollisions:T,formatter:ut,format:R,itemStyler:_t(g(g({enabled:T},Oi),st))},Oi),st),sectorLabel:g(g({enabled:T,positionOffset:F,positionRatio:oe,formatter:ut,format:R,itemStyler:_t(g(g({enabled:T},Oi),st))},Oi),st),calloutLine:{colors:he(K),length:A,strokeWidth:A},fills:he(Ni),strokes:he(K),tooltip:It,shadow:Ps,highlight:nV}),ie),ee(J,["fill"])),ee(W,["stroke"])),hu=I(g(g({},pT),Qo),{type:Q(ot("pie")),angleKey:Q(R),radiusKey:R,calloutLabelKey:R,sectorLabelKey:R,legendItemKey:R,angleName:R,radiusName:R,calloutLabelName:R,sectorLabelName:R,highlight:nV});hu.defaultColorRange=ye(he(he(K)));hu.defaultPatternFills=ye(he(K));hu.title._enabledFromTheme=ye(T);hu.calloutLabel._enabledFromTheme=ye(T);hu.sectorLabel._enabledFromTheme=ye(T);var iV=I(g({},pT),{innerRadiusOffset:F,innerRadiusRatio:oe,innerCircle:{fill:R,fillOpacity:oe},innerLabels:g(g({spacing:A},st),Oi)}),J6=I(g(g({},iV),hu),{type:Q(ot("donut")),innerLabels:en(g(g({text:Q(R),spacing:A},st),Oi),"inner label options array")}),Ah=g({lineStyle:H("solid","dashed","dotted")},ie),fu=g(g(g({},J),W),ie),nm=g({visible:T,locked:T,handle:fu},st),Y0=g({position:H("top","center","bottom"),alignment:H("left","center","right")},st),rV=g({position:H("top","inside","bottom"),alignment:H("left","center","right")},st),eQ=g(g(g(g({enabled:T,cornerRadius:A,formatter:ut},st),J),W),ie),tQ=g(g({visible:T},Ah),W),oV=g(g(g({divider:W},J),W),st),XR=g(g(g({handle:fu,statistics:oV},Ah),J),W),Px=g(g({visible:T,locked:T,extendStart:T,extendEnd:T,handle:fu,text:Y0},Ah),W),GC=g(g({visible:T,locked:T,axisLabel:eQ,handle:fu,text:Y0},Ah),W),gT=g(g({visible:T,locked:T,extendStart:T,extendEnd:T,handle:fu,text:rV,background:J},Ah),W),sV=g({},gT),aV=I(g({},gT),{middle:tQ}),$C=g({label:st,showFill:T,isMultiColor:T,strokes:he(K),rangeStroke:K,bands:H(4,6,10)},Px),lV=g(g(g({},J),W),nm),cV=g(g(g({},J),W),nm),uV=I(g(g(g({},J),W),nm),{background:g(g({},J),W)}),WC=g({visible:T,locked:T,handle:fu},J),cx=g(g({visible:T,locked:T,extendStart:T,extendEnd:T,handle:fu,text:Y0,background:J,statistics:oV},Ah),W),dV={visible:T,up:XR,down:XR},_h={enabled:T,axesButtons:{enabled:T,axes:H("x","y","xy")},toolbar:{enabled:T,padding:A,buttons:en(I(g({},Yc),{value:H("line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","line","horizontal-line","vertical-line","parallel-channel","disjoint-channel","fibonacci-retracement","fibonacci-retracement-trend-based","text","comment","callout","note","clear")}),"annotation toolbar buttons array")},optionsToolbar:{enabled:T,buttons:he(Se(Jt(I(g({},Yc),{value:Q(H("line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings"))})),Jt(I(g({},Yc),{value:Q(H("lock")),checkedOverrides:Yc}))))}};_h.data=ye(Xi);_h.xKey=ye(R);_h.volumeKey=ye(R);_h.snap=ye(T);var mT=I(g(g(g({},J),W),ie),{cornerRadius:A,whisker:g(g({},W),ie),cap:{lengthRatio:oe}}),YC=I(g({},mT),{opacity:oe}),hV=I(g(g({direction:H("horizontal","vertical"),showInMiniChart:T,itemStyler:_t(I(g(g(g({},J),W),ie),{cornerRadius:A,whisker:g(g({},W),ie),cap:{lengthRatio:oe}})),tooltip:It},mt),mT),{highlight:Pt(YC,YC)}),ZC=g(g(g({cornerRadius:A,wick:g(g({},W),ie)},J),W),ie),JR=I(g({},ZC),{opacity:oe}),fV=I(g({item:{up:ZC,down:ZC},itemStyler:_t(I(g(g(g({},J),W),ie),{cornerRadius:A,wick:g(g({},W),ie)})),showInMiniChart:T,tooltip:It},mt),{highlight:Pt(JR,JR)}),pV=g({fills:he(Ni),strokes:he(K),label:g({spacing:A,maxWidth:A},Ft),link:g(g(g({tension:oe,itemStyler:_t(I(g(g(g({},J),W),ie),{tension:oe}))},J),W),ie),node:g(g(g({width:A,spacing:A,itemStyler:_t(g(g(g({},J),W),ie))},J),W),ie),tooltip:It},mt),gV=I(g(g(g(g({direction:H("horizontal","vertical"),fills:he(Ni),strokes:he(K),label:g({spacing:A,placement:H("before","middle","after")},Ft),stageLabel:g({placement:H("before","after"),format:Ko},Na),tooltip:It},ee(mt,["showInLegend"])),ee(J,["fill"])),ee(W,["stroke"])),ie),{highlight:Lb(sa)}),mV=g(g(g(g({direction:H("horizontal","vertical"),fills:he(Ni),strokes:he(K),itemStyler:_t(g(g(g({},J),W),ie)),spacingRatio:oe,crisp:T,dropOff:g(g(g({enabled:T},J),W),ie),stageLabel:g({placement:H("before","after"),format:Ko},Na),label:Ft,tooltip:It,shadow:Ps},ee(mt,["showInLegend"])),ee(J,["fill"])),ee(W,["stroke"])),ie),yV=g(g({title:R,textAlign:H("left","center","right"),verticalAlign:H("top","middle","bottom"),itemPadding:A,itemStyler:_t(g(g({},J),W)),showInMiniChart:T,label:wl,tooltip:It},mt),W),vV=I(g({showInMiniChart:T,itemStyler:_t(g(g({},W),ie)),item:{up:g(g({},W),ie),down:g(g({},W),ie)},tooltip:It},mt),{highlight:Pt(sa,sa)}),bV=I(g(g(g({maxStrokeWidth:A,itemStyler:_t(g(g({},W),ie)),sizeDomain:he(A),label:Ft,tooltip:It},mt),W),ie),{highlightStyle:g(g({},mt.highlightStyle),W),highlight:Pt(sa,sa)}),xV=g(g({},W),ie),SV=I(g(g({colorRange:he(K),maxSize:A,sizeDomain:he(A),label:g({placement:H("top","bottom","left","right")},Ft),tooltip:It},mt),ee(ka,["enabled"])),{highlightStyle:g(g(g({},mt.highlightStyle),J),W),highlight:Pt(wt,wt)}),MV=I(g(g(g(g({colorRange:he(K),padding:A,itemStyler:_t(g(g(g({},J),W),ie)),label:wl,tooltip:It},mt),J),W),ie),{highlightStyle:g(g(g({},mt.highlightStyle),J),W),highlight:Pt(wt,wt)}),DV=g(g(g(g({},mt),J),W),ie),IV=I(g(g(g(g({cornerRadius:A,itemStyler:_t(I(g(g(g({},J),W),ie),{cornerRadius:A})),label:Ft,tooltip:It},mt),J),W),ie),{highlight:Pt(no,no)}),wV=g(g(g(g({direction:H("horizontal","vertical"),aspectRatio:A,spacing:A,reverse:T,itemStyler:_t(g(g(g({},J),W),ie)),fills:he(Ni),strokes:he(K),label:Ft,stageLabel:g({spacing:A,placement:H("before","after")},Ft),tooltip:It,shadow:Ps},mt),ee(J,["fill"])),ee(W,["stroke"])),ie),CV=I(g(g(g(g({connectMissingData:T,marker:ka,label:Ft,tooltip:It},mt),J),W),ie),{highlight:Pt(wt,wt)}),EV=I(g(g(g({connectMissingData:T,marker:ka,label:Ft,tooltip:It},mt),W),ie),{highlight:Pt(wt,sa)}),TV=I(g(g(g(g({cornerRadius:A,itemStyler:_t(I(g(g(g({},J),W),ie),{cornerRadius:A})),label:Ft,tooltip:It},mt),J),W),ie),{highlight:Pt(no,no)}),AV=I(g(g(g(g({cornerRadius:A,columnWidthRatio:oe,maxColumnWidthRatio:oe,itemStyler:_t(I(g(g(g({},J),W),ie),{cornerRadius:A})),label:Ft,tooltip:It},mt),J),W),ie),{highlight:Pt(no,no)}),_V=I(g(g(g(g({showInMiniChart:T,connectMissingData:T,interpolation:R0,label:I(g({},Ft),{placement:H("inside","outside"),spacing:A}),marker:ka,tooltip:It,shadow:Ps},mt),J),W),ie),{highlight:Pt(wt,wt)}),kV=I(g(g(g(g({direction:H("horizontal","vertical"),grouped:T,showInMiniChart:T,cornerRadius:A,itemStyler:_t(I(g(g(g({},J),W),ie),{cornerRadius:A})),label:I(g({},Ft),{placement:H("inside","outside"),spacing:A}),tooltip:It,shadow:Ps},mt),J),W),ie),{highlight:Pt(no,no)}),NV=g({fills:he(Ni),strokes:he(K),label:I(g({},Ft),{spacing:A}),link:g(g(g({itemStyler:_t(g(g(g({},J),W),ie))},J),W),ie),node:g(g(g({width:A,spacing:A,alignment:H("left","center","right","justify"),itemStyler:_t(g(g(g({},J),W),ie))},J),W),ie),tooltip:It},mt),OV=I(g(g(g({fills:he(Ni),strokes:he(K),colorRange:he(K),sectorSpacing:A,cornerRadius:A,padding:A,itemStyler:_t(g(g({},J),W)),label:g({spacing:A},wl),secondaryLabel:wl,tooltip:It},ee(mt,["highlight","showInLegend"])),ee(J,["fill"])),ee(W,["stroke"])),{highlightStyle:g(g({label:{color:K},secondaryLabel:{color:K}},J),W)}),LV=I(g({fills:he(Ni),strokes:he(K),colorRange:he(K),itemStyler:_t(g(g({},J),W)),group:g(g({gap:A,padding:A,cornerRadius:A,textAlign:H("left","center","right"),interactive:T,label:I(g({},Ft),{spacing:A})},J),W),tile:g(g({gap:A,padding:A,cornerRadius:A,textAlign:H("left","center","right"),verticalAlign:H("top","middle","bottom"),label:I(g({},Ft),{spacing:A,lineHeight:A,minimumFontSize:A,wrapping:H("never","always","hyphenate","on-space"),overflowStrategy:H("ellipsis","hide")}),secondaryLabel:I(g({},Ft),{lineHeight:A,minimumFontSize:A,wrapping:H("never","always","hyphenate","on-space"),overflowStrategy:H("ellipsis","hide")})},J),W),tooltip:It},ee(mt,["highlight","showInLegend"])),{highlightStyle:{group:g(g({label:{color:K}},J),W),tile:g(g({label:{color:K},secondaryLabel:{color:K}},J),W)}}),Qw=g(g(g({name:R,cornerRadius:A,itemStyler:_t(I(g(g(g({},J),W),ie),{cornerRadius:A})),label:I(g({},Ft),{placement:H("inside-start","inside-center","inside-end","outside-start","outside-end"),spacing:A}),tooltip:It,shadow:Ps},J),W),ie),RV=g({direction:H("horizontal","vertical"),showInMiniChart:T,item:{positive:Qw,negative:Qw,total:Qw},line:g(g({enabled:T},W),ie),tooltip:It},mt),Yb=Jt({__type:Q(ot("date")),value:Se(R,F)},"a serializable date object"),eP={width:A,height:A,grip:T,fill:K,stroke:K,strokeWidth:A,cornerRadius:A},Ct={enabled:T,height:A,spacing:A,cornerRadius:F,mask:{fill:K,fillOpacity:oe,stroke:K,strokeWidth:A},minHandle:eP,maxHandle:eP,miniChart:{enabled:T,padding:{top:A,bottom:A},label:g({enabled:T,avoidCollisions:T,spacing:A,format:Ko,formatter:ut,interval:{minSpacing:A,maxSpacing:A,values:Xi,step:F}},st),series:me}},Ri={number:I(g({},ee(Hd,["type","crossLines"])),{top:ee(Hd,["type","crossLines","position"]),right:ee(Hd,["type","crossLines","position"]),bottom:ee(Hd,["type","crossLines","position"]),left:ee(Hd,["type","crossLines","position"]),crossLines:ee(ha,["type"])}),log:I(g({},ee(Ud,["type","crossLines"])),{top:ee(Ud,["type","crossLines","position"]),right:ee(Ud,["type","crossLines","position"]),bottom:ee(Ud,["type","crossLines","position"]),left:ee(Ud,["type","crossLines","position"]),crossLines:ee(ha,["type"])}),category:I(g({},ee($d,["type","crossLines"])),{top:ee($d,["type","crossLines","position"]),right:ee($d,["type","crossLines","position"]),bottom:ee($d,["type","crossLines","position"]),left:ee($d,["type","crossLines","position"]),crossLines:ee(ha,["type"])}),time:I(g({},ee(Gd,["type","crossLines"])),{top:ee(Gd,["type","crossLines","position"]),right:ee(Gd,["type","crossLines","position"]),bottom:ee(Gd,["type","crossLines","position"]),left:ee(Gd,["type","crossLines","position"]),crossLines:ee(ha,["type"])}),"unit-time":I(g({},ee(Yd,["type","crossLines"])),{top:ee(Yd,["type","crossLines","position"]),right:ee(Yd,["type","crossLines","position"]),bottom:ee(Yd,["type","crossLines","position"]),left:ee(Yd,["type","crossLines","position"]),crossLines:ee(ha,["type"])}),"grouped-category":I(g({},ee(Wd,["type"])),{top:ee(Wd,["type","position"]),right:ee(Wd,["type","position"]),bottom:ee(Wd,["type","position"]),left:ee(Wd,["type","position"]),crossLines:ee(ha,["type"])}),"ordinal-time":I(g({},ee(Zd,["type","crossLines"])),{top:ee(Zd,["type","crossLines","position"]),right:ee(Zd,["type","crossLines","position"]),bottom:ee(Zd,["type","crossLines","position"]),left:ee(Zd,["type","crossLines","position"]),crossLines:ee(ha,["type"])})},Pd={"angle-category":I(g({},ee($j,["type","crossLines"])),{crossLines:ee(Es,["type"])}),"angle-number":I(g({},ee(Gj,["type","crossLines"])),{crossLines:ee(Es,["type"])}),"radius-category":I(g({},ee(Yj,["type","crossLines"])),{crossLines:I(g({},ee(Es,["type"])),{label:I(g({},iu),{positionAngle:F})})}),"radius-number":I(g({},ee(Wj,["type","crossLines"])),{crossLines:I(g({},ee(Es,["type"])),{label:I(g({},iu),{positionAngle:F})})})},kt={visible:T},nQ={common:I(g({},_e),{navigator:Ct,axes:g(g({},Ri),Pd),annotations:I(g({},_h),{line:Px,"horizontal-line":GC,"vertical-line":GC,"disjoint-channel":sV,"parallel-channel":aV,"fibonacci-retracement":$C,"fibonacci-retracement-trend-based":$C,callout:lV,comment:cV,note:uV,text:nm,arrow:Px,"arrow-up":WC,"arrow-down":WC,"date-range":cx,"price-range":cx,"date-price-range":cx,"quick-date-price-range":dV}),chartToolbar:{enabled:T},initialState:{legend:en({visible:T,seriesId:R,itemId:R,legendItemName:R},"legend state array"),zoom:{rangeX:{start:Se(F,Yb),end:Se(F,Yb)},rangeY:{start:Se(F,Yb),end:Se(F,Yb)},ratioX:{start:oe,end:oe},ratioY:{start:oe,end:oe},autoScaledAxes:he(ot("y"))}}}),line:g(I(g({},_e),{axes:Ri,series:fT,navigator:Ct}),kt),scatter:g(I(g({},_e),{axes:Ri,series:tV,navigator:Ct}),kt),bubble:g(I(g({},_e),{axes:Ri,series:Xj,navigator:Ct}),kt),area:g(I(g({},_e),{axes:Ri,series:qj,navigator:Ct}),kt),bar:g(I(g({},_e),{axes:Ri,series:hT,navigator:Ct}),kt),"box-plot":g(I(g({},_e),{axes:Ri,series:hV,navigator:Ct}),kt),candlestick:g(I(g({},_e),{axes:Ri,series:fV,navigator:Ct}),kt),"cone-funnel":g(I(g({},_e),{axes:Ri,series:gV,navigator:Ct}),kt),funnel:g(I(g({},_e),{axes:Ri,series:mV,navigator:Ct}),kt),ohlc:g(I(g({},_e),{axes:Ri,series:vV,navigator:Ct}),kt),histogram:g(I(g({},_e),{axes:ee(Ri,["category","grouped-category","unit-time","ordinal-time"]),series:Jj,navigator:Ct}),kt),heatmap:g(I(g({},_e),{axes:Ri,series:yV,navigator:Ct}),kt),waterfall:g(I(g({},_e),{axes:Ri,series:RV,navigator:Ct}),kt),"range-bar":g(I(g({},_e),{axes:Ri,series:kV,navigator:Ct}),kt),"range-area":g(I(g({},_e),{axes:Ri,series:_V,navigator:Ct}),kt),donut:g(I(g({},_e),{series:iV,navigator:Ct}),kt),pie:g(I(g({},_e),{series:pT,navigator:Ct}),kt),"radar-line":g(I(g({},_e),{axes:Pd,series:EV,navigator:Ct}),kt),"radar-area":g(I(g({},_e),{axes:Pd,series:CV,navigator:Ct}),kt),"radial-bar":g(I(g({},_e),{axes:Pd,series:TV,navigator:Ct}),kt),"radial-column":g(I(g({},_e),{axes:Pd,series:AV,navigator:Ct}),kt),nightingale:g(I(g({},_e),{axes:Pd,series:IV,navigator:Ct}),kt),sunburst:g(I(g({},_e),{series:OV,navigator:Ct}),kt),treemap:g(I(g({},_e),{series:LV,navigator:Ct}),kt),"map-shape":g(I(g({},_e),{series:MV,navigator:Ct}),kt),"map-line":g(I(g({},_e),{series:bV,navigator:Ct}),kt),"map-marker":g(I(g({},_e),{series:SV,navigator:Ct}),kt),"map-shape-background":g(I(g({},_e),{series:DV,navigator:Ct}),kt),"map-line-background":g(I(g({},_e),{series:xV,navigator:Ct}),kt),sankey:g(I(g({},_e),{series:NV,navigator:Ct}),kt),chord:g(I(g({},_e),{series:pV,navigator:Ct}),kt),pyramid:g(I(g({},_e),{series:wV,navigator:Ct}),kt),"radial-gauge":I(g(g({},_e),Lx),{targets:ee(F0,["value"]),tooltip:g(g({},Lx.tooltip),_e.tooltip)}),"linear-gauge":I(g(g({},_e),Ox),{targets:ee(P0,["value"]),tooltip:g(g({},Ox.tooltip),_e.tooltip)})};function Zb(e,t){let n={};for(let i of Reflect.ownKeys(e))n[i]=t(e[i],i,e);return n}var iQ=Zb(nQ,function e(t,n){if(Md(n))return t;if(No(t))return Se(t,Id,Md);if(yt(t))return Se(Jt(vp in t?Zb(t,i=>yt(i)?Zb(i,e):i):Zb(t,e)),Id,Md);throw new Error(`Invalid theme override value: ${String(t)}`)}),xi={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Vc={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},rQ=class extends Dh{getDefaultColors(){return{fills:xi,fillsFallback:Object.values(xi),strokes:Vc,sequentialColors:Gr(xi),divergingColors:[xi.ORANGE,xi.YELLOW,xi.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[xi.GREEN,xi.YELLOW,xi.RED],secondHierarchyColors:[],up:{fill:xi.GREEN,stroke:Vc.GREEN},down:{fill:xi.RED,stroke:Vc.RED},neutral:{fill:xi.GRAY,stroke:Vc.GRAY},altUp:{fill:xi.BLUE,stroke:Vc.BLUE},altDown:{fill:xi.ORANGE,stroke:Vc.ORANGE},altNeutral:{fill:xi.GRAY,stroke:Vc.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,xi.BLUE),e.set(zn,xi.BLUE),e}},Si={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Bc={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},oQ=class extends Zo{getDefaultColors(){return I(g({},super.getDefaultColors()),{fills:Si,fillsFallback:Object.values(Si),strokes:Bc,sequentialColors:Gr(Si),divergingColors:[Si.ORANGE,Si.YELLOW,Si.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[Si.GREEN,Si.YELLOW,Si.RED],secondHierarchyColors:[],up:{fill:Si.GREEN,stroke:Bc.GREEN},down:{fill:Si.RED,stroke:Bc.RED},neutral:{fill:Si.GRAY,stroke:Bc.GRAY},altUp:{fill:Si.BLUE,stroke:Bc.BLUE},altDown:{fill:Si.ORANGE,stroke:Bc.ORANGE},altNeutral:{fill:Si.GRAY,stroke:Bc.GRAY}})}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(pn,Si.BLUE),e.set(zn,Si.BLUE),e}},qC=Ii(()=>new Zo),sQ=We.create(!0,"perf"),jo=(e,t,n)=>{sQ("[CACHE] ChartTheme",e,t.name,n)},yT={"ag-default-dark":Ii(()=>new Dh),"ag-sheets-dark":Ii(()=>new d6,jo),"ag-polychroma-dark":Ii(()=>new c6,jo),"ag-vivid-dark":Ii(()=>new rQ,jo),"ag-material-dark":Ii(()=>new a6,jo),"ag-financial-dark":Ii(()=>new o6,jo),"ag-default":qC,"ag-sheets":Ii(()=>new h6,jo),"ag-polychroma":Ii(()=>new u6,jo),"ag-vivid":Ii(()=>new oQ,jo),"ag-material":Ii(()=>new l6,jo),"ag-financial":Ii(()=>new s6,jo)},Fx=Ii(aQ,jo);function aQ(e){if(e instanceof Zo)return e;if(!dQ(e))return qC();if(e==null||typeof e=="string"){let r=yT[e??"ag-default"];if(r)return r();throw new Error(`Cannot find theme \`${e}\`.`)}let{cleared:t,invalid:n}=Dn(lQ(e),cQ,"theme");for(let r of n)P.warnOnce(String(r));let i=t?.baseTheme?Fx(t.baseTheme):qC();return t?new i.constructor(t):i}function lQ(e){if(!yt(e)||!yt(e.baseTheme))return e;let t=e,n,i,r=[];for(;typeof t=="object";)n??(n=t.palette),i??(i=t.params),t.overrides&&r.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:Dt(...r),params:i,palette:n}}var cQ={baseTheme:Se(R,Cc),overrides:iQ,params:{accentColor:K,axisColor:K,backgroundColor:K,borderColor:K,borderRadius:F,chartBackgroundColor:K,chartPadding:F,focusShadow:R,foregroundColor:K,fontFamily:Rb,fontSize:F,fontWeight:Se(R,F),gridLineColor:K,popupShadow:R,subtleTextColor:K,textColor:K,chromeBackgroundColor:K,chromeFontFamily:Rb,chromeFontSize:F,chromeFontWeight:Se(R,F),chromeSubtleTextColor:K,chromeTextColor:K,buttonBackgroundColor:K,buttonBorder:T,buttonFontWeight:F,buttonTextColor:K,inputBackgroundColor:K,inputBorder:T,inputTextColor:K,menuBackgroundColor:K,menuBorder:T,menuTextColor:K,panelBackgroundColor:K,panelSubtleTextColor:K,tooltipBackgroundColor:K,tooltipBorder:T,tooltipTextColor:K,tooltipSubtleTextColor:K,crosshairLabelBackgroundColor:K,crosshairLabelTextColor:K},palette:{fills:he(Ni),strokes:he(K),up:{fill:Se(K,Ob),stroke:K},down:{fill:Se(K,Ob),stroke:K},neutral:{fill:Se(K,Ob),stroke:K}}},uQ=H("ag-default","ag-default-dark","ag-sheets","ag-sheets-dark","ag-polychroma","ag-polychroma-dark","ag-vivid","ag-vivid-dark","ag-material","ag-material-dark","ag-financial","ag-financial-dark");function dQ(e){let{invalid:t}=Dn({theme:e},{theme:Se(uQ,Cc)});for(let n of t)P.warnOnce(String(n));return t.length===0}var Sl={isEnterprise:!1},ei="path",Fo="pathArray",Jn="default",Vo="override",qd="user",Ap="operation",_p="operationValue",vT="dependency",Xw="autoEnable",tP="autoEnableValue";function bT(e){return Ic(e)&&e>=0&&e<=1}function kp(e,t){let n=e;for(let i of t){if(!(typeof i=="string"&&n!=null&&(typeof n=="object"||Array.isArray(n))&&i in n))return!1;n=n[i]}return!0}function zo(e,t){let n=e;for(let i of t){if(!(typeof i=="string"&&n!=null&&(typeof n=="object"||Array.isArray(n))&&i in n))return;n=n[i]}return n}function Jw(e,t,n){let i=t.length;if(i===0)return;let r=e,o=i-1,s=t[o];for(let a=0;a<o;a++){let l=t[a],c=t[a+1],u=r[l];(u==null||!Dc(u))&&(u=isNaN(Number(c))?{}:[],r[l]=u),r=u}r[s]=n}var hQ=/^\d+$/;function PV(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(hQ.test(n))return t}return-1}function ug(e){let t=PV(e);return Number(e[t])}function pu(e,t,n){let i=t.split("/"),r=[...e];t.startsWith("/")&&(r=[],i.shift());let o=!1;for(let s of i){if(s==="..")r.pop(),o||r.pop();else if(s===".")r.pop();else if(s==="$index"){let a=ug(e);if(isNaN(a))return Os;r.push(`${a}`)}else if(s==="$prevIndex"){let a=ug(e);if(isNaN(a)||Number(a)<=0)return Os;r.push(`${Number(a)-1}`)}else if(s.startsWith("$")){let a=n?.[s.slice(1)];if(a==null)return Os;r.push(a)}else s.length!==0&&r.push(s);o=s===".."}return r}var Os=Symbol("unresolvable-path"),El=Symbol("resolved-to-branch");function nh(e,t){if(e==null||typeof e!="object"||Array.isArray(e)||(t??(t=Object.keys(e)),t.length===0))return;let n=t[0];if(jV.has(n))return{operation:n,values:Array.isArray(e[n])?e[n]:[e[n]]}}function fQ(e,t,n){let i=nh(e.getVertexValue(n));switch(i?.operation){case"$path":{let[r]=i.values,o=e.getPathArray(t),s=pu(o,r);return s===Os?void 0:e.findVertexAtPath(s)}case"$value":return t}}var pQ={$hasSeriesType:{dependencies:eC,resolve:gQ},$isChartType:{dependencies:eC,resolve:yQ},$isSeriesType:{dependencies:eC,resolve:mQ}};function eC(e,t,n){let i=e.findVertexAtPath(["series","0","type"]);i&&e.addEdge(t,i,vT)}function gQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i),o=e.getResolvedPath(["series"]);if(!Array.isArray(o))return!1;for(let s of o)if(s.type===r)return!0;return!1}function mQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i);return e.getResolvedPath(["series","0","type"])===r}function yQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i),o=e.getResolvedPath(["series","0","type"]);if(typeof o!="string")return!1;switch(r){case"cartesian":return ni.isCartesian(o);case"polar":return ni.isPolar(o);case"standalone":return ni.isStandalone(o)}return!1}var vQ={$foregroundBackgroundMix:bQ,$foregroundOpacity:xQ,$interpolate:SQ,$isGradient:MQ,$isImage:DQ,$isPattern:IQ,$mix:wQ};function bQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i),o=e.getParamValue("foregroundColor"),s=e.getParamValue("backgroundColor");if(typeof o=="string"&&typeof s=="string"&&bT(r))return zt.mix(zt.fromString(o),zt.fromString(s),1-r).toString();We.inDevelopmentMode(()=>P.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(r)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))}function xQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i),o=e.getParamValue("foregroundColor");if(typeof o=="string"&&bT(r)){let s=zt.fromString(o);return new zt(s.r,s.g,s.b,r).toString()}We.inDevelopmentMode(()=>P.warnOnce(`\`$foregroundOpacity\` json operation failed on [${String(r)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))}function SQ(e,t,n){let[i,r]=n,o=e.resolveVertexValue(t,i),s=e.resolveVertexValue(t,r);if(!(!Ie(o)||!Ic(s)))return zt.interpolate(o.map(a=>zt.fromString(a)),s).map(a=>a.toString())}function MQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i);return Wo(r)}function DQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i);return eu(r)}function IQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i);return Dl(r)}function wQ(e,t,n){let[i,r,o]=n,s=e.resolveVertexValue(t,i),a=e.resolveVertexValue(t,r),l=e.resolveVertexValue(t,o),c=e.getPathArray(t),u=`\`$mix\` json operation failed on [${String(s)}, ${String(a)}, ${String(l)}] at [${c.join(".")}], expecting`,d=`${u} two colors and a number between 0 and 1.`;if(typeof a!="string"||!bT(l)){We.inDevelopmentMode(()=>P.warnOnce(d));return}if(typeof s=="string")try{return zt.mix(zt.fromString(s),zt.fromString(a),l).toString()}catch{We.inDevelopmentMode(()=>P.warnOnce(d));return}if(!Wo(s)){We.inDevelopmentMode(()=>P.warnOnce(d));return}let h=s.colorStops;try{h=h?.map(f=>{let p;return typeof f.color=="string"&&(p=zt.mix(zt.fromString(f.color),zt.fromString(a),l).toString()),I(g({},f),{color:p})})}catch{We.inDevelopmentMode(()=>P.warnOnce(`${u} a gradient, a color and a number between 0 and 1.`));return}return I(g({},s),{colorStops:h})}var CQ={$rem:EQ};function EQ(e,t,n){let[i]=n,r=e.getVertexValue(i),o=e.getParamValue("fontSize");if(typeof o=="number"&&typeof r=="number")return Math.round(r*o);We.inDevelopmentMode(()=>P.warnOnce(`\`$rem\` json operation failed on [${String(r)}] at [${e.getPathArray(t).join(".")}], expecting a number.`))}var TQ={$and:AQ,$eq:_Q,$greaterThan:kQ,$if:NQ,$lessThan:OQ,$not:LQ,$or:RQ,$switch:PQ};function AQ(e,t,n){for(let i of n)if(!e.resolveVertexValue(t,i))return!1;return!0}function _Q(e,t,n){let i,r=!0;for(let o of n){let s=e.resolveVertexValue(t,o);if(r)i=s,r=!1;else if(s!==i)return!1}return!0}function kQ(e,t,n){let[i,r]=n;return e.resolveVertexValue(t,i)>e.resolveVertexValue(t,r)}function NQ(e,t,n){let[i,r,o]=n,a=e.resolveVertexValue(t,i)?r:o,l=e.neighboursWithEdgeValue(a,ei);if(l)for(let c of l)e.addEdge(t,c,ei);return e.resolveVertexValue(t,a)}function OQ(e,t,n){let[i,r]=n;return e.resolveVertexValue(t,i)<e.resolveVertexValue(t,r)}function LQ(e,t,n){for(let i of n)return!e.resolveVertexValue(t,i)}function RQ(e,t,n){for(let i of n)if(e.resolveVertexValue(t,i))return!0;return!1}function PQ(e,t,n){let[i,r,...o]=n,s=e.resolveVertexValue(t,i);for(let a of o){let l=e.getVertexValue(a);if(!Array.isArray(l))continue;let[c,u]=l;if(s===c||Array.isArray(c)&&c.includes(s))return u}return e.getVertexValue(r)}var FQ={$isUserOption:jQ,$isThemeOverride:VQ,$palette:BQ,$mapPalette:zQ,$path:{dependencies:iP,resolve:HQ},$pathString:{dependencies:iP,resolve:UQ},$ref:GQ};function jQ(e,t,n){let[i,r,o]=n,s=e.neighboursWithEdgeValue(i,ei);if(s)for(let a of s){let l=e.findNeighbour(a,Jn);if(l&&nP(e,t,l))return e.resolveVertexValue(t,r)}else if(nP(e,t,i))return e.resolveVertexValue(t,r);return e.resolveVertexValue(t,o)}function nP(e,t,n){let i=e.resolveVertexValue(t,n);if(!nn(i))throw new Error(`\`$isUserOption\` json operation failed on [${String(i)}], expecting a string.`);let r=e.getPathArray(t),o=pu(r,i);return o===Os?!1:e.hasUserOption(o)}function VQ(e,t,n){let[i,r,o]=n,s=e.resolveVertexValue(t,i);if(!nn(s))throw new Error(`\`$isThemeOverride\` json operation failed on [${String(s)}], expecting a string.`);let a=e.getPathArray(t),l=pu(a,s);if(l!==Os)return e.hasThemeOverride(l)?e.resolveVertexValue(t,r):e.resolveVertexValue(t,o)}var FV=new Set(["fill","fillFallback","stroke","gradient","range2"]);function BQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i);if(!nn(r))return;if(FV.has(r)){let s=e.getPathArray(t),a=ug(s);if(isNaN(a))return;switch(r){case"fill":return Lo(e.palette.fills,1,a)[0];case"fillFallback":return Lo(e.palette.fillsFallback,1,a)[0];case"stroke":return Lo(e.palette.strokes,1,a)[0];case"gradient":return Lo(e.palette.sequentialColors,1,a)[0];case"range2":return Lo(e.palette.fills,2,a)}return}if(r==="gradients")return e.palette.sequentialColors;let o=zo(e.palette,r.split("."));return Array.isArray(o)?[...o]:typeof o=="object"?g({},o):o}function zQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i);if(!nn(r))return;if(FV.has(r)){let s=e.getPathArray(t),a=ug(s),l=0,c=["series","0","type"];for(let u=0;u<a;u++){c[1]=`${u}`;let d=e.getResolvedPath(c);(d==="map-shape-background"||d==="map-line-background")&&l++}if(a-=l,isNaN(a))return;switch(r){case"fill":return Lo(e.palette.fills,1,a)[0];case"fillFallback":return Lo(e.palette.fillsFallback,1,a)[0];case"stroke":return Lo(e.palette.strokes,1,a)[0];case"gradient":return Lo(e.palette.sequentialColors,1,a)[0];case"range2":return Lo(e.palette.fills,2,a)}return}if(r==="gradients")return e.palette.sequentialColors;let o=zo(e.palette,r.split("."));return Array.isArray(o)?[...o]:typeof o=="object"?g({},o):o}function iP(e,t,n){let[i]=n,r=e.getVertexValue(i);if(nn(r)){let o=e.getPathArray(t),s=pu(o,r);if(s===Os)return;let a=e.findVertexAtPath(s);a&&e.addEdge(t,a,vT)}}function HQ(e,t,n){let i=n.length>1,r=n.length>2,[o,s,a]=n,l=e.resolveVertexValue(t,o),c=r?e.resolveVertexValue(t,a):null;if(!nn(l))throw new Error(`\`$path\` json operation failed on [${String(l)}], expecting a string.`);let u=e.getPathArray(t),d=pu(u,l);if(d===Os)return;let h=c?zo(c,d):e.getResolvedPath(d);if(h!=null)return h;if(i)return e.resolveVertexValue(t,s)}function UQ(e,t,n){let[i,r]=n,o=e.resolveVertexValue(t,i);if(!nn(o))throw new Error(`\`$path\` json operation failed on [${String(o)}], expecting a string.`);let s;r&&(s=e.graftAndResolveOrphan(t,r));let a=e.getPathArray(t),l=pu(a,o,s);if(l===Os)throw new Error(`Unresolvable path [${o}] at [${a.join(".")}]`);return l}function GQ(e,t,n){let[i]=n,r=e.getVertexValue(i);return e.getParamValue(r)}var $Q={$apply:WQ,$applyTheme:YQ,$findFirstSiblingNotOperation:ZQ,$map:qQ,$merge:KQ,$omit:QQ,$size:XQ,$shallow:JQ,$value:eX};function WQ(e,t,n){let[i,r,o,s]=n,a=e.getVertexValue(i);if(!$e(a))return;let l=r?e.getVertexValue(r):void 0,c=e.neighboursWithEdgeValue(t,ei),u=o?e.resolveVertexValue(t,o):void 0,d=s?e.resolveVertexValue(t,s):void 0;if((!c||c.length===0)&&l!=null)if(nh(l)){let h=e.resolveVertexValue(t,r);$e(h)&&e.graftObject(t,h,[u,d])}else e.graftObject(t,l,[u,d]);if(!c)return El;for(let h of c){let f=e.neighboursWithEdgeValue(h,ei);if(!f||f.length===0){let p=e.addVertex({});e.addEdge(h,p,Jn)}else e.graftObject(h,a,[u,d])}return El}function YQ(e,t,n){let[i,r,o]=n,s=e.getVertexValue(i);if(typeof s=="string"&&(s=[s]),!Array.isArray(s))return;let a=e.neighboursWithEdgeValue(t,ei),l=o?e.getVertexValue(o):[],c=Array.isArray(l)?new Set(l):new Set;if(!a)return El;for(let u of a){let d=e.graftAndResolveOrphan(u,r);for(let h of s){let f=pu([],h,d);f!==Os&&e.graftConfig(u,f,c)}}return El}function ZQ(e,t,n){let[i]=n,r=e.getPathArray(t),o=PV(r);if(o<0)return e.resolveVertexValue(t,i);let s=r.slice(0,o),a=e.findVertexAtPath(s);if(!a)return e.resolveVertexValue(t,i);let l=e.neighboursWithEdgeValue(a,ei);if(l)for(let c=0;c<l.length;c++){if(`${c}`===r[o])continue;let u=s.concat([`${c}`,...r.slice(o+1)]),d=e.findVertexAtPath(u);if(!d)continue;let h=e.findNeighbourValue(d,qd);if(h!=null)return h;let f=e.findNeighbourValue(d,Vo);if(f!=null)return f}return e.resolveVertexValue(t,i)}function qQ(e,t,n){let[i,r]=n,o=e.getVertexValue(i),s=e.resolveVertexValue(t,r);if(!Array.isArray(s))return;if(!nh(o))return s.map(()=>o);let a=0;for(let l of s)e.graftValue(t,`${a}`,o,l),a++;return El}function KQ(e,t,n){for(let i of n){let r=e.resolveVertexValue(t,i);$e(r)&&e.graftObject(t,r)}return El}function QQ(e,t,n){let[i,r]=n,o=e.getVertexValue(i);if(!Array.isArray(o)){let a=fQ(e,t,r);if(!a)return;o=e.resolveVertexValue(a,i)}let s=e.resolveVertexValue(t,r);if(!(!Array.isArray(o)||!$e(s)))return ee(s,o)}function XQ(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i);return Dc(r)?Object.keys(r).length:0}function JQ(e,t,n){let i=[];for(let r of n)i.push(e.getVertexValue(r));return i}function eX(e,t,n){let[i]=n,r=e.getVertexValue(i),o=e.getPathArray(t);if(r==="$index")return ug(o);if(r==="$1")return e.resolveValue$1(o)}var tX={$isEven:nX,$mul:iX,$round:rX};function nX(e,t,n){let[i]=n,r=e.resolveVertexValue(t,i);return isNaN(Number(r))?!1:Number(r)%2===0}function iX(e,t,n){let i;for(let r of n){let o=e.resolveVertexValue(t,r);i==null?i=Number(o):i*=Number(o)}return i}function rX(e,t,n){for(let i of n)return Math.round(Number(e.resolveVertexValue(t,i)))}var jp=g(g(g(g(g(g(g({},pQ),vQ),CQ),FQ),TQ),tX),$Q),jV=new Set(Object.keys(jp));function Np(e){return jV.has(e)}var oX=Ii(sX);function sX(e,t){return new VV(e.config,t,e.params,e.palette,e.overrides,e.getTemplateParameters())}var aX=(()=>{let e=class Bo extends RL{constructor(n={},i={},r=void 0,o=void 0,s={},a=new Map){super(ei,Ap),this.config=n,this.userOptions=i,this.overrides=s,this.internalParams=a,this.resolvedParams={},this.resolvedAnnotations={},this.value$1={},this.cachedPathVertices=new Map,this.EMPTY_PATH_ARRAY_VERTEX=this.addVertex([]),this.root=this.addVertex("root"),this.params=this.addVertex("params"),this.annotations=this.addVertex("annotations"),this.config=n,this.overrides=s,this.internalParams=a,this.palette=o?ln(o):{},this.palette.type=yt(i?.theme)?aj(i.theme?.palette):"inbuilt";let c=i.series?.[0]?.type??"line",u=Ho.cloneDefaultAxes(c);i.axes??(i.axes=u?.axes??[]),this.buildGraphFromObject(this.root,qd,ee(i,["theme"])),this.buildGraphFromObject(this.root,Jn,ee(n[c],Bo.COMPLEX_KEYS));let d=s?ee(s[c],Bo.COMPLEX_KEYS):{};Object.keys(d).length>0&&this.buildGraphFromObject(this.root,Vo,d);let h=s?ee(s.common,Bo.COMPLEX_KEYS):{};Object.keys(h).length>0&&this.buildGraphFromObject(this.root,Vo,ni.isCartesian(c)?h:ee(h,["zoom","navigator"])),r&&this.buildGraphFromObject(this.params,Jn,r);let f=this.findNeighbourWithValue(this.root,"axes",ei),p=this.findNeighbourWithValue(this.root,"series",ei);f&&this.buildGraphFromObject(f,Jn,{$applyTheme:[["/$seriesType/axes/$axisType/$position","/$seriesType/axes/$axisType"],{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["./type","category"]},position:{$path:["./position"]}},["top","right","bottom","left"]]}),p&&this.buildGraphFromObject(p,Jn,{$applyTheme:["/$seriesType/series",{seriesType:{$path:["./type","line"]}}]});let m=ee(n[c]?.annotations??{},Bo.ANNOTATIONS_OPTIONS_KEYS);Object.keys(m).length>0&&this.buildGraphFromObject(this.annotations,Jn,m);let b=ee(s?.common?.annotations??{},Bo.ANNOTATIONS_OPTIONS_KEYS);Object.keys(b).length>0&&this.buildGraphFromObject(this.annotations,Vo,b);let v=mC(n[c]?.annotations??{},Bo.ANNOTATIONS_OPTIONS_KEYS);Object.keys(v).length>0&&this.buildGraphFromObject(this.root,Jn,{annotations:v});let x=mC(s?.common?.annotations??{},Bo.ANNOTATIONS_OPTIONS_KEYS);Object.keys(x).length>0&&this.buildGraphFromObject(this.root,Vo,{annotations:x}),this.buildDependencyGraph()}clear(){super.clear(),this.cachedPathVertices.clear()}resolve(){return this.resolved={},this.resolvedParams={},this.resolvedAnnotations={},this.resolveVertex(this.params,this.resolvedParams),this.resolveVertex(this.annotations,this.resolvedAnnotations),this.resolveVertex(this.root),this.resolved}resolveParams(){return this.resolvedParams}resolveAnnotationThemes(){return this.resolvedAnnotations}findVertexAtPath(n){let i=n.join(".");if(this.cachedPathVertices.has(i))return this.cachedPathVertices.get(i);let r=this.findVertexAlongEdge(this.root,n,ei);if(r)return this.cachedPathVertices.set(i,r),r}hasUserOption(n){return kp(this.userOptions,n)}hasThemeOverride(n){if(n[0]==="axes"&&n.length>1){let i=this.getResolvedPath(["axes",n[1],"type"]);if(kp(this.overrides,["common","axes",i,...n.slice(2)]))return!0;let r=this.getResolvedPath(["series","0","type"]);return kp(this.overrides,[r,"axes",i,...n.slice(2)])}if(n[0]==="series"&&n.length>1){let i=this.getResolvedPath(["series",n[1],"type"]);return kp(this.overrides,[i,"series",...n.slice(2)])}return kp(this.overrides,n)}getParamValue(n){if(this.resolvedParams[n]!=null)return this.resolvedParams[n];let i=this.findVertexAlongEdge(this.params,[n],ei);if(!i)return;let r=this.findNeighbour(i,Jn);if(!r)return;let o=this.resolveVertexValue(i,r);return this.resolvedParams[n]=o,o}getPathArray(n){return this.findNeighbourValue(n,Fo)??[]}getResolvedPath(n){return zo(this.resolved,n)}resolveVertexValue(n,i){this.resolveVertexDependencies(i);let r=this.findNeighbourValue(i,Ap);if(r&&Np(r)){let s=this.neighboursWithEdgeValue(i,_p),a=jp[r],c=(typeof a=="function"?a:a.resolve)?.(this,n,s??[]);return c===El?void 0:c}let o=this.getVertexValue(i);if(Array.isArray(o)){let s={};this.resolveVertexChildren(i,s),o=zo(s,this.getPathArray(n))}return this.resolveValueOrSymbol(o)}resolveValue$1(n){return zo(this.value$1,n)}graftConfig(n,i,r){let o=zo(this.config,i),s=this.findNeighbour(n,Fo);if($e(o)&&this.buildGraphFromObject(n,Jn,o,s,void 0,r),this.overrides){let a=zo(this.overrides,i);$e(a)&&this.buildGraphFromObject(n,Vo,a,s,void 0,r);let l=zo(this.overrides,["common",...i.slice(1)]);$e(l)&&this.buildGraphFromObject(n,Vo,l,s,void 0,r)}this.buildDependencyGraph()}graftObject(n,i,r){let o=this.findNeighbour(n,Fo);if(this.buildGraphFromObject(n,Jn,i,o),this.overrides&&r)for(let s of r){if(s==null)continue;let a=zo(this.overrides,s);a&&this.buildGraphFromObject(n,Vo,a,o)}this.buildDependencyGraph()}graftValue(n,i,r,o){let s=[...this.getPathArray(n),i];Jw(this.value$1,s,o);let a=this.findVertexAtPath(s)??this.addVertex(i);this.buildGraphFromValue(n,a,Jn,s,r),this.buildDependencyGraph()}graftAndResolveOrphan(n,i){let r={},o=this.addVertex(r),s=this.getPathArray(n);return this.graftAndResolveChildren(i,o,s,[]),this.resolveVertex(o,r),zo(r,s)}buildGraphFromObject(n,i,r,o,s=Bo.SHALLOW_KEYS,a){let l=Object.keys(r),c=nh(r,l);if(c){let m=this.addVertex(r);this.addEdge(n,m,i),this.buildGraphFromOperation(m,i,c,o);return}if(l.length===0){this.addEdge(n,this.addVertex(Array.isArray(r)?[]:{}),i),this.buildGraphAutoEnable(n,i,r,void 0);return}let u=this.getVertexChildrenByKey(n),d=o?this.getVertexValue(o):[],h,f=[...d],p=d.length;for(let m of l){if(a?.has(m))continue;let b=u?.get(m)??this.addVertex(m);f[p]=m,s?.has(m)?this.buildShallowGraphFromValue(n,b,i,f,r[m]):this.buildGraphFromValue(n,b,i,f,r[m],s),m==="enabled"&&(h=b)}this.buildGraphAutoEnable(n,i,r,h)}buildGraphAutoEnable(n,i,r,o){if(i===Jn&&!o||i===qd&&o||i!==Jn&&i!==qd&&i!==Vo)return;let s=this.findNeighbour(n,Xw);s||(s=this.addVertex(Xw),this.addEdge(n,s,Xw)),o&&this.addEdge(o,s,tP);let{enabled:a,_enabledFromTheme:l}=r;this.addEdge(s,this.addVertex({enabled:a,_enabledFromTheme:l,keys:Object.keys(r).length}),i)}getVertexChildrenByKey(n){let i=this.neighboursWithEdgeValue(n,ei);if(!i)return;let r=new Map;for(let o of i)r.set(this.getVertexValue(o),o);return r}buildGraphFromValue(n,i,r,o,s,a){this.addEdge(n,i,ei);let l=this.findNeighbour(i,Fo);l||(l=this.addVertex([...o]),this.addEdge(i,l,Fo));let c=nh(s);if(c){let u=this.addVertex(s);this.addEdge(i,u,r),this.addEdge(u,l,Fo),this.buildGraphFromOperation(u,r,c,l)}else if(Dc(s))this.buildGraphFromObject(i,r,s,l,a);else{let u=this.addVertex(s);this.addEdge(i,u,r)}}buildShallowGraphFromValue(n,i,r,o,s){this.addEdge(n,i,ei);let a=this.findNeighbour(i,Fo);a||(a=this.addVertex([...o]),this.addEdge(i,a,Fo));let l=this.addVertex(s);this.addEdge(i,l,r)}buildGraphFromOperation(n,i,r,o){let s=this.addVertex(r.operation);this.addEdge(n,s,Ap);for(let a of r.values)this.buildGraphFromOperationValue(n,a,i,o)}buildGraphFromOperationValue(n,i,r,o=this.EMPTY_PATH_ARRAY_VERTEX){let s=this.addVertex(i);this.addEdge(n,o,Fo),this.addEdge(n,s,_p);let a=nh(i);a?this.buildGraphFromOperation(s,r,a,o):Dc(i)&&this.buildGraphFromObject(s,r,i,o)}buildDependencyGraph(){for(let n=0;n<this.pendingProcessingEdgesFrom.length;n++){let i=this.pendingProcessingEdgesFrom[n],r=this.pendingProcessingEdgesTo[n],o=this.getVertexValue(r);if(!Np(o))continue;let s=this.neighboursWithEdgeValue(i,_p),a=jp[o];(typeof a=="function"?void 0:a.dependencies)?.(this,i,s??[])}this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}resolveVertex(n,i=this.resolved){let r=this.getPathArray(n);this.resolveVertexInEdgePriority(n,i,r),this.resolveVertexAutoEnable(n,i,r),this.resolveVertexChildren(n,i)}resolveVertexInEdgePriority(n,i,r){let o=this.neighboursWithEdgeValue(n,ei),[s]=Bo.EDGE_PRIORITY;for(let a of Bo.EDGE_PRIORITY){let l=this.findNeighbour(n,a);if(l==null)continue;let c=this.resolveVertexValueInternal(n,l);if(!(c==null&&a!==s)&&!(o&&o.length>0&&Array.isArray(c)&&a!==s)){if(r.length===0){if(c==null)continue;this.resolved=c}else Jw(i,r,c);break}}}resolveVertexValueInternal(n,i){this.resolveVertexDependencies(i);let r=this.findNeighbourValue(i,Ap);if(r&&Np(r)){let o=this.neighboursWithEdgeValue(i,_p),s=jp[r],l=(typeof s=="function"?s:s.resolve)?.(this,n,o??[]);return l===El?void 0:l}return this.resolveValueOrSymbol(this.getVertexValue(i))}resolveVertexAutoEnable(n,i,r){let o=this.neighboursWithEdgeValue(n,tP)?.[0];if(!o)return;let s=this.findNeighbourValue(o,Jn),a=this.findNeighbourValue(o,Vo),l=this.findNeighbourValue(o,qd);l&&l.enabled==null&&!s?._enabledFromTheme&&!a?._enabledFromTheme&&Jw(i,r,!0)}resolveVertexChildren(n,i){let r=this.neighboursWithEdgeValue(n,ei);if(r)for(let o of r){let s=this.getVertexValue(o);r.length>1&&Np(s)||s!=="_enabledFromTheme"&&this.resolveVertex(o,i)}}resolveVertexDependencies(n){let i=this.neighboursWithEdgeValue(n,vT);if(i)for(let r of i)this.resolveVertex(r)}graftAndResolveChildren(n,i,r,o){let s=this.neighboursWithEdgeValue(n,ei);if(s)for(let a of s){let l=this.getVertexValue(a),c=[...r,l],u=[...o,l],d=this.addVertex(l),h=this.findNeighbourValue(a,Jn);this.addEdge(i,d,ei);let f=this.addVertex(c);if(this.addEdge(d,f,Fo),$e(h)){this.buildGraphFromObject(d,Jn,h,f);let p=this.findNeighbour(d,Jn);this.addEdge(p,this.addVertex(c),Fo);let m=this.findNeighbourValue(p,Ap);if(Np(m)){let b=this.neighboursWithEdgeValue(p,_p),v=jp[m];(typeof v=="function"?void 0:v.dependencies)?.(this,p,b??[])}}this.graftAndResolveChildren(a,d,c,u)}}resolveValueOrSymbol(n){return typeof n=="symbol"&&this.internalParams?.has(n)?this.internalParams.get(n):n}};return e.EDGE_PRIORITY=[qd,Vo,Jn],e.SHALLOW_KEYS=new Set(["context","data","topology"]),e.COMPLEX_KEYS=["annotations","axes","series"],e.ANNOTATIONS_OPTIONS_KEYS=["axesButtons","data","enabled","optionsToolbar","snap","toolbar","xKey","volumeKey"],e})(),VV=aX,rP=e=>`'${e}'`,gu=class hi{constructor(t,n,i,r,o,s,a=!1,l){this.themeParameters={},this.optionMetadata=o??{},this.processedOverrides=i??{};let c=null;t instanceof hi?(c=t,this.specialOverrides=c.specialOverrides,s===void 0&&(s=Da(c.userOptions,n,hi.JSON_DIFF_OPTS)),this.userOptions=ln(qp(s,c.userOptions),I(g({},hi.OPTIONS_CLONE_OPTS_SLOW),{seen:[]}))):(this.userOptions=ln(t??n,I(g({},hi.OPTIONS_CLONE_OPTS_SLOW),{seen:[]})),this.specialOverrides=this.specialOverridesDefaults(g({},r))),a&&this.removeLeftoverSymbols(this.userOptions);let u,d,h,f,p,m;if(!a&&s!==void 0&&hi.isFastPathDelta(s)&&c!=null?({activeTheme:u,processedOptions:d,fastDelta:h}=this.fastSetup(s,c),f=c.themeParameters,p=c.annotationThemes):(hi.perfDebug("ChartOptions.slowSetup()"),{activeTheme:u,processedOptions:d,themeParameters:f,annotationThemes:p,googleFonts:m}=this.slowSetup(i,s,a)),this.activeTheme=u,this.processedOptions=d,this.fastDelta=h??void 0,this.themeParameters=f,this.annotationThemes=p,this.googleFonts=m,l!==void 0&&typeof l=="number"&&!isNaN(l)){let b=performance.now();this.optionsProcessingTime=b-l}We.inDevelopmentMode(()=>ga(this))}static isFastPathDelta(t){for(let n of Object.keys(t??{}))if(!this.FAST_PATH_OPTIONS.has(n))return hi.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",n),!1;return hi.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(t,n){let{activeTheme:i,processedOptions:r}=n,{presetType:o}=this.optionMetadata;if(o!=null&&t?.data!=null){let a=ui.getPresetModule(o);if(a?.processData){let{series:l,data:c}=a.processData(t.data);t=Dt({series:l,data:c},t)}}this.fastSeriesSetup(t,r);let s=Dt(t,r);return hi.debug("ChartOptions.fastSetup() - processed options",s),{activeTheme:i,processedOptions:s,fastDelta:t}}fastSeriesSetup(t,n){t?.series&&(t.series?.every((i,r)=>u2(i,n.series?.[r]??{}))?delete t.series:t.series=t.series.map((i,r)=>qp(i,n.series?.[r]??{})))}slowSetup(t,n,i=!1){let r=ln(this.userOptions,hi.OPTIONS_CLONE_OPTS_FAST);n&&(r=Dt(n,r),i&&this.removeLeftoverSymbols(r));let{presetType:o}=this.optionMetadata;if(o!=null){let f=ui.getPresetModule(o);if(f){let{validate:p=Dn}=f,m=r,b=r.type,v=b!=null?Fx(r.theme).presets[b]:void 0,{cleared:x,invalid:M}=p(m,f.options,"");M.forEach(D=>P.warn(D)),Tc(M,"")?r={}:(hi.debug(">>> AgCharts.createOrUpdate() - applying preset",x),r=f.create(x,v,()=>this.activeTheme))}}this.soloSeriesIntegrity(r),Sl.isEnterprise||WR(r);let s=Fx(r.theme);if(o!=null&&s.templateTheme(r,!1),this.validateSeriesOptions(r),this.chartDef=ui.detectChartDefinition(r),!this.chartDef.placeholder){let{validate:f=Dn}=this.chartDef,{cleared:p,invalid:m}=f(r,this.chartDef.options,"");m.forEach(b=>P.warn(b)),r=p}this.validateAxesOptions(r),this.removeDisabledOptions(r);let a=this.processFonts(s.params);a=this.processFonts(r,a),this.processSeriesOptions(r);let l=oX(s,r),c=l.resolve(),u=l.resolveParams(),d=l.resolveAnnotationThemes();l.clear();let h=Dt(t,c);return YK(h),Sl.isEnterprise||WR(h,!0),this.validateSeriesOptions(h),this.validateAxesOptions(h),this.validatePluginOptions(h),this.processMiniChartSeriesOptions(h),h.loadGoogleFonts||a.clear(),hi.debug(()=>["ChartOptions.slowSetup() - processed options",ln(h)]),{activeTheme:s,processedOptions:h,themeParameters:u,annotationThemes:d,googleFonts:a}}validatePluginOptions(t){for(let n of ui.listModulesByType(xp.Plugin)){let i=n.name;if(i in t&&(!n.chartType||n.chartType===this.chartDef?.name)){let{cleared:r,invalid:o}=Dn(t[i],n.options,n.name);o.forEach(s=>P.warn(s)),t[i]=r}}}validateSeriesOptions(t){let n=this.chartDef?.name,i=[],r=t.series?.length??0,o;for(let s=0;s<r;s++){let a=`series[${s}]`,l=t.series[s],c=ui.getSeriesModule(l.type);if(c==null){o??(o=Dd(Array.from(ui.listModulesByType(xp.Series)).filter(f=>!n||f.chartType===n).map(f=>f.name),"or",rP)),P.warn(l.type==null?`Option \`${a}.type\` is required and has not been provided; expecting ${o}, ignoring.`:`Unknown type \`${l.type}\` at \`${a}.type\`; expecting ${o}, ignoring.`);continue}else if(n&&c.chartType!==n){P.warn(`Series type \`${c.name}\` at \`${a}.type\` is not supported by chart type \`${n}\`, ignoring.`);continue}let{validate:u=Dn}=c,{cleared:d,invalid:h}=u(l,c.options,a);h.forEach(f=>P.warn(f)),Tc(h,a)||i.push(d)}t.series=i}validateAxesOptions(t){if(!("axes"in t)||!t.axes)return;let n=this.chartDef?.name,i=[],r=t.axes.length??0,o;for(let s=0;s<r;s++){let a=`axes[${s}]`,l=t.axes[s],c=ui.getAxisModule(l.type);if(c==null){o??(o=Dd(Array.from(ui.listModulesByType(xp.Axis)).filter(f=>f.chartType===n).map(f=>f.name),"or",rP)),P.warn(`Unknown type \`${l.type}\` at  \`${a}.type\`; expecting one of ${o}, ignoring all axes options.`),delete t.axes;break}else if(c.chartType!==n){P.warn(`Axis type \`${c.name}\` at  \`${a}.type\` is not supported by chart type \`${n}\`, ignoring.`);break}let{validate:u=Dn}=c,{cleared:d,invalid:h}=u(l,c.options,a);h.forEach(f=>P.warn(f)),Tc(h,a)||i.push(d)}t.axes=i}diffOptions(t){return this===t?{}:t==null?this.processedOptions:this.fastDelta??Da(t.processedOptions,this.processedOptions,hi.JSON_DIFF_OPTS)}optionsType(t){return t.series?.[0]?.type??"line"}processSeriesOptions(t){let n=t.series?.map(i=>{i.type??(i.type="line");let o=!!ui.getSeriesModule(i.type)?.options.visible;return Dt(this.getSeriesGroupingOptions(i),i,o&&{visible:!0})});t.series=this.setSeriesGroupingOptions(n??[])}processMiniChartSeriesOptions(t){let n=t.navigator?.miniChart?.series;n!=null&&(t.navigator.miniChart.series=this.setSeriesGroupingOptions(n))}getSeriesGroupingOptions(t){let n=Ho.isGroupable(t.type),i=Ho.isStackable(t.type),r=Ho.isStackedByDefault(t.type);t.grouped&&!n&&P.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!i&&P.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:o,stacked:s}=t;return s??(s=(r||t.stackGroup!=null)&&!(n&&o)),o??(o=!0),{stacked:i&&s,grouped:n&&o&&!(i&&s)}}setSeriesGroupingOptions(t){let n=this.getSeriesGrouping(t);hi.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",n);let i={},r=n.reduce((o,s)=>{var a;return s.groupType==="default"||(o[a=s.seriesType]??(o[a]=0),o[s.seriesType]+=s.groupType==="stack"?1:s.series.length),o},{});return n.flatMap(o=>{var s;switch(i[s=o.seriesType]??(i[s]=0),o.groupType){case"stack":{let a=i[o.seriesType]++;return o.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupId:o.groupId,groupIndex:a,groupCount:r[o.seriesType],stackIndex:c,stackCount:o.series.length}}))}case"group":return o.series.map(a=>Object.assign(a,{seriesGrouping:{groupId:o.groupId,groupIndex:i[o.seriesType]++,groupCount:r[o.seriesType],stackIndex:0,stackCount:0}}))}return o.series}).map(l=>{var c=l,{stacked:o,grouped:s}=c,a=Vt(c,["stacked","grouped"]);return a})}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){let n=new Map;return t.reduce((i,r)=>{let o=r.type;if(!r.stacked&&!r.grouped)i.push({groupType:"default",seriesType:o,series:[r],groupId:"__default__"});else{let s=this.getSeriesGroupId(r);if(!n.has(s)){let l={groupType:r.stacked?"stack":"group",seriesType:o,series:[],groupId:s};n.set(s,l),i.push(l)}n.get(s).series.push(r)}return i},[])}soloSeriesIntegrity(t){if(!Ie(t.series))return;let n=t.series;if(n&&n.length>1&&n.some(i=>Ho.isSolo(i.type))){let i=this.optionsType(t);if(Ho.isSolo(i))P.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),t.series=n.slice(0,1);else{let{solo:r,nonSolo:o}=wd(n,a=>Ho.isSolo(a.type)?"solo":"nonSolo"),s=SL(r.map(a=>a.type)).join(", ");P.warn(`Unable to mix these series types with the lead series type: ${s}`),t.series=o}}}static processFontOptions(t,n,i,r=new Set){if(typeof t=="object"&&"fontFamily"in t)if(Array.isArray(t.fontFamily)){let o=[];for(let s of t.fontFamily)typeof s=="object"&&"googleFont"in s?(o.push(s.googleFont),r?.add(s.googleFont)):o.push(s);t.fontFamily=o.join(", ")}else typeof t.fontFamily=="object"&&"googleFont"in t.fontFamily&&(t.fontFamily=t.fontFamily.googleFont,r?.add(t.fontFamily));return r}processFonts(t,n=new Set){return yl(t,hi.processFontOptions,new Set(["data","theme"]),void 0,void 0,n)}static removeDisabledOptionJson(t){"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(n=>{n!=="enabled"&&delete t[n]})}removeDisabledOptions(t){yl(t,hi.removeDisabledOptionJson,new Set(["data","theme","contextMenu"]))}static removeLeftoverSymbolsJson(t){if(!(!t||!yt(t)))for(let n of Object.keys(t)){let i=t[n];Md(i)&&delete t[n]}}removeLeftoverSymbols(t){yl(t,hi.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(t){if(t.window==null?t.window=Ce():lL(t.window),t.document==null?t.document=ki():aL(t.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};gu.OPTIONS_CLONE_OPTS_SLOW={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])};gu.OPTIONS_CLONE_OPTS_FAST={shallow:new Set(["container"]),assign:new Set(["data","context","theme"])};gu.JSON_DIFF_OPTS=new Set(["data"]);gu.perfDebug=We.create(!0,"perf");gu.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]);gu.debug=We.create(!0,"opts");var Wp=gu,oP=We.create(!0,"opts"),zc="AG Charts - Chart was destroyed, cannot perform request.",ux=(()=>{let e=class{constructor(n,i,r){this.factoryApi=i,this.licenseManager=r,this.chart=n}update(n){return Fe(this,null,function*(){if(!this.chart)throw new Error(zc);return oP.group("AgChartInstance.update()",()=>Fe(this,null,function*(){let i=We.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.update(n,this,void 0,i),yield this.chart?.waitForUpdate()}))})}updateDelta(n){return Fe(this,null,function*(){if(!this.chart)throw new Error(zc);return oP.group("AgChartInstance.updateDelta()",()=>Fe(this,null,function*(){let i=We.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.updateUserDelta(this,n,i),yield this.chart?.waitForUpdate()}))})}getOptions(){if(!this.chart)throw new Error(zc);let n=ln(this.chart.getOptions(),Wp.OPTIONS_CLONE_OPTS_FAST);for(let i of Object.keys(n))i.startsWith("_")&&delete n[i];return n}waitForUpdate(){if(!this.chart)throw new Error(zc);return this.chart.waitForUpdate()}download(n){return Fe(this,null,function*(){if(!this.chart)throw new Error(zc);let i=yield this.prepareResizedChart(this,this.chart,n);try{i.chart?.download(n?.fileName,n?.fileFormat)}finally{i.destroy()}})}__toSVG(n){return Fe(this,null,function*(){if(!this.chart)throw new Error(zc);let i=yield this.prepareResizedChart(this,this.chart,g({width:600,height:300},n));try{return i?.chart?.toSVG()}finally{i?.destroy()}})}getImageDataURL(n){return Fe(this,null,function*(){if(!this.chart)throw new Error(zc);let i=yield this.prepareResizedChart(this,this.chart,n);try{return i.chart.getCanvasDataURL(n?.fileFormat)}finally{i.destroy()}})}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}setState(n){return Fe(this,null,function*(){let{chart:i}=this;if(!i)return;let r=this.getEnabledOriginators();if(!r.includes(i.ctx.legendManager)){yield this.setStateOriginators(n,r);return}yield this.setStateOriginators(n,r.filter(o=>o!==i.ctx.zoomManager)),yield this.setStateOriginators(n,[i.ctx.zoomManager])})}resetAnimations(){this.chart?.resetAnimations()}skipAnimations(){this.chart?.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}prepareResizedChart(o,s){return Fe(this,arguments,function*(n,i,r={}){let a=r.width??i.width??i.ctx.scene.canvas.width,l=r.height??i.height??i.ctx.scene.canvas.height,c=n.getState(),u=_s.hasEnterpriseModules(),d=I(g({},i.chartOptions.processedOverrides),{container:document.createElement("div"),width:a,height:l});r.width!=null&&r.height!=null&&(d.overrideDevicePixelRatio=1);let h=i.getOptions();u&&(d.animation={enabled:!1},this.licenseManager?.isDisplayWatermark()&&(d.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));let f=g({},i.chartOptions.specialOverrides),p=g({},i.chartOptions.optionMetadata),m=yield this.chart?.ctx.dataService.getData(),b=this.factoryApi.create(h,d,f,p,m);yield b.setState(c),b.chart?.ctx.zoomManager.updateZoom("chartProxy",i.ctx.zoomManager.getZoom()),b.chart?.ctx.legendManager.clearData(),b.chart?.ctx.legendManager.update(i.ctx.legendManager.getData()),i.series.forEach((x,M)=>{b.chart.series[M].visible=x.visible});let v=[];for(let x of i.modulesManager.legends())v.push(x.legend.pagination?.currentPage??0);for(let x of b.chart.modulesManager.legends()){let M=v.shift()??0;x.legend.pagination&&x.legend.pagination.setPage(M)}return b.chart?.update(0,{forceNodeDataRefresh:!0}),yield b.waitForUpdate(),b})}getEnabledOriginators(){if(!this.chart)return[];let{chartOptions:{processedOptions:n,optionMetadata:i},ctx:{annotationManager:r,chartTypeOriginator:o,zoomManager:s,legendManager:a}}=this.chart,l=[];return"annotations"in n&&n.annotations?.enabled&&l.push(r),i.presetType==="price-volume"&&l.push(o),(n.navigator?.enabled||n.zoom?.enabled)&&l.push(s),"legend"in this.chart&&l.push(a),l}setStateOriginators(n,i){return Fe(this,null,function*(){this.factoryApi.caretaker.restore(n,...i),this.chart?.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),yield this.chart?.waitForUpdate()})}};return e.chartInstances=new WeakMap,e})();y([Vi({oldValue(e){e.destroyed||(e.publicApi=void 0),ux.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,ux.chartInstances.set(e,this))}})],ux.prototype,"chart",2);var sP=ux,xT=class extends Wx{constructor(e){super(),this.ctx=e,this.localeText=void 0}};y([Tl(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),S],xT.prototype,"localeText",2);y([Tl(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),S],xT.prototype,"getLocaleText",2);var lX={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new xT(e)},kh=class extends Wx{constructor(e){super(),this.ctx=e,this.rectNode=new oi,this.textNode=new Vr,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new Ve({name:"background",zIndex:0})}onLayoutComplete(e){let{width:t,height:n}=e.chart;this.rectNode.width=t,this.rectNode.height=n}};y([S,En("node","visible")],kh.prototype,"visible",2);y([S,En("rectNode","fill")],kh.prototype,"fill",2);y([S],kh.prototype,"image",2);y([S,En("textNode")],kh.prototype,"text",2);var BV={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new kh(e)},mu=class extends Te{constructor(e){super(),this.node=e,this.enabled=!1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=1}};y([Vi({changeValue(e){e?this.node.strokeWidth=this.strokeWidth:this.node.strokeWidth=0}}),S],mu.prototype,"enabled",2);y([En("node","stroke"),S],mu.prototype,"stroke",2);y([En("node","strokeOpacity"),S],mu.prototype,"strokeOpacity",2);y([Vi({changeValue(e){this.enabled?this.node.strokeWidth=e:this.node.strokeWidth=0}}),S],mu.prototype,"strokeWidth",2);function cX({orientation:e,bboxes:t,maxHeight:n,maxWidth:i,itemPaddingY:r=0,itemPaddingX:o=0,forceResult:s=!1}){let a=e==="horizontal",l={max:a?i:n,fn:a?h=>h.width:h=>h.height,padding:a?o:r},c={max:a?n:i,fn:a?h=>h.height:h=>h.width,padding:a?r:o},u=0,d=[];for(;u<t.length;){let h=t.slice(u),f=uX(h,u,l,c,s);if(!f)return;u+=f.processedBBoxCount,d.push(f.pageIndices)}return hX(d,e,t,r,o)}function uX(e,t,n,i,r){let s=pX(e,n);if(s<1){if(!r)return;s=1}let a=s;for(;a>=1;){let l=dX(e,t,a,n,i,r);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function dX(e,t,n,i,r,o){let s=[],a=0,l=0,c=[],u=[];for(let d=0;d<e.length;d++){let h=(d+n)%n;h===0&&(a+=l,l=0,c.length>0&&s.push(c),c=[]);let f=i.fn(e[d])+i.padding;u[h]=Math.max(u[h]??0,f),l=Math.max(l,r.fn(e[d])+r.padding);let p=a+l,m=!o||s.length>0;if(p>r.max&&m){c=[];break}if(u.reduce((v,x)=>v+x,0)>i.max&&!o)return u.length<n?u.length:void 0;c.push(d+t)}return c.length>0&&s.push(c),s.length>0?s:void 0}function hX(e,t,n,i,r){let o=0,s=0;return{pages:e.map(l=>{t==="horizontal"&&(l=fX(l));let c=0,u=l.map(f=>{let p=f.map(v=>(c=Math.max(v,c),n[v])),m=0,b=0;return p.forEach(v=>{m+=v.height+i,b=Math.max(b,v.width+r)}),{indices:f,bboxes:p,columnHeight:Math.ceil(m),columnWidth:Math.ceil(b)}}),d=0,h=0;return u.forEach(f=>{d+=f.columnWidth,h=Math.max(h,f.columnHeight)}),o=Math.max(d,o),s=Math.max(h,s),{columns:u,startIndex:l[0][0],endIndex:c,pageWidth:d,pageHeight:h}}),maxPageWidth:o,maxPageHeight:s}}function fX(e){let t=[];for(let n of e[0])t.push([]);return e.forEach((n,i)=>{n.forEach((r,o)=>{t[o][i]=r})}),t}function pX(e,t){let n=e.length,i=0;for(let r=0;r<n;r++)if(i+=t.fn(e[r])+t.padding,i>t.max)return n/r<2?Math.ceil(n/2):r;return n}var Nh=class extends Te{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};y([S],Nh.prototype,"color",2);y([S],Nh.prototype,"fontStyle",2);y([S],Nh.prototype,"fontWeight",2);y([S],Nh.prototype,"fontSize",2);y([S],Nh.prototype,"fontFamily",2);var ba=class extends Te{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};y([S],ba.prototype,"size",2);y([S],ba.prototype,"fill",2);y([S],ba.prototype,"fillOpacity",2);y([S],ba.prototype,"stroke",2);y([S],ba.prototype,"strokeWidth",2);y([S],ba.prototype,"strokeOpacity",2);var Z0=class extends Te{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};y([Vi({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Z0.prototype,"shape",2);y([S],Z0.prototype,"size",2);y([S],Z0.prototype,"padding",2);var Oh=(()=>{let e=class extends Te{constructor(t,n){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=n,this.id=In(this),this.marker=new Z0(this),this.activeStyle=new ba,this.inactiveStyle=new ba,this.highlightStyle=new ba,this.label=new Nh,this.group=new Fi({name:"pagination"}),this.labelNode=new Vr,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new Hn,this.previousButton=new Hn,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){switch(this._orientation=t,t){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:t,padding:n}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+n}updateNextButtonPosition(){let t=this.labelNode.getBBox();this.nextButton.translationX=t.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){let{currentPage:t,totalPages:n,labelNode:i,label:{color:r,fontStyle:o,fontWeight:s,fontSize:a,fontFamily:l}}=this;i.text=`${t+1} / ${n}`,i.fill=r,i.fontStyle=o,i.fontWeight=s,i.fontSize=a,i.fontFamily=l}updateMarkers(){let{nextButton:t,previousButton:n,nextButtonDisabled:i,previousButtonDisabled:r,activeStyle:o,inactiveStyle:s,highlightStyle:a,highlightActive:l}=this,c=(u,d)=>d?s:u===l?a:o;this.updateMarker(t,c("next",i)),this.updateMarker(n,c("previous",r))}updateMarker(t,n){let{shape:i,size:r}=this.marker;t.shape=i,t.size=r,t.fill=n.fill,t.fillOpacity=n.fillOpacity??1,t.stroke=n.stroke,t.strokeWidth=n.strokeWidth,t.strokeOpacity=n.strokeOpacity}enableOrDisableButtons(){let{currentPage:t,totalPages:n}=this,i=n===0,r=t===n-1,o=t===0;this.nextButtonDisabled=r||i,this.previousButtonDisabled=o||i}setPage(t){t=se(0,t,Math.max(0,this.totalPages-1)),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}getCursor(t){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[t]?void 0:"pointer"}onClick(t,n){t.preventDefault(),n==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):n==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(t){this.highlightActive=t,this.updateMarkers(),this.chartUpdateCallback(7)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(7)}attachPagination(t){t.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){let t=gn.toCanvas(this.previousButton),n=gn.toCanvas(this.nextButton);return{prev:t,next:n}}};return e.className="Pagination",e})();y([S],Oh.prototype,"marker",2);y([S],Oh.prototype,"activeStyle",2);y([S],Oh.prototype,"inactiveStyle",2);y([S],Oh.prototype,"highlightStyle",2);y([S],Oh.prototype,"label",2);var gX=class{constructor(e,t){this.dirty=!0,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"}}),this.itemDescription=fe("p"),this.itemDescription.style.display="none",this.itemDescription.id=_c(),this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}initLegendList(e){if(!this.dirty)return;let{ctx:t,itemSelection:n,datumReader:i,itemListener:r}=e,o=t.localeManager,s=n.length;n.each((a,l,c)=>{a.proxyButton?.destroy(),a.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(o,i.getItemLabel(l),c,s),ariaChecked:!!a.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});let u=a.proxyButton;u.addListener("click",d=>r.onClick(d.sourceEvent,a.datum,u)),u.addListener("dblclick",d=>r.onDoubleClick(d.sourceEvent,a.datum)),u.addListener("mouseenter",d=>r.onHover(d.sourceEvent,a)),u.addListener("mouseleave",()=>r.onLeave()),u.addListener("contextmenu",d=>r.onContextClick(d,a)),u.addListener("blur",()=>r.onLeave()),u.addListener("focus",d=>r.onHover(d.sourceEvent,a)),u.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons({itemSelection:e,group:t,pagination:n,interactive:i}){let r=gn.toCanvas(t);this.itemList.setBounds(r);let o=Math.max(...e.nodes().map(s=>s.getBBox().height));e.each((s,a)=>{if(s.proxyButton){let l=s.pageIndex===n.currentPage,{x:c,y:u,height:d,width:h}=gn.toCanvas(s),f=(o-d)/2,p={x:c-r.x,y:u-f-r.y,height:o,width:h},m=i&&l;s.proxyButton.setCursor("pointer"),s.proxyButton.setEnabled(m),s.proxyButton.setPointerEvents(m?void 0:"none"),s.proxyButton.setBounds(p)}})}updatePaginationProxyButtons(e,t){let{pagination:n}=e;if(this.paginationGroup.setHidden(!n.visible),t&&"ctx"in e){let{ctx:i,oldPages:r,newPages:o}=e,s=(r?.length??o.length)>1,a=o.length>1;s!==a&&(a?(this.prevButton=i.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",l=>this.onPageButton(e,l,"previous")),this.prevButton.addListener("mouseenter",()=>n.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>n.onMouseHover(void 0)),this.nextButton??(this.nextButton=i.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",l=>this.onPageButton(e,l,"next")),this.nextButton.addListener("mouseenter",()=>n.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>n.onMouseHover(void 0))):(this.nextButton?.destroy(),this.prevButton?.destroy(),this.nextButton=void 0,this.prevButton=void 0)),this.paginationGroup.setAriaHidden(a?void 0:!0)}if(this.prevButton&&this.nextButton){let{prev:i,next:r}=n.computeCSSBounds(),o=re.merge([i,r]);i.x-=o.x,i.y-=o.y,r.x-=o.x,r.y-=o.y,this.paginationGroup.setBounds(o),this.prevButton.setBounds(i),this.nextButton.setBounds(r),this.prevButton.setEnabled(n.currentPage!==0),this.nextButton.setEnabled(n.currentPage!==n.totalPages-1),this.nextButton.setCursor(n.getCursor("next")),this.prevButton.setCursor(n.getCursor("previous"))}}onPageButton(e,t,n){e.pagination.onClick(t.sourceEvent,n),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((n,i,r)=>{let[o,s]=[t[i],e[i]];return o.id!==s.id})}onLocaleChanged(e,t,n){let i=t.length;t.each(({proxyButton:r},o,s)=>{let a=r?.getElement();if(a!=null){let l=n.getItemLabel(o);a.textContent=this.getItemAriaText(e,l,s,i)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,n,i){return n>=0&&t?(n++,e.t("ariaLabelLegendItem",{label:t,index:n,count:i})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function aP(e,{itemId:t,seriesId:n,label:{text:i}},r){let o={defaultPrevented:!1,apiEvent:{type:e,itemId:t,seriesId:n,text:i,event:r,preventDefault:()=>o.defaultPrevented=!0}};return o}var Xo=(()=>{let e=class extends Fi{constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new Ve({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new Vr),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new Hn({zIndex:1})),this.line=this.symbolsGroup.appendChild(new co({zIndex:0}));let{label:t,line:n,symbolsGroup:i}=this;n.visible=!1,i.renderToOffscreenCanvas=!0,i.optimizeForInfrequentRedraws=!0,t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1}destroy(){super.destroy(),this.proxyButton?.destroy()}setEnabled(t){this.enabled=t,this.refreshVisibilities()}getTextMeasureBBox(){return this.layout(),re.merge([this.symbolsGroup.getBBox(),this.label.getTextMeasureBBox()])}refreshVisibilities(){let t=this.enabled?1:.5;this.label.opacity=t,this.opacity=t}layout(){let{marker:t,line:n,length:i,isCustomMarker:r}=this,o=0,s=0;if(t.visible){let{size:a}=t,l=Hn.anchor(t.shape);o=(l.x-.5)*a+i/2,s=(l.y-.5)*a,r?(t.x=0,t.y=0,t.translationX=o,t.translationY=s):(t.x=o,t.y=s,t.translationX=0,t.translationY=0)}n.visible&&(n.x1=0,n.x2=i,n.y1=0,n.y2=0)}preRender(t){let n=super.preRender(t);return this.layout(),n}layoutLabel(){let{length:t,spacing:n}=this;this.label.x=t+n}computeBBox(){return this.layout(),super.computeBBox()}};return e.className="MarkerLabel",e})();y([En("label")],Xo.prototype,"text",2);y([En("label")],Xo.prototype,"fontStyle",2);y([En("label")],Xo.prototype,"fontWeight",2);y([En("label")],Xo.prototype,"fontSize",2);y([En("label")],Xo.prototype,"fontFamily",2);y([En("label","fill")],Xo.prototype,"color",2);y([Tl(e=>e.layoutLabel())],Xo.prototype,"spacing",2);y([Tl(e=>e.layoutLabel())],Xo.prototype,"length",2);y([Y()],Xo.prototype,"isCustomMarker",2);function dx(e){let{placement:t="bottom",floating:n=!1,xOffset:i=0,yOffset:r=0}=typeof e=="string"?{placement:e,floating:!1}:e;return{placement:t,floating:n,xOffset:i,yOffset:r}}var Pl=class extends Te{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};y([S],Pl.prototype,"maxLength",2);y([S],Pl.prototype,"color",2);y([S],Pl.prototype,"fontStyle",2);y([S],Pl.prototype,"fontWeight",2);y([S],Pl.prototype,"fontSize",2);y([S],Pl.prototype,"fontFamily",2);y([S],Pl.prototype,"formatter",2);var Lh=class extends Te{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};y([S],Lh.prototype,"shape",2);y([S],Lh.prototype,"size",2);y([S],Lh.prototype,"padding",2);y([S],Lh.prototype,"strokeWidth",2);y([S],Lh.prototype,"enabled",2);var ST=class extends Te{};y([S],ST.prototype,"strokeWidth",2);y([S],ST.prototype,"length",2);var Fl=class extends Te{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Lh,this.label=new Pl,this.line=new ST}};y([S],Fl.prototype,"maxWidth",2);y([S],Fl.prototype,"paddingX",2);y([S],Fl.prototype,"paddingY",2);y([S],Fl.prototype,"showSeriesStroke",2);y([S],Fl.prototype,"marker",2);y([S],Fl.prototype,"label",2);y([S],Fl.prototype,"line",2);var MT=class extends Te{};y([S],MT.prototype,"legendItemClick",2);y([S],MT.prototype,"legendItemDoubleClick",2);var lP={type:"gradient",bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1},cP={type:"pattern",pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:1,rotation:0,scale:1},uP={type:"image",backgroundFill:"black",backgroundFillOpacity:1,rotation:0,repeat:"no-repeat",fit:"contain",width:8,height:8},Gn=(()=>{let e=class extends Te{constructor(t){super(),this.ctx=t,this.id=In(this),this.group=new Fi({name:"legend",zIndex:16}),this.itemSelection=ji.select(this.group,Xo),this.containerNode=this.group.appendChild(new oi({name:"legend-container"})),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Fl,this.listeners=new MT,this.enabled=!0,this.position="bottom",this.border=new mu(this.containerNode),this.cornerRadius=0,this.fillOpacity=1,this.padding=4,this.spacing=20,this.cleanup=new Be,this.size=[0,0],this._visible=!0,this.pagination=new Oh(i=>t.updateService.update(i),i=>this.updatePageNumber(i)),this.pagination.attachPagination(this.group);let{items:n}=t.contextMenuRegistry.builtins;n["toggle-series-visibility"].action=i=>this.contextToggleVisibility(i),n["toggle-other-series"].action=i=>this.contextToggleOtherSeries(i),this.cleanup.register(t.eventsHub.on("legend:change",this.onLegendDataChange.bind(this)),t.layoutManager.registerElement(1,i=>this.positionLegend(i)),t.eventsHub.on("locale:change",()=>this.onLocaleChanged()),()=>delete n["toggle-series-visibility"].action,()=>delete n["toggle-other-series"].action,()=>this.group.remove()),this.domProxy=new gX(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(t.legendManager)}set data(t){Un(t,this._data)||(this.domProxy.onDataUpdate(this._data,t),this._data=t,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:t=[]}){this.enabled&&(this.data=t.filter(n=>!n.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.cleanup.flush(),this.itemSelection.clear()}getOrientation(){return this.orientation??"horizontal"}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}getItemLabel(t){let{formatter:n}=this.item.label;if(n){let i=t.datum;return this.cachedCallWithContext(n,g({itemId:t.itemId,value:t.label.text,seriesId:t.seriesId},i&&{datum:i}))}return t.label.text}calcLayout(t,n){let{paddingX:i,paddingY:r,label:o,maxWidth:s,label:{maxLength:a=1/0,fontStyle:l,fontWeight:c,fontSize:u,fontFamily:d}}=this.item,h=[...this.data];this.reverseOrder&&h.reverse(),this.itemSelection.update(h);let f=[],p=Al.getMeasurer({font:o}),b=s??t*.8,{markerWidth:v,anyLineEnabled:x}=this.calculateMarkerWidth();if(this.itemSelection.each((j,V)=>{j.fontStyle=l,j.fontWeight=c,j.fontSize=u,j.fontFamily=d;let $=this.updateMarkerLabel(j,V,v,x),te=V.itemId??V.id,de=(this.getItemLabel(V)??"<unknown>").replace(/\r?\n/g," ");j.text=this.truncate(de,a,b,$,p,te),f.push(j.getTextMeasureBBox())}),t=Math.max(1,t),n=Math.max(1,n),!isFinite(t))return{};[t,n]=this.updateContainer(t,n);let M=this.size,D=this.oldSize;M[0]=t,M[1]=n,(M[0]!==D[0]||M[1]!==D[1])&&(D[0]=M[0],D[1]=M[1]);let{pages:w,maxPageHeight:E,maxPageWidth:C}=this.updatePagination(f,t,n),_=this.pages;this.pages=w,this.maxPageSize=[C-i,E-r];let N=this.pagination.currentPage,k=this.pages[N];return this.pages.length<1||!k?(this.visible=!1,{oldPages:_}):(this.visible=!0,this.updatePositions(N),this.update(),{oldPages:_})}isCustomMarker(t,n){return t&&n!==void 0&&typeof n!="string"}calcSymbolsEnabled(t){let{showSeriesStroke:n,marker:i}=this.item,r=!!i.enabled||!n||(t.marker.enabled??!0),o=!!(t.line&&n),s=this.isCustomMarker(r,t.marker.shape);return{markerEnabled:r,lineEnabled:o,isCustomMarker:s}}calcSymbolsLengths(t,n,i){let{marker:r,line:o}=this.item,s,{shape:a}=t.marker;if(this.isCustomMarker(n,a)){let u=new Hn;u.shape=a,u.updatePath();let d=u.getBBox();s=Math.max(d.width,d.height)}let l=n?r.size:0,c=i?o.length??25:0;return{markerLength:l,lineLength:c,customMarkerSize:s}}calculateMarkerWidth(){let t=0,n=!1;return this.itemSelection.each((i,r)=>{let{symbol:o}=r,{lineEnabled:s,markerEnabled:a}=this.calcSymbolsEnabled(o),{markerLength:l,lineLength:c,customMarkerSize:u=-1/0}=this.calcSymbolsLengths(o,a,s);t=Math.max(t,c,u,l),n||(n=s)}),{markerWidth:t,anyLineEnabled:n}}updateMarkerLabel(t,n,i,r){let{marker:o,paddingX:s}=this.item,{symbol:a}=n,l=s,{markerEnabled:c,isCustomMarker:u}=this.calcSymbolsEnabled(a),d=o.padding;(c||r)&&(l+=d+i);let{marker:h,line:f}=t;return h.visible=c,h.visible&&(h.shape=o.shape??a.marker.shape??"square",h.size=o.size,ya(h,this.getMarkerStyles(a))),f.visible=r,f.visible&&ya(f,this.getLineStyles(a)),t.length=i,t.spacing=d,t.isCustomMarker=u,l}updateContainer(t,n){let i=this.getContainerStyles();return this.containerNode.width=0,this.containerNode.height=0,ya(this.containerNode,i),this.containerNode.cornerRadius=i.cornerRadius,t-=i.strokeWidth*2+i.padding.left+i.padding.right,n-=i.strokeWidth*2+i.padding.top+i.padding.bottom,[t,n]}truncate(t,n,i,r,o,s){let a=!1;t.length>n&&(t=t.substring(0,n),a=!0);let l=xg.truncateLine(t,o,i-r,a);return l.endsWith(qt.EllipsisChar)?this.truncatedItems.add(s):this.truncatedItems.delete(s),l}updatePagination(t,n,i){let r=this.getOrientation(),o=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=r,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:s,maxPageHeight:a,maxPageWidth:l,paginationBBox:c,paginationVertical:u}=this.calculatePagination(t,n,i),d=s.findIndex(D=>D.endIndex>=o);this.pagination.currentPage=se(0,d,s.length-1);let{paddingX:h,paddingY:f}=this.item,p=8,m=l-h,b=a-f,v=0,x=-c.y-this.item.marker.size/2;u?x+=b+p:(v+=-c.x+m+p,x+=(b-c.height)/2),this.pagination.translationX=v,this.pagination.translationY=x,this.pagination.update(),this.pagination.updateMarkers();let M=0;return this.itemSelection.each((D,w,E)=>{E>(s[M]?.endIndex??1/0)&&M++,D.pageIndex=M}),{maxPageHeight:a,maxPageWidth:l,pages:s}}calculatePagination(t,n,i){let{paddingX:r,paddingY:o}=this.item,s=["left","left-top","left-bottom","right","right-top","right-bottom"],{placement:a}=dx(this.position),l=this.getOrientation(),c=s.includes(a),u=this.pagination.getBBox(),d=new re(0,0,0,0),h=[],f=0,p=0,m=0,b=x=>x.width===u.width&&x.height===u.height,v=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(m++>10){P.warn("unable to find stable legend layout.");break}u=d;let x=n-(c?0:u.width),M=i-(c?u.height:0),D=cX({orientation:l,bboxes:t,maxHeight:M,maxWidth:x,itemPaddingY:o,itemPaddingX:r,forceResult:v});h=D?.pages??[],f=D?.maxPageWidth??0,p=D?.maxPageHeight??0;let w=h.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),this.pagination.updateMarkers(),d=this.pagination.getBBox(),!this.pagination.visible)break}while(!b(d));return{maxPageWidth:f,maxPageHeight:p,pages:h,paginationBBox:d,paginationVertical:c}}updatePositions(t=0){let{item:{paddingY:n},itemSelection:i,pages:r}=this;if(r.length<1||!r[t])return;let{columns:o,startIndex:s,endIndex:a}=r[t],l=0,c=0,u=o.length,d=o[0].indices.length,h=this.getOrientation()==="horizontal",f=o[0].bboxes[0].height+n,p=[];i.each((m,b,v)=>{if(v<s||v>a){m.visible=!1;return}let x=v-s,M,D;h?(M=x%u,D=Math.floor(x/u)):(M=Math.floor(x/d),D=x%d),m.visible=!0;let w=o[M];w&&(c=Math.floor(f*D),l=Math.floor(p[D]??0),p[D]=(p[D]??0)+w.columnWidth,m.translationX=l,m.translationY=c)})}updatePageNumber(t){let{itemSelection:n,group:i,pagination:r,pages:o,toggleSeries:s}=this,{startIndex:a,endIndex:l}=o[t];a===0?this.paginationTrackingIndex=0:t===o.length-1?this.paginationTrackingIndex=l:this.paginationTrackingIndex=Math.floor((a+l)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.domProxy.onPageChange({itemSelection:n,group:i,pagination:r,interactive:s}),this.ctx.updateService.update(7)}update(){let{label:{color:t}}=this.item;this.itemSelection.each((n,i)=>{n.setEnabled(i.enabled),n.color=t}),this.updateContextMenu()}updateContextMenu(){this.ctx.contextMenuRegistry.setVisible("toggle-series-visibility",this.toggleSeries),this.ctx.contextMenuRegistry.setVisible("toggle-other-series",this.toggleSeries)}getLineStyles(t){let{stroke:n,strokeOpacity:i=1,strokeWidth:r,lineDash:o}=t.line??{},s=Math.min(2,r??1);return{stroke:n,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??s,lineDash:o}}getMarkerStyles({marker:t}){let{fill:n,stroke:i,strokeOpacity:r=1,fillOpacity:o=1,strokeWidth:s,lineDash:a,lineDashOffset:l}=t,c=Math.min(2,s??1);return Dl(n)&&(n.width=8,n.height=8,n.padding=1,n.strokeWidth=Math.min(2,n.strokeWidth??2)),eu(n)&&(n.fit="contain",n.width=void 0,n.height=void 0,n.repeat="no-repeat"),Ns({fill:n,stroke:i,strokeOpacity:r,fillOpacity:o,strokeWidth:this.item.marker.strokeWidth??c,lineDash:a,lineDashOffset:l},lP,cP,uP)}getContainerStyles(){let{stroke:t,strokeOpacity:n,strokeWidth:i}=this.border,{cornerRadius:r,fill:o,fillOpacity:s,padding:a}=this,l=typeof a=="number";return Ns({cornerRadius:r,fill:o,fillOpacity:s,padding:{top:l?a:a.top??0,right:l?a:a.right??0,bottom:l?a:a.bottom??0,left:l?a:a.left??0},stroke:t,strokeOpacity:n,strokeWidth:this.border.enabled?i:0},lP,cP,uP)}computePagedBBox(){let t=Ve.computeChildrenBBox(this.group.excludeChildren({name:"legend-container"}));if(this.pages.length>1){let[r,o]=this.maxPageSize;t.height=Math.max(o,t.height),t.width=Math.max(r,t.width)}let{strokeWidth:n,padding:i}=this.getContainerStyles();return t.grow(i).grow(n),t}findNode(t){let{datum:n,proxyButton:i}=this.itemSelection.select(r=>r.datum?.itemId===t.itemId)[0]??{};if(n===void 0||i===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${n}, proxyButton: ${JSON.stringify(i)} }`);return{datum:n,proxyButton:i}}contextToggleVisibility(t){let{datum:n,proxyButton:i}=this.findNode(t);this.doClick(t.event,n,i)}contextToggleOtherSeries(t){this.doDoubleClick(t.event,this.findNode(t).datum)}onContextClick(t,n){let{sourceEvent:i}=t,r=n.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!1:this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!0;let o=this.ctx.chartService.series.length>1&&this.ctx.chartService.series[0]?.getLegendData("category")[0]?.hideToggleOtherSeries!==!0;this.ctx.contextMenuRegistry.setVisible("toggle-other-series",o);let{offsetX:s,offsetY:a}=i,{x:l,y:c}=gn.toCanvasPoint(n,s,a);this.ctx.contextMenuRegistry.dispatchContext("legend-item",{widgetEvent:t,canvasX:l,canvasY:c},{legendItem:r})}onClick(t,n,i){this.doClick(t,n,i)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(t=>t.getLegendData("category")).filter(t=>t.enabled).length}doClick(t,n,i){let{listeners:{legendItemClick:r},ctx:{chartService:o,highlightManager:s},preventHidingAll:a,toggleSeries:l}=this;if(!n)return!1;let{legendType:c,seriesId:u,itemId:d,enabled:h,legendItemName:f}=n,p=o.series.find(v=>v.id===u);if(!p)return!1;let m=h,b=aP("click",n,t);return r&&Yo([p.properties,this.ctx.chartService],r,b.apiEvent),b.defaultPrevented||(l&&(m=!h,a&&!m&&this.getVisibleItemCount()<2&&(m=!0),i.setChecked(m),this.ctx.eventsHub.emit("legend:item-click",{legendType:c,series:p,itemId:d,enabled:m,legendItemName:f})),m?s.updateHighlight(this.id,{series:p,itemId:d,datum:void 0,datumIndex:void 0,legendItemName:f}):s.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:n.skipAnimations??!1})),!0}onDoubleClick(t,n){this.doDoubleClick(t,n)&&t.preventDefault()}doDoubleClick(t,n){let{listeners:{legendItemDoubleClick:i},ctx:{chartService:r},toggleSeries:o}=this;if(!n)return!1;let{legendType:s,id:a,itemId:l,seriesId:c}=n,u=r.series.find(h=>h.id===a);if(!u)return!1;let d=aP("dblclick",n,t);if(i&&Yo([u.properties,this.ctx.chartService],i,d.apiEvent),d.defaultPrevented)return!0;if(o){let h=r.series.flatMap(b=>b.getLegendData("category")),f=0,p=new Set;for(let b of h)b.enabled&&(f+=1,b.legendItemName!=null&&p.add(b.legendItemName));p.size>0&&(f=p.size);let m=h.find(b=>b.itemId===l&&b.seriesId===c);this.ctx.eventsHub.emit("legend:item-double-click",{legendType:s,series:u,itemId:l,numVisibleItems:f,enabled:m?.enabled??!1,legendItemName:m?.legendItemName})}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(t,n){let i;return t instanceof FocusEvent?i=gn.toCanvas(n).computeCenter():(t.preventDefault(),i=gn.toCanvasPoint(n,t.offsetX,t.offsetY)),{canvasX:i.x,canvasY:i.y,showArrow:!1}}onHover(t,n){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(n.pageIndex);let i=n.datum,r=i?this.ctx.chartService.series.find(o=>o.id===i?.id):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){let o=this.toTooltipMeta(t,n);this.ctx.tooltipManager.updateTooltip(this.id,o,[{type:"structured",title:this.getItemLabel(i)}])}else this.ctx.tooltipManager.removeTooltip(this.id);i?.enabled&&r?this.updateHighlight({series:r,itemId:i?.itemId,datum:void 0,datumIndex:void 0,legendItemName:i?.legendItemName}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(t){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,t):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=t,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(t){let n=this.positionLegendScene(t);this.positionLegendDOM(n)}positionLegendScene(t){if(!this.enabled||!this.data.length)return;let{placement:n,floating:i,xOffset:r,yOffset:o}=dx(this.position),s=i?new re(0,0,t.width,t.height):t.layoutBox,{x:a,y:l,width:c,height:u}=s,[d,h]=this.calculateLegendDimensions(s),{oldPages:f}=this.calcLayout(d,h),p=this.computePagedBBox();if(this.visible){let b=function(D){};var m=b;let v=this.spacing,x,M;switch(n){case"top":x=(c-p.width)/2,M=0;break;case"bottom":x=(c-p.width)/2,M=u-p.height;break;case"right":x=c-p.width,M=(u-p.height)/2;break;case"left":x=0,M=(u-p.height)/2;break;case"top-right":case"right-top":x=c-p.width,M=0;break;case"top-left":case"left-top":x=0,M=0;break;case"bottom-right":case"right-bottom":x=c-p.width,M=u-p.height;break;case"bottom-left":case"left-bottom":x=0,M=u-p.height;break;default:b(n)}if(!i){let D,w;switch(n){case"top":case"top-right":case"top-left":D=p.height+v,w="top";break;case"bottom":case"bottom-right":case"bottom-left":D=p.height+v,w="bottom";break;case"left":case"left-top":case"left-bottom":D=p.width+v,w="left";break;case"right":case"right-top":case"right-bottom":D=p.width+v,w="right";break;default:b(n)}s.shrink(D,w)}x+=r,M+=o,this.group.translationX=Math.floor(a+x-p.x),this.group.translationY=Math.floor(l+M-p.y),this.containerNode.x=p.x,this.containerNode.y=p.y,this.containerNode.width=p.width,this.containerNode.height=p.height}return f}positionLegendDOM(t){let{ctx:n,itemSelection:i,pagination:r,pages:o,toggleSeries:s,group:a,listeners:{legendItemClick:l,legendItemDoubleClick:c}}=this,u=this.visible&&this.enabled,d=s||c!=null||l!=null;this.domProxy.update({visible:u,interactive:d,ctx:n,itemSelection:i,group:a,pagination:r,oldPages:t,newPages:o,datumReader:this,itemListener:this})}calculateLegendDimensions(t){let{width:n,height:i}=t,{placement:r}=dx(this.position),o=n/i,s=.5,a=.2,l=.25,c,u;function d(h){}switch(r){case"top":case"top-left":case"top-right":case"bottom":case"bottom-left":case"bottom-right":{let h=o<1?Math.min(s,a*(1/o)):a;c=this.maxWidth?Math.min(this.maxWidth,n):n,u=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*h);break}case"left":case"left-top":case"left-bottom":case"right":case"right-top":case"right-bottom":{let h=o>1?Math.min(s,l*o):l;c=this.maxWidth?Math.min(this.maxWidth,n):Math.round(n*h),u=this.maxHeight?Math.min(this.maxHeight,i):i;break}default:}return[c,u]}cachedCallWithContext(t,...n){let{callbackCache:i,chartService:r}=this.ctx;return i.call([this,r],t,...n)}};return e.className="Legend",e})();y([S],Gn.prototype,"toggleSeries",2);y([S],Gn.prototype,"pagination",2);y([S],Gn.prototype,"item",2);y([S],Gn.prototype,"listeners",2);y([Tl((e,t,n)=>{if(e.updateGroupVisibility(),t===n)return;let{ctx:{legendManager:i,stateManager:r}}=e;n===!1&&t===!0&&r.restoreState(i)}),S],Gn.prototype,"enabled",2);y([S],Gn.prototype,"position",2);y([S],Gn.prototype,"maxWidth",2);y([S],Gn.prototype,"maxHeight",2);y([S],Gn.prototype,"reverseOrder",2);y([S],Gn.prototype,"orientation",2);y([S],Gn.prototype,"preventHidingAll",2);y([S],Gn.prototype,"border",2);y([S],Gn.prototype,"cornerRadius",2);y([S],Gn.prototype,"fill",2);y([S],Gn.prototype,"fillOpacity",2);y([S],Gn.prototype,"padding",2);y([S],Gn.prototype,"spacing",2);y([S],Gn.prototype,"xOffset",2);y([S],Gn.prototype,"yOffset",2);var mX={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new Gn(e),packageType:"community",removable:"standalone-only"},im=class extends Te{constructor(e){super(),this.ctx=e,this.rectNode=new oi,this.border=new mu(this.rectNode),this.cornerRadius=0,this.padding=0,this.cleanup=new Be,this.node=this.createNode(),this.node.append([this.rectNode]),this.rectNode.fill=void 0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",t=>this.onLayoutComplete(t)))}destroy(){this.cleanup.flush()}getPadding(){let{border:e,padding:t}=this,n=e.enabled?e.strokeWidth:0;if(typeof t=="number"){let i=t+n;return{top:i,right:i,bottom:i,left:i}}return{top:(t.top??0)+n,right:(t.right??0)+n,bottom:(t.bottom??0)+n,left:(t.left??0)+n}}createNode(){return new Ve({name:"series-area-container",zIndex:4})}onLayoutComplete(e){let{x:t,y:n,width:i,height:r}=e.series.paddedRect;this.rectNode.x=t,this.rectNode.y=n,this.rectNode.width=i,this.rectNode.height=r}};y([S],im.prototype,"border",2);y([S],im.prototype,"clip",2);y([En("rectNode","cornerRadius"),S],im.prototype,"cornerRadius",2);y([S],im.prototype,"padding",2);var yX={type:"root",optionsKey:"seriesArea",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new im(e)};function jx(e,t,n,i,r){let o=(d,h,f,p)=>{n.animate({id:`${e}_${t}_${h.id}_${d}`,groupId:e,from:f?1:0,to:1,ease:Xp,collapsable:f,onUpdate(m,b){b&&d!=="removed"||(h.path.clear(!0),p(m,h),h.checkPathDirty())},onStop(){d==="added"&&(h.path.clear(!0),p(1,h),h.checkPathDirty())},phase:Go[d]})},s=new ir,a=d=>(s.resetPathDirty(),d(0,s),s.resetPathDirty(),d(1,s),s.checkPathDirty(),s.isPathDirty()),{addPhaseFn:l,updatePhaseFn:c,removePhaseFn:u}=r;for(let d of i)n.isSkipped()||(o("removed",d,!a(u),u),o("updated",d,!a(c),c)),o("added",d,!a(l),l)}function Ts(e,t,n,i,r,o){if(i.itemStyler){let s={border:i.border,color:i.color,cornerRadius:i.cornerRadius,datum:t?.datum,enabled:i.enabled,fill:i.fill,fillOpacity:i.fillOpacity,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,itemId:void 0,seriesId:e.id,padding:i.padding,highlighted:r,highlightState:o};return Dt(e.callWithContext(i.itemStyler,g(g({},n),s)),s)}return i}function zV(e,t,n,i,r,o,s){if(i.enabled&&r){let a=Ts(e,r,n,i,o,s);t.visible=!0,t.x=r.x,t.y=r.y,t.text=r.text,t.fill=a.color,t.setAlign(r),t.setFont(a),t.setBoxing(a)}else t.visible=!1}var vX={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function HV({isUpward:e,isVertical:t,placement:n,spacing:i=0,rect:r}){let o=r.x+r.width/2,s=r.y+r.height/2,a="center",l="middle";if(n!=="inside-center"){let c=(e?1:-1)*(t?-1:1),{direction:u,textAlignment:d}=vX[n],h=(u+1)*.5;if(t){let f=e?r.y+r.height:r.y,p=r.height*c;s=f+p*h+i*d*c,l=d===c?"top":"bottom"}else{let f=e?r.x:r.x+r.width,p=r.width*c;o=f+p*h+i*d*c,a=d===c?"left":"right"}}return{x:o,y:s,textAlign:a,textBaseline:l}}function wn({id:e},t,n,...i){for(let r of i)r.cleanup();Ea(e,t,n,i,{opacity:0},{opacity:1},{phase:"trailing"})}function hx({id:e},t,n,...i){Ea(e,t,n,i,{opacity:1},{opacity:0},{phase:"remove"})}function yu(e){return{opacity:1}}var DT=class extends Te{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}onChangeDetection(e){this.markDirty()}},Fs=class extends DT{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};y([S,Y()],Fs.prototype,"enabled",2);y([S,Y()],Fs.prototype,"color",2);y([S,Y()],Fs.prototype,"xOffset",2);y([S,Y()],Fs.prototype,"yOffset",2);y([S,Y()],Fs.prototype,"blur",2);var pi=class extends DT{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillGradientDefaults=new mo,this.fillPatternDefaults=new rn,this.fillImageDefaults=new xr,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){let{size:e,shape:t,fill:n,fillOpacity:i,stroke:r,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:l}=this;return{size:e,shape:t,fill:n,fillOpacity:i,stroke:r,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};y([S,Y()],pi.prototype,"enabled",2);y([S,Ur({equals:mh})],pi.prototype,"shape",2);y([S,Y()],pi.prototype,"size",2);y([S,Ur({equals:Un})],pi.prototype,"fill",2);y([S],pi.prototype,"fillGradientDefaults",2);y([S],pi.prototype,"fillPatternDefaults",2);y([S],pi.prototype,"fillImageDefaults",2);y([S,Y()],pi.prototype,"fillOpacity",2);y([S,Y()],pi.prototype,"stroke",2);y([S,Y()],pi.prototype,"strokeWidth",2);y([S,Y()],pi.prototype,"strokeOpacity",2);y([S],pi.prototype,"lineDash",2);y([S],pi.prototype,"lineDashOffset",2);y([S,Ur({equals:mh})],pi.prototype,"itemStyler",2);var UV=class extends Te{constructor(){super(...arguments),this.enabled=!1}};y([S],UV.prototype,"enabled",2);var La=class extends Te{constructor(){super(...arguments),this.interaction=new UV,this.position=new cu,this.range=void 0,this.class=void 0}formatTooltip(e,t,n){let i=this.renderer==null?void 0:Yo(e,this.renderer,n);return typeof i=="string"?{type:"raw",rawHtmlString:i}:i!=null?g(g({type:"structured"},t),i):g({type:"structured"},t)}};y([S],La.prototype,"enabled",2);y([S],La.prototype,"showArrow",2);y([S],La.prototype,"renderer",2);y([S],La.prototype,"interaction",2);y([S],La.prototype,"position",2);y([S],La.prototype,"range",2);y([S],La.prototype,"class",2);function vu(){return new La}var GV=class{constructor(e,t,n){this.root=new SX(e,t,n)}clear(e){this.root.clear(e)}addValue(e,t){let n={hitTester:e,value:t,distanceSquared:(i,r)=>e.distanceSquared(i,r)};this.root.addElem(n)}find(e,t){let n={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,n),n.best}},bX=class{constructor(e,t,n,i){this.nw=e,this.ne=t,this.sw=n,this.se=i}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,n){this.nw.find(e,t,n),this.ne.find(e,t,n),this.sw.find(e,t,n),this.se.find(e,t,n)}},xX=class{constructor(e,t,n){this.capacity=e,this.maxdepth=t,this.boundary=n??re.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,n){this.findCondition(e,t,n)&&(this.subdivisions===void 0?this.findAction(e,t,n):this.subdivisions.find(e,t,n))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(let t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){let{x:e,y:t,width:n,height:i}=this.boundary,{capacity:r}=this,o=this.maxdepth-1,s=n/2,a=i/2,l=new re(e,t,s,a),c=new re(e+s,t,s,a),u=new re(e,t+a,s,a),d=new re(e+s,t+a,s,a);return new bX(this.child(r,o,l),this.child(r,o,c),this.child(r,o,u),this.child(r,o,d))}},SX=class $V extends xX{addCondition(t){let{x:n,y:i}=t.hitTester.midPoint;return this.boundary.containsPoint(n,i)}findCondition(t,n,i){let{best:r}=i;return r.distanceSquared!==0&&this.boundary.distanceSquared(t,n)<r.distanceSquared}findAction(t,n,i){let r=Zx(t,n,this.elems,i.best.distanceSquared);r.nearest!==void 0&&r.distanceSquared<i.best.distanceSquared&&(i.best=r)}child(t,n,i){return new $V(t,n,i)}},IT=class extends S0{constructor(i){var r=i,{clipFocusBox:e,categoryKey:t}=r,n=Vt(r,["clipFocusBox","categoryKey"]);super(n),this.categoryKey=t,this.clipFocusBox=e??!0}dataCount(){return this.processedData?.dataSources?.get(this.id)?.length??0}getScaleInformation({xScale:e,yScale:t}){let n=Ht.is(e),i=Ht.is(t);return{isContinuousX:n,isContinuousY:i,xScaleType:e?.type,yScaleType:t?.type}}getModulePropertyDefinitions(){let e=this.axes.x?.scale,t=this.axes.y?.scale;return this.moduleMap.mapModules(n=>n.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}requestDataModel(e,t,n){return Fe(this,null,function*(){n.props.push(...this.getModulePropertyDefinitions());let{dataModel:i,processedData:r}=yield e.request(this.id,t??[],n);return this.dataModel=i,this.processedData=r,this.events.emit("data-processed",{dataModel:i,processedData:r}),{dataModel:i,processedData:r}})}isProcessedDataAnimatable(){let{processedData:e}=this;if(!e)return!1;let t=e.reduced?.animationValidation;if(!t)return!0;let{orderedKeys:n,uniqueKeys:i}=t;return n&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){let t=this.getNodeData();if(t===void 0||t.length===0)return;let n=this.computeFocusDatumIndex(e,t);if(n===void 0)return;let{clipFocusBox:i}=this,r=t[n],o=I(g({},e),{datumIndex:n}),s=this.computeFocusBounds(o);if(s!==void 0)return{bounds:s,clipFocusBox:i,datum:r,datumIndex:n}}pickNodesExactShape(e){let t=super.pickNodesExactShape(e);return t.sort((n,i)=>n.datumIndex-i.datumIndex),t}isDatumEnabled(e,t){let{missing:n=!1,enabled:i=!0,focusable:r=!0}=e[t];return!n&&i&&r}computeFocusDatumIndex(e,t){let n=(s,a)=>{for(;s>=0&&!this.isDatumEnabled(t,s);)s+=a;return s===-1?void 0:s},i=(s,a)=>{for(;s<t.length&&!this.isDatumEnabled(t,s);)s+=a;return s===t.length?void 0:s},r,o=se(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?r=n(o,e.datumIndexDelta):e.datumIndexDelta>0?r=i(o,e.datumIndexDelta):r=i(o,1)??n(o,-1),r===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:r}dataModelPropertyIsKey(e){let{processedData:t}=this;return t?t.defs.keys.some(n=>n.id===e&&n.idsMap?.get(this.id)?.has(e)===!0):!1}keysOrValues(e){let{dataModel:t,processedData:n}=this;return!t||!n?[]:this.dataModelPropertyIsKey(e)?t.resolveKeysById(this,e,n):t.resolveColumnById(this,e,n)}sortOrder(e){let{dataModel:t,processedData:n}=this;if(!(!t||!n))return this.dataModelPropertyIsKey(e)?t.getKeySortOrder(this,e,n):t.getColumnSortOrder(this,e,n)}getCategoryKey(){return this.categoryKey}getCategoryValue(e){let{processedData:t,dataModel:n}=this,i=this.getCategoryKey();return!t||!n||!i||(t.invalidData?.get(this.id)?.[e]??!1)?void 0:this.keysOrValues(i)[e]}datumIndexForCategoryValue(e){let{processedData:t,dataModel:n}=this,i=this.getCategoryKey();if(!t||!n||!i)return;e=e.valueOf();let r=t.invalidData?.get(this.id),o=this.keysOrValues(i);for(let s=0;s<o.length;s+=1){if(r?.[s]===!0)continue;let a=o[s]?.valueOf();if(Un(e,a))return s}}},Rh={x:["xKey"],y:["yKey"]},Ph={x:["xName"],y:["yName"]},wT=class extends x0{constructor(e,t,n,i){super(e,t,n,i),this.xKey=i.properties.xKey,this.yKey=i.properties.yKey}},jl=class extends yo{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};y([S],jl.prototype,"legendItemName",2);y([S],jl.prototype,"pickOutsideVisibleMinorAxis",2);var Vx=100,bu=class extends IT{constructor(l){var c=l,{pathsPerSeries:e=["path"],pathsZIndexSubOrderOffset:t=[],datumSelectionGarbageCollection:n=!0,animationAlwaysUpdateSelections:i=!1,animationResetFns:r,propertyKeys:o,propertyNames:s}=c,a=Vt(c,["pathsPerSeries","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","propertyKeys","propertyNames"]);if(super(g({propertyKeys:o,propertyNames:s,canHaveAxes:!0},a)),this.NodeEvent=wT,this.dataNodeGroup=this.contentGroup.appendChild(new Ve({name:`${this.id}-series-dataNodes`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new Fi({name:`${this.id}-series-labels`})),this.labelSelection=ji.select(this.labelGroup,Vr),this.highlightSelection=ji.select(this.highlightGroup,()=>this.nodeFactory()),this.annotationSelections=new Set,this.debug=We.create(),!o||!s)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,pathsZIndexSubOrderOffset:t,propertyKeys:o,propertyNames:s,animationResetFns:r,animationAlwaysUpdateSelections:i,datumSelectionGarbageCollection:n},this.paths=e.map(u=>new ir({name:`${this.id}-${u}`})),this.datumSelection=ji.select(this.dataNodeGroup,()=>this.nodeFactory(),n),this.animationState=new wg("empty",{empty:{update:{target:"ready",action:u=>this.animateEmptyUpdateReady(u)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:u=>this.animateReadyHighlight(u),resize:u=>this.animateReadyResize(u),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:u=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(u):this.animateWaitingUpdateReady(u)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:u=>this.resetAllAnimation(u),reset:"empty"},clearing:{update:{target:"empty",action:u=>this.animateClearingUpdateEmpty(u)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}attachSeries(e,t,n){super.attachSeries(e,t,n),this.attachPaths(this.paths)}detachSeries(e,t,n){super.detachSeries(e,t,n),this.detachPaths(this.paths)}updatedDomains(){this.animationState.transition("updateData")}attachPaths(e){for(let t of e)this.contentGroup.appendChild(t)}detachPaths(e){for(let t of e)this.contentGroup.removeChild(t)}renderToOffscreenCanvas(){let e=this.getNodeData();return e!=null&&e.length>Vx}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}isSeriesHighlighted(e){let{series:t,legendItemName:n}=e??{},{legendItemName:i}=this.properties;return t===this||i!=null&&i===n}strokewidthChange(){let e=("strokeWidth"in this.properties&&this.properties.strokeWidth)??0,t=this.properties.highlight.highlightedSeries.strokeWidth??e,n=this.properties.highlight.highlightedItem?.strokeWidth??e;return e>n||t>n}update({seriesRect:e}){let{_contextNodeData:t}=this,n=this.checkResize(e),i=this.updateHighlightSelection();this.contentGroup.batchedUpdate(()=>{let o=this.updateSelections();this.updateNodes(i,n||o)});let r=this.getAnimationData(e,t);r&&(n&&this.animationState.transition("resize",r),this.animationState.transition("update",r))}updateSelections(){var e;let t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!this.visible&&t)return!1;let{nodeDataRefresh:n}=this;if(!n&&!this.isPathOrSelectionDirty())return!1;if(n){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();let i=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=i));let{dataModel:r,processedData:o}=this;r!==void 0&&o!==void 0&&this.events.emit("data-update",{dataModel:r,processedData:o}),this.updateSeriesSelections()}return n}updateSeriesSelections(){let{datumSelection:e,labelSelection:t,paths:n}=this,i=this._contextNodeData;if(!i)return;let{nodeData:r,labelData:o,itemId:s}=i;this.updatePaths({itemId:s,contextData:i,paths:n}),this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:e}),this.labelGroup.batchedUpdate(()=>{this.labelSelection=this.updateLabelSelection({labelData:o,labelSelection:t})??t})}getShapeFillBBox(){let{axes:e}=this,t=e.x,n=e.y,[i,r]=ii(t?.range??[0,1]),[o,s]=ii(n?.range??[0,1]),a=this.getSeriesDomain("x"),l=[t?.scale.convert(a.at(0)),t?.scale.convert(a.at(-1))],c=this.getSeriesDomain("y"),u=[n?.scale.convert(c.at(0)),n?.scale.convert(c.at(-1))],[d,h]=ii(l),[f,p]=ii(u);return{axis:new re(i,o,r-i,s-o),series:new re(d,f,h-d,p-f)}}updateNodes(e,t){let{highlightSelection:n,datumSelection:i}=this,r=!this.ctx.animationManager.isSkipped(),o=this.visible&&this._contextNodeData!=null;this.contentGroup.visible=r||o,this.highlightGroup.visible=(r||o)&&e,this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n);let{dataNodeGroup:s,labelSelection:a,paths:l,labelGroup:c}=this,{itemId:u}=this.contextNodeData??{};if(this.updatePathNodes({itemId:u,paths:l,visible:o,animationEnabled:r}),s.visible=r||o,c.visible=o,!s.visible)return;let d=this.strokewidthChange()||this.hasChangesOnHighlight;(t||d)&&(this.updateDatumNodes({datumSelection:i,isHighlight:!1}),this.usesPlacedLabels||this.labelGroup.batchedUpdate(()=>{this.updateLabelNodes({labelSelection:a,isHighlight:!1})}))}getHighlightLabelData(e,t){let n=e.filter(i=>i.datum===t.datum&&i.itemId===t.itemId);return n.length===0?void 0:n}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(){let{highlightSelection:e,_contextNodeData:t}=this;if(!t)return!1;let n=this.ctx.highlightManager?.getActiveHighlight(),r=this.isSeriesHighlighted(n)&&n?.datum?n:void 0;if(r==null)return!1;let{nodeData:o}=t,s=this.getHighlightData(o,r);return this.highlightSelection=this.updateHighlightSelectionItem({items:s,highlightSelection:e}),!0}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(let{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){let{width:e,height:t}=this.ctx.scene.canvas,n=new re(0,0,e,t);this.quadtree=new GV(100,10,n),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodesExactShape(e){let t=super.pickNodesExactShape(e);if(t.length!==0)return t;let{x:n,y:i}=e,{dataNodeGroup:r}=this,o=r.pickNodes(n,i).filter(s=>s.datum.missing!==!0);if(o.length!==0)return o.map(a=>a.datum);for(let s of this.moduleMap.modules()){let{datum:a}=s.pickNodeExact(e)??{};if(a!=null&&a?.missing!==!0)return[a]}return[]}pickNodeClosestDatum(e){let{x:t,y:n}=e,{axes:i,_contextNodeData:r}=this;if(!r)return;let o=i.x,s=i.y,a={x:t,y:n},l=1/0,c;for(let u of r.nodeData){let{point:{x:d=NaN,y:h=NaN}={}}=u;if(isNaN(d)||isNaN(h)||!(o?.inRange(d)&&s?.inRange(h)))continue;let p=Math.max((a.x-d)**2+(a.y-h)**2,0);p<l&&(l=p,c=u)}for(let u of this.moduleMap.modules()){let d=u.pickNodeNearest(e);if(d!==void 0&&d.distanceSquared<l){l=d.distanceSquared,c=d.datum;break}}if(c){let u=Math.max(Math.sqrt(l)-(c.point?.size??0)/2,0);return{datum:c,distance:u}}}pickNodeMainAxisFirst(e,t){let{x:n,y:i}=e,{axes:r,_contextNodeData:o}=this,{pickOutsideVisibleMinorAxis:s}=this.properties;if(!o)return;let a=r.x,l=r.y;if(a==null||l==null)return;let c=[a,l].filter(p=>p.isCategoryLike()).map(p=>p.direction);if(t&&c.length===0)return;let[u="x"]=c,d=[n,i];u!=="x"&&d.reverse();let h=[1/0,1/0],f;for(let p of o.nodeData){let{x:m=NaN,y:b=NaN}=p.point??p.midPoint??{};if(isNaN(m)||isNaN(b)||p.missing===!0)continue;let v=[a?.inRange(m,1),l?.inRange(b,1)];if(u!=="x"&&v.reverse(),!v[0]||!s&&!v[1])continue;let x=[m,b];u!=="x"&&x.reverse();let M=!0;for(let D=0;D<x.length;D++){let w=Math.abs(x[D]-d[D]);if(w>h[D]){M=!1;break}else w<h[D]&&(h[D]=w,h.fill(1/0,D+1,h.length))}M&&(f=p)}if(f){let p=Math.max(h[0]**2+h[1]**2-(f.point?.size??0),0);for(let m of this.moduleMap.modules()){let b=m.pickNodeMainAxisFirst(e,u);if(b!==void 0&&b.distanceSquared<p){f=b.datum,p=b.distanceSquared;break}}return{datum:f,distance:Math.sqrt(p)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRangeIndices(e,t,n,i){let r;if(i==null){let{processedData:c,dataModel:u}=this;r=u.getColumnSortOrder(this,e,c)??1}else r=i.sortOrder;let o=this.keysOrValues(e),s=0,[a,l]=q2(r,n?.length??o.length,t,c=>{let u=n?.[c]??c;return this.xCoordinateRange(o[u],s,u)});return a<l?[a,l]:[l,a]}domainForVisibleRange(e,t,n,i,r){let{processedData:o,dataModel:s}=this,[a,l]=i,c=this.keysOrValues(n),u=this.sortOrder(n);if(u!=null){let p=this.visibleRangeIndices(n,i,r,{sortOrder:u});return s.getDomainBetweenRange(this,t,p,o)}let d=t.map(p=>this.keysOrValues(p)),h=1/0,f=-1/0;return c.forEach((p,m)=>{let[b,v]=this.xCoordinateRange(p,0,m);if(!(v<a||b>l))for(let x=0;x<t.length;x++){let M=d[x][m];h=Math.min(h,M),f=Math.max(f,M)}}),h>f?[NaN,NaN]:[h,f]}domainForClippedRange(e,t,n){let{processedData:i,dataModel:r,axes:o}=this,a=MX(o[e==="x"?"y":"x"]);if(!a)return t.flatMap(p=>r.getDomain(this,p,"value",i));let l=this.keysOrValues(n),c=r.getColumnSortOrder(this,n,i);if(c!=null){let p=DX(c,l.length,a,m=>l[m]);return r.getDomainBetweenRange(this,t,p,i)}let u=t.map(p=>this.keysOrValues(p)),d=a[0].valueOf(),h=a[1].valueOf(),f=[];return l.forEach((p,m)=>{let b=p.valueOf();if(b<d||b>h)return;let v=u.map(x=>x[m]);b>=d&&f.push(...v),b<=h&&f.push(...v)}),f}countVisibleItems(e,t,n,i,r){let{dataModel:o,processedData:s}=this;if(!o||!s)return 1/0;let a=this.keysOrValues(e),l=t.map(w=>o.resolveColumnById(this,w,s)),c=this.axes.x,u=this.axes.y,d=this.shouldFlipXY();if(i==null){let w=this.sortOrder(e);if(w==null)i=[0,1];else{let E=c.scale,C=E.range;E.range=[0,1];let[_,N]=this.visibleRangeIndices(e,n,void 0,{sortOrder:w}),k=this.keysOrValues(e),j=0;this.xCoordinateRange(k[_],j,_)[0]<n[0]&&(_+=1),N<k.length&&this.xCoordinateRange(k[N],j,N)[1]>n[1]&&(N-=1);let V=Math.abs(N-_);return E.range=C,V}}let h=(w,E,C)=>w[0]+(C-E[0])/(E[1]-E[0])*(w[1]-w[0]),f=c.range,p=u.range,m=h(f,c.visibleRange,n[0]),b=h(f,c.visibleRange,n[1]),v=h(p,u.visibleRange,d?i[0]:i[1]),x=h(p,u.visibleRange,d?i[1]:i[0]),M=Math.round((n[0]+(n[1]-n[0])/2)*a.length),D=0;return K2(0,a.length-1,M,r,w=>{let[E,C]=this.xCoordinateRange(a[w],D,w),[_,N]=this.yCoordinateRange(l.map(k=>k[w]),D,w);return!nt(E)||!nt(C)||!nt(_)||!nt(N)?!1:(d&&([E,C,_,N]=[_,N,E,C]),E>=m&&C<=b&&_>=v&&N<=x)})}minTimeInterval(){let e;try{e=this.keysOrValues("xValue")}catch{}if(e==null||e.length>1e3)return;let t=1/0,n=e[0],i;for(let r=1;r<e.length;r++){let o=e[r];if(o!=null&&n!=null){let s=o.valueOf()-n.valueOf(),a=Math.sign(s);if(a===0)continue;if(i!==void 0&&a!==i)return;t=Math.min(t,Math.abs(s)),i=a}n=o}if(Number.isFinite(t))return t}updateHighlightSelectionItem(e){let{items:t,highlightSelection:n}=e,i=t??[];return this.updateDatumSelection({nodeData:i,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updatePaths(e){e.paths.forEach(t=>t.visible=!1)}updatePathNodes(e){let{paths:t,visible:n}=e;for(let i of t)i.visible=n}resetPathAnimation(e){let{path:t}=this.opts?.animationResetFns??{};t&&e.paths.forEach(n=>{wi([n],t)})}resetDatumAnimation(e){let{datum:t}=this.opts?.animationResetFns??{};t&&wi([e.datumSelection],t)}resetLabelAnimation(e){let{label:t}=this.opts?.animationResetFns??{};t&&wi([e.labelSelection],t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),e.contextData?.animationValid===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){let{datum:t}=this.opts?.animationResetFns??{};t&&wi([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){let{_contextNodeData:n}=this;return n?{datumSelection:this.datumSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:n,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof uT){let{range:t,domain:n}=e;return{type:"log",convert:i=>e.convert(i),domain:[n[0],n[1]],range:[t[0],t[1]]}}else if(e instanceof Ht){let{range:t,domain:n}=e;return{type:"continuous",domain:[n[0],n[1]],range:[t[0],t[1]]}}else if(e instanceof Ca)return{type:"category",domain:e instanceof dl?e.bands:e.domain,inset:e.inset,step:e.step}}calculateScaling(){let e={};for(let t of Object.values(xE)){let n=this.axes[t];if(!n)continue;let i=this.getScaling(n.scale);i!=null&&(e[t]=i)}return e}};function MX(e){let t,n;if((e instanceof Ll||e instanceof Rl)&&({min:t,max:n}=e),!(t==null&&n==null))return t??(t=-1/0),n??(n=1/0),[t,n]}function DX(e,t,n,i){let r=n[0].valueOf(),o=n[1].valueOf(),s=aa(0,t-1,l=>{let c=e===1?l:t-l,u=i(c)?.valueOf();return!Number.isFinite(u)||u>=r}),a=Ro(0,t-1,l=>{let c=e===1?l:t-l,u=i(c)?.valueOf();return!Number.isFinite(u)||u<=o});return s==null||a==null?[0,0]:(e===-1&&([s,a]=[t-a,t-s]),s=Math.max(s,0),a=Math.min(a+1,t),[s,a])}var Fh=class extends Te{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};y([S],Fh.prototype,"type",2);y([S],Fh.prototype,"tension",2);y([S],Fh.prototype,"position",2);var vn=class extends jl{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillGradientDefaults=new mo,this.fillPatternDefaults=new rn,this.fillImageDefaults=new xr,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Fh,this.shadow=new Fs,this.marker=new pi,this.label=new yn,this.tooltip=vu(),this.connectMissingData=!1}};y([S],vn.prototype,"xKey",2);y([S],vn.prototype,"xName",2);y([S],vn.prototype,"yKey",2);y([S],vn.prototype,"yName",2);y([S],vn.prototype,"yFilterKey",2);y([S],vn.prototype,"normalizedTo",2);y([S],vn.prototype,"fill",2);y([S],vn.prototype,"fillGradientDefaults",2);y([S],vn.prototype,"fillPatternDefaults",2);y([S],vn.prototype,"fillImageDefaults",2);y([S],vn.prototype,"fillOpacity",2);y([S],vn.prototype,"stroke",2);y([S],vn.prototype,"strokeWidth",2);y([S],vn.prototype,"strokeOpacity",2);y([S],vn.prototype,"lineDash",2);y([S],vn.prototype,"lineDashOffset",2);y([S],vn.prototype,"interpolation",2);y([S],vn.prototype,"shadow",2);y([S],vn.prototype,"marker",2);y([S],vn.prototype,"label",2);y([S],vn.prototype,"tooltip",2);y([S],vn.prototype,"connectMissingData",2);function po(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function IX(e){let t=po(e);return t[0].x>t[1].x&&t.reverse(),t}function wX(e,t){let{x:n,y:i}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:n,y0:i,x1:n,y1:i};case"step":return{type:"step",moveTo:e.moveTo,x0:n,y0:i,x1:n,y1:i,stepX:n};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:n,cp0y:i,cp1x:n,cp1y:i,cp2x:n,cp2y:i,cp3x:n,cp3y:i}}}function dg(e,t,n){let[i,r]=po(e),o=r.x!==i.x?(n.x-t.x)/(r.x-i.x):0,s=r.y!==i.y?(n.y-t.y)/(r.y-i.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:n.x-(e.cp2x-i.x)*o,cp1y:n.y-(e.cp2y-i.y)*s,cp2x:n.x-(e.cp1x-i.x)*o,cp2y:n.y-(e.cp1y-i.y)*s,cp3x:n.x,cp3y:n.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y,stepX:n.x-(e.stepX-i.x)*o}}}function WV(e,t,n){let{moveTo:i}=e,[r,o]=IX(e),{x:s,y:a}=r,{x:l,y:c}=o;if(n<s)return dg(e,r,r);if(t>l)return dg(e,o,o);switch(e.type){case"linear":{let u=a===c?void 0:(c-a)/(l-s),d=u==null?a:u*(t-s)+a,h=u==null?a:u*(n-s)+a;return{type:"linear",moveTo:i,x0:t,y0:d,x1:n,y1:h}}case"step":if(n<=e.stepX){let u=e.y0;return{type:"step",moveTo:i,x0:t,y0:u,x1:n,y1:u,stepX:n}}else if(t>=e.stepX){let u=e.y1;return{type:"step",moveTo:i,x0:t,y0:u,x1:n,y1:u,stepX:t}}else{let{y0:u,y1:d,stepX:h}=e;return{type:"step",moveTo:i,x0:t,y0:u,x1:n,y1:d,stepX:h}}case"cubic":{let u=Sx(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t),[d,h]=Kp(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,u),f=Sx(h[0].x,h[1].x,h[2].x,h[3].x,n);return[h,d]=Kp(h[0].x,h[0].y,h[1].x,h[1].y,h[2].x,h[2].y,h[3].x,h[3].y,f),{type:"cubic",moveTo:i,cp0x:h[0].x,cp0y:h[0].y,cp1x:h[1].x,cp1y:h[1].y,cp2x:h[2].x,cp2y:h[2].y,cp3x:h[3].x,cp3y:h[3].y}}}}function CX(e){let t=[],n=0,i=NaN,r=NaN;for(let{x:o,y:s}of e){if(n>0){let a=n===1;t.push({type:"linear",moveTo:a,x0:i,y0:r,x1:o,y1:s})}n+=1,i=o,r=s}return t}var EX={start:0,middle:.5,end:1};function TX(e,t){let n=[],i=0,r=NaN,o=NaN,s=typeof t=="number"?t:EX[t];for(let{x:a,y:l}of e){if(i>0){let c=i===1,u=r+(a-r)*s;n.push({type:"step",moveTo:c,x0:r,y0:o,x1:a,y1:l,stepX:u})}i+=1,r=a,o=l}return n}var qb=.05;function AX(e,t){let n=Array.isArray(e)?e:Array.from(e);if(n.length<=1)return[];let i=n.map((o,s)=>{let a=s===0?o:n[s-1],l=s===n.length-1?o:n[s+1],c=s===0||s===n.length-1;if(Math.sign(a.y-o.y)===Math.sign(l.y-o.y))return 0;if(!c){let u=Math.abs(a.y-l.y),d=Math.abs(o.y-a.y)/u,h=Math.abs(o.y-l.y)/u;if(d<=qb||1-d<=qb||h<=qb||1-h<=qb)return 0}return(l.y-a.y)/(l.x-a.x)});i[1]===0&&(i[0]*=2),i[i.length-2]===0&&(i[i.length-1]*=2);let r=[];for(let o=1;o<n.length;o+=1){let s=n[o-1],a=i[o-1],l=n[o],c=i[o],u=l.x-s.x,d=l.y-s.y,h=u*t/3,f=u*a*t/3,p=u*t/3,m=u*c*t/3;c===0&&Math.abs(f)>Math.abs(d)&&(h*=Math.abs(d/f),f=Math.sign(f)*Math.abs(d)),a===0&&Math.abs(m)>Math.abs(d)&&(p*=Math.abs(d/m),m=Math.sign(m)*Math.abs(d)),r.push({type:"cubic",moveTo:o===1,cp0x:s.x,cp0y:s.y,cp1x:s.x+h,cp1y:s.y+f,cp2x:l.x-p,cp2y:l.y-m,cp3x:l.x,cp3y:l.y})}return r}function Vn(e,t,n){return(t-e)*n+e}function _X(e,t){let{x0:n,y0:i,x1:r,y1:o}=e,a=(o-i)/(r-n)*(t-n)+i;return{leftCp1x:n,leftCp1y:i,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:r,rightCp2y:o}}function kX(e,t){let{cp0x:n,cp0y:i,cp1x:r,cp1y:o,cp2x:s,cp2y:a,cp3x:l,cp3y:c}=e,u=Sx(n,r,s,l,t),[d,h]=Kp(n,i,r,o,s,a,l,c,u),f=d[3].y;return{leftCp1x:d[1].x,leftCp1y:d[1].y,leftCp2x:d[2].x,leftCp2y:d[2].y,stepX:t,stepY0:f,stepY1:f,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}function NX(e){let{x0:t,y0:n,x1:i,y1:r,stepX:o}=e;return{leftCp1x:(t+o)/2,leftCp1y:n,leftCp2x:(t+o)/2,leftCp2y:n,stepX:o,stepY0:n,stepY1:r,rightCp1x:(o+i)/2,rightCp1y:r,rightCp2x:(o+i)/2,rightCp2y:r}}function dP(e,t){return e.type==="linear"?_X(e,t):e.type==="cubic"?kX(e,t):NX(e)}function YV(e,t,n,i,r,o,s){switch(t){case 0:s?e.moveTo(r,o):e.moveTo(n,i);break;case 1:s?e.lineTo(r,o):e.lineTo(n,i);break}}function ZV(e,t,n,i,r,o){o?e.lineTo(t,n):e.lineTo(i,r)}function qV(e,t,n,i,r,o,s,a,l,c){c?e.cubicCurveTo(o,s,i,r,t,n):e.cubicCurveTo(i,r,o,s,a,l)}function KV(e,t,n,i,r,o,s){s?(e.lineTo(o,r),e.lineTo(o,n),e.lineTo(t,n)):(e.lineTo(o,n),e.lineTo(o,r),e.lineTo(i,r))}function Vp(e,t,n,i){let[r,o]=po(t);switch(YV(e,n,r.x,r.y,o.x,o.y,i),t.type){case"linear":ZV(e,t.x0,t.y0,t.x1,t.y1,i);break;case"cubic":qV(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,i);break;case"step":KV(e,t.x0,t.y0,t.x1,t.y1,t.stepX,i);break}}function QV(e,t,n){let[i,r]=po(e),[o,s]=po(t),a=Vn(i.x,o.x,n),l=Vn(i.y,o.y,n),c=Vn(r.x,s.x,n),u=Vn(r.y,s.y,n);return[{x:a,y:l},{x:c,y:u}]}function KC(e,t,n,i,r,o){let[{x:s,y:a},{x:l,y:c}]=QV(t,n,i);if(YV(e,r,s,a,l,c,o),t.type==="cubic"&&n.type==="cubic"){let u=Vn(t.cp1x,n.cp1x,i),d=Vn(t.cp1y,n.cp1y,i),h=Vn(t.cp2x,n.cp2x,i),f=Vn(t.cp2y,n.cp2y,i);qV(e,s,a,u,d,h,f,l,c,o)}else if(t.type==="step"&&n.type==="step"){let u=Vn(t.stepX,n.stepX,i);KV(e,s,a,l,c,u,o)}else if(t.type==="linear"&&n.type==="linear")ZV(e,s,a,l,c,o);else{let u;t.type==="step"?u=t.stepX:n.type==="step"?u=n.stepX:u=(s+l)/2;let d=dP(t,u),h=dP(n,u),f=Vn(d.leftCp1x,h.leftCp1x,i),p=Vn(d.leftCp1y,h.leftCp1y,i),m=Vn(d.leftCp2x,h.leftCp2x,i),b=Vn(d.leftCp2y,h.leftCp2y,i),v=Vn(d.stepX,h.stepX,i),x=Vn(d.stepY0,h.stepY0,i),M=Vn(d.stepY1,h.stepY1,i),D=Vn(d.rightCp1x,h.rightCp1x,i),w=Vn(d.rightCp1y,h.rightCp1y,i),E=Vn(d.rightCp2x,h.rightCp2x,i),C=Vn(d.rightCp2y,h.rightCp2y,i);o?(e.cubicCurveTo(E,C,D,w,v,M),e.lineTo(v,x),e.cubicCurveTo(m,b,f,p,s,a)):(e.cubicCurveTo(f,p,m,b,v,x),e.lineTo(v,M),e.cubicCurveTo(D,w,E,C,l,c))}}var OX=1e3,XV=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(XV||{});function LX(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function yr(e){return kC(e).valueOf()}function Pi(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);if(t.type!=="category")return NaN;let n=yr(e),i=t.domain.findIndex(r=>yr(r)===n);return i===-1&&(i=t.domain.findIndex(r=>LX(e,r))),i>=0?t.inset+t.step*i:NaN}function hP({data:e},t){return e.map((n,i)=>({xValue0Index:t.indexOf(yr(n.xValue0)),xValue1Index:t.indexOf(yr(n.xValue1)),datumIndex:i}))}function fP(e){return Object.values(e.scales).every(t=>t.type==="category"?t.domain.length<OX:!0)}function RX(e,t){let n=t.scales.x,i=e.scales.x;if(n?.type!=="category"||i?.type!=="category")return!0;let r=-1/0;for(let o of n.domain){let s=Pi(o,i);if(Number.isFinite(s)){if(s<r)return!1;r=s}}return!0}function PX(e,t){let n=-1/0;for(let i of e){let r=Pi(i.value,t.scales.x);if(Number.isFinite(r)){if(r<n)return!1;n=r}}return!0}function FX(e,t){let n=new Map;for(let{xValue0:u,xValue1:d}of e.data){let h=yr(u),f=yr(d);n.set(h,u).set(f,d)}let i=Array.from(n,([u,d])=>({axisValue:u,value:d}));i.sort((u,d)=>Pi(u.value,e.scales.x)-Pi(d.value,e.scales.x));let r=[];for(let{xValue0:u,xValue1:d}of t.data){let h=yr(u),f=yr(d);n.has(h)||(n.set(h,u),r.push({axisValue:h,value:u})),n.has(f)||(n.set(f,d),r.push({axisValue:f,value:d}))}r.sort((u,d)=>Pi(u.value,t.scales.x)-Pi(d.value,t.scales.x));let o=i,s=0;for(let u of r){for(let d=o.length-1;d>=s;d-=1){let h=Pi(u.value,t.scales.x),f=Pi(o[d].value,t.scales.x);if(h>f){s=d+1;break}}o.splice(s,0,u),s+=1}if(!PX(o,t))return;let a=o.map(u=>u.axisValue),l=hP(t,a),c=hP(e,a);return{axisValues:a,oldDataAxisIndices:l,newDataAxisIndices:c}}function pP(e,t,n){if(n.xValue1Index===n.xValue0Index+1)return e;let i=po(e),r=(i[1].x-i[0].x)/(n.xValue1Index-n.xValue0Index),o=i[0].x+(t-n.xValue0Index)*r,s=o+r;return WV(e,o,s)}function JV(e,t){let[n,i]=po(e),r=Pi(0,t.scales.y);return dg(e,{x:n.x,y:r},{x:i.x,y:r})}function eB(e){let[t,n]=po(e);return wX(e,{x:(t.x+n.x)/2,y:(t.y+n.y)/2})}function tB(e,t,n,i,r,o){let s,a;if(r.xValue0Index>=o.xValue1Index){let d=i.findLast(f=>f.xValue1Index<=o.xValue1Index)?.datumIndex,h=d!=null?n.data[d]:void 0;s=h?.xValue1,a=h?.yValue1}else if(r.xValue0Index<=o.xValue0Index){let d=i.find(f=>f.xValue0Index>=o.xValue0Index)?.datumIndex,h=d!=null?n.data[d]:void 0;s=h?.xValue0,a=h?.yValue0}if(s==null||a==null)switch(t){case 0:return JV(e,n);case 1:return eB(e)}let l=Pi(s,n.scales.x),c=Pi(a,n.scales.y),u={x:l,y:c};return dg(e,u,u)}function CT(e,t){if(t==null)return;let n=yr(e.xValue0),i=yr(e.xValue1);return t.find(r=>yr(r.xValue0)===n&&yr(r.xValue1)===i)?.span}function gP(e,t,n,i,r,o,s){let a=e.data[i.datumIndex],l=a.span,c=CT(a,r);if(c!=null)s.removed.push({from:c,to:c}),s.moved.push({from:c,to:l}),s.added.push({from:l,to:l});else{let u=tB(l,t,e,n,i,o);s.added.push({from:u,to:l})}}function mP(e,t,n,i,r,o,s){let a=e.data[i.datumIndex],l=a.span,c=CT(a,r);if(c!=null)s.removed.push({from:l,to:l}),s.moved.push({from:l,to:c}),s.added.push({from:c,to:c});else{let u=tB(l,t,e,n,i,o);s.removed.push({from:l,to:u})}}function yP(e,t,n,i,r){let o=t[r.xValue0Index],s=n.data.find(b=>yr(b.xValue0)===o),a=t[r.xValue1Index],l=n.data.find(b=>yr(b.xValue1)===a);if(s==null||l==null)return;let[{x:c},{x:u}]=po(e),d=Pi(s.xValue0,n.scales.x),h=Pi(s.yValue0,n.scales.y),f=Pi(l.xValue1,n.scales.x),p=Pi(l.yValue1,n.scales.y),m=i.data[r.datumIndex].span;return m=dg(m,{x:d,y:h},{x:f,y:p}),m=WV(m,c,u),m}function jX(e,t,n,i,r,o,s,a,l){let c=r+1,u=s.find(M=>M.xValue0Index<=r&&M.xValue1Index>=c),d=o.find(M=>M.xValue0Index<=r&&M.xValue1Index>=c),h=t.zeroData,f=e.zeroData;if(u==null&&d!=null){gP(e,n,o,d,h,a,l);return}else if(u!=null&&d==null){mP(t,n,s,u,f,a,l);return}else if(u==null||d==null)return;let p;u.xValue0Index===d.xValue0Index&&u.xValue1Index===d.xValue1Index?p=0:u.xValue0Index<=d.xValue0Index&&u.xValue1Index>=d.xValue1Index?p=-1:u.xValue0Index>=d.xValue0Index&&u.xValue1Index<=d.xValue1Index?p=1:p=0;let m=t.data[u.datumIndex],b=pP(m.span,r,u),v=e.data[d.datumIndex],x=pP(v.span,r,d);if(p===1){let M=yP(b,i,t,e,d);M!=null?(l.removed.push({from:b,to:M}),l.moved.push({from:M,to:x}),l.added.push({from:x,to:x})):mP(t,n,s,u,f,a,l)}else if(p===-1){let M=yP(x,i,e,t,u);M!=null?(l.removed.push({from:b,to:b}),l.moved.push({from:b,to:M}),l.added.push({from:M,to:x})):gP(e,n,o,d,h,a,l)}else l.removed.push({from:b,to:b}),l.moved.push({from:b,to:x}),l.added.push({from:x,to:x})}function VX(e,t,n,i){let r={removed:[],moved:[],added:[]},{axisValues:o,oldDataAxisIndices:s,newDataAxisIndices:a}=e,l={xValue0Index:Math.max(s.at(0)?.xValue0Index??-1/0,a.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(s.at(-1)?.xValue1Index??1/0,a.at(-1)?.xValue1Index??1/0)};for(let c=0;c<o.length-1;c+=1)jX(t,n,i,o,c,a,s,l,r);return r}function vP(e,t,n){let{span:i}=t;switch(n){case 0:return CT(t,e.zeroData)??JV(i,e);case 1:return eB(i)}}function BX(e,t,n){let i=[],r=[];for(let o of t.data){let s=o.span,a=vP(t,o,n);r.push({from:s,to:a})}for(let o of e.data){let s=o.span,a=vP(e,o,n);i.push({from:a,to:s})}return{removed:r,moved:[],added:i}}function Yp(e,t,n){if(!fP(e)||!fP(t)||!RX(e,t))return;let i=FX(e,t);return i==null?BX(e,t,n):VX(i,e,t,n)}function bP(e){return e.type==="continuous"||e.type==="log"}function xP(e){return e.type==="category"}function Xc(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:bP(e)&&bP(t)?e.type===t.type&&dr(e.domain,t.domain)&&dr(e.range,t.range):xP(e)&&xP(t)?e.inset===t.inset&&e.step===t.step&&dr(e.domain,t.domain):!1}function hg(e){return e==null?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)&&e.range.every(t=>Number.isFinite(t))}function Bx(e,t){let n,i=e.map(r=>r.point);switch(t.type){case"linear":n=CX(i);break;case"smooth":n=AX(i,t.tension);break;case"step":n=TX(i,t.position);break}return n.map((r,o)=>({span:r,xValue0:e[o].xDatum,yValue0:e[o].yDatum,xValue1:e[o+1].xDatum,yValue1:e[o+1].yDatum}))}function fg(e,t,n=.001){return Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n}function ET({path:e},t){let n;for(let{span:i}of t){let[r,o]=po(i),s=n!=null&&fg(n,r)?1:0;Vp(e,i,s,!1),n=o}}function fx(e,t,n){let i;for(let r of n){let[o,s]=QV(r.from,r.to,e),a=i!=null&&fg(i,o)?1:0;KC(t.path,r.from,r.to,e,a,!1),i=s}}function TT(e,t,n){let i=(a,l)=>fx(a,l,t.removed),r=(a,l)=>fx(a,l,t.moved),o=(a,l)=>fx(a,l,t.added),s=AT(e,n);return{status:e,path:{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:i},pathProperties:s}}function AT(e,t){let n=t==="none"?"updated":e,i={fromFn:r=>{let o;return e==="removed"?o={finish:{visible:!1}}:e==="added"?o={start:{visible:!0}}:o={},g({phase:Go[n]},o)},toFn:r=>({phase:Go[n]})};return t==="fade"?{fromFn:r=>{let o=e==="added"?0:r.opacity;return g({opacity:o},i.fromFn(r))},toFn:r=>g({opacity:e==="removed"?0:1},i.toFn(r))}:i}function nB(e,t,n){let i=e.scales.x?.type==="category",r=t.scales.x?.type==="category";if(i!==r||!hg(e.scales.x)||!hg(t.scales.x)||e.strokeData==null||t.strokeData==null)return;let o="updated";t.visible&&!e.visible?o="removed":!t.visible&&e.visible&&(o="added");let s=Yp({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(s==null)return;let a=TT(o,s,"fade"),l=(n?.changed??!0)||!Xc(e.scales.x,t.scales.x)||!Xc(e.scales.y,t.scales.y)||o!=="updated";return{status:o,stroke:a,hasMotion:l}}function iB({path:e},{spans:t,phantomSpans:n}){let i=0,r={x:NaN,y:NaN},o={x:NaN,y:NaN};for(let s=0;s<t.length;s+=1){let{span:a}=t[s],{span:l}=n[s],{0:c,1:u}=po(a),{0:d,1:h}=po(l);if(fg(r,c)&&fg(o,d))Vp(e,a,1,!1);else{for(let f=s-1;f>=i;f-=1)Vp(e,n[f].span,1,!0);e.closePath(),Vp(e,a,0,!1),i=s}r=u,o=h}for(let s=t.length-1;s>=i;s-=1)Vp(e,n[s].span,1,!0);e.closePath()}function px(e,{path:t},n,i){for(let r=0;r<n.length;r+=1){let o=n[r],s=i[r];KC(t,o.from,o.to,e,0,!1),KC(t,s.from,s.to,e,1,!0),t.closePath()}}function rB(e,t,n,i){let r=(l,c)=>px(l,c,t.removed,n.removed),o=(l,c)=>px(l,c,t.moved,n.moved),s=(l,c)=>px(l,c,t.added,n.added),a=AT(e,i);return{status:e,path:{addPhaseFn:s,updatePhaseFn:o,removePhaseFn:r},pathProperties:a}}function oB(e,t){let n=e.scales.x?.type==="category",i=t.scales.x?.type==="category";if(n!==i||!hg(e.scales.x)||!hg(t.scales.x))return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");let o=Yp({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(o==null)return;let s=Yp({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(s==null)return;let a=Yp({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(a==null)return;let l="none",c=rB(r,o,s,l),u=TT(r,a,l);return{status:r,fill:c,stroke:u}}var tr=0,jr=1,so=2,ao=3,As=4;function _T(e){let t=Math.ceil(Math.log2(e.length))-1;return t=Math.min(Math.max(t,0),24),2**t|0}function pg(e,t){switch(e){case"category":return[NaN,NaN];case"number":case"time":case"ordinal-time":case"unit-time":{let n=1/0,i=-1/0;for(let r of t){let o=Number(r);n=Math.min(n,o),i=Math.max(i,o)}return[n,i]}case"color":case"log":case"mercator":return[0,0]}}function kT(e,t){return e/t}function wa(e,t,n){return(e.valueOf()-t)/(n-t)}function NT(e,t){return Math.min(Math.floor(e*t),t-1)*As|0}function OT(e,t,n,i,r,o){let s=new Int32Array(o*As).fill(-1),a=new Float64Array(o*As).fill(NaN),l=Number.isFinite(i)&&Number.isFinite(r),c=e.length;for(let u=0;u<e.length;u+=1){let d=e[u];if(d==null)continue;let h=l?wa(d,i,r):kT(u,c),f=NT(h,o),p=t[u],m=n[u],b=p!=null?p.valueOf():NaN,v=m!=null?m.valueOf():NaN,x=s[f+tr]===-1;(x||h<a[f+tr])&&(s[f+tr]=u,a[f+tr]=h),(x||h>a[f+jr])&&(s[f+jr]=u,a[f+jr]=h),!Number.isNaN(v)&&(x||v<a[f+so])&&(s[f+so]=u,a[f+so]=v),!Number.isNaN(b)&&(x||b>a[f+ao])&&(s[f+ao]=u,a[f+ao]=b)}return{indexData:s,valueData:a}}function LT(e,t,n,{inPlace:i=!1}={}){let r=n/2|0,o=i?e:new Int32Array(r*As),s=i?t:new Float64Array(r*As);for(let a=0;a<r;a+=1){let l=a*As|0,c=l*2|0,u=c+As|0,d=e[u+tr]===-1,h=d||t[c+tr]<t[u+tr]?c:u;o[l+tr]=e[h+tr],s[l+tr]=t[h+tr];let f=d||t[c+jr]>t[u+jr]?c:u;o[l+jr]=e[f+jr],s[l+jr]=t[f+jr];let p=d||t[c+so]<t[u+so]?c:u;o[l+so]=e[p+so],s[l+so]=t[p+so];let m=d||t[c+ao]>t[u+ao]?c:u;o[l+ao]=e[m+ao],s[l+ao]=t[m+ao]}return{maxRange:r,indexData:o,valueData:s}}var zX=1e3,HX=10;function SP(e,t,n,i,r,o){let s=e[o];if(s==null)return!1;let a=Number.isFinite(t)?wa(s,t,n):kT(o,e.length),l=NT(a,r);return o===i[l+tr]||o===i[l+jr]||o===i[l+so]||o===i[l+ao]}function sB(e,t,n,i){if(t.length<zX)return;let[r,o]=pg(e,i),s=_T(t),{indexData:a,valueData:l}=OT(t,n,n,r,o,s),c=[];for(let d=0;d<t.length;d+=1)SP(t,r,o,a,s,d)&&c.push(d);let u=[{maxRange:s,indices:c}];for(;c.length>HX&&s>64;)({maxRange:s}=LT(a,l,s,{inPlace:!0})),c=c.filter(SP.bind(null,t,r,o,a,s)),u.push({maxRange:s,indices:c});return u.reverse(),u}function gg({id:e},t,n,...i){let r={phase:n?Go[n]:"trailing"};Ea(e,"markers",t,i,{opacity:0},{opacity:1},r),i.forEach(o=>o.cleanup())}function aB({id:e},t,...n){Ea(e,"markers",t,n,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),n.forEach(i=>i.cleanup())}function RT({id:e,nodeDataDependencies:t},n,...i){let r=t.seriesRectWidth;Bn(e,"markers",n,i,{fromFn:(a,l)=>{let c=l.midPoint?.x??r,u=se(0,B2(c/r),1);return isNaN(u)&&(u=0),{scalingX:0,scalingY:0,delay:u,duration:Dx,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function q0(e){return{opacity:1,scalingX:1,scalingY:1}}function mg(e,t){return{x:t.point?.x??NaN,y:t.point?.y??NaN,scalingCenterX:t.point?.x??NaN,scalingCenterY:t.point?.y??NaN}}function K0(e,{datumIndex:t}){let n=e.getNodeData();if(n===void 0)return;let i=n[t],{point:r}=i??{};if(i==null||r==null)return;let o=e.getFormattedMarkerStyle(i),s=Hn.anchor(o.shape),a=r.focusSize??o.size,l=4+a,c=l/2,u=(s.x-.5)*a,d=(s.y-.5)*a,h=i.point.x-c-u,f=i.point.y-c-d;return gn.toCanvas(e.contentGroup,new re(h,f,l,l))}function PT({id:e,visible:t,nodeDataDependencies:n},i,...r){let{seriesRectWidth:o,seriesRectHeight:s}=n;Ea(e,"path_properties",i,r,{clipX:0},{clipX:o},{phase:"initial",start:{clip:!0,clipY:s,visible:t},finish:{clip:!1,visible:t}})}function zx({id:e},t,n,i="add",...r){Ea(e,t,n,r,{opacity:0},{opacity:1},{phase:i})}function FT(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function Hx({nodeDataDependencies:e},t){let n=i=>isFinite(i)?i:0;t.clipX=n(e.seriesRectWidth),t.clipY=n(e.seriesRectHeight)}var UX=.125,GX=.25,$X=Dg(sB),lB=(()=>{let e=class extends bu{constructor(t){super({moduleCtx:t,propertyKeys:Rh,propertyNames:Ph,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],datumSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:FT({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:yu,datum:(n,i)=>g(g({},q0(n)),mg(n,i))},clipFocusBox:!1}),this.properties=new vn,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0,this.backgroundGroup=new Ve({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>Vx||this.contextNodeData.strokeData.spans.length>Vx)}attachSeries(t,n,i){super.attachSeries(t,n,i),t.appendChild(this.backgroundGroup)}detachSeries(t,n,i){super.detachSeries(t,n,i),t?.removeChild(this.backgroundGroup)}attachPaths([t,n]){this.backgroundGroup.appendChild(t),this.contentGroup.appendChild(n),n.zIndex=-1}detachPaths([t,n]){this.backgroundGroup.removeChild(t),this.contentGroup.removeChild(n)}isStacked(){return(this.seriesGrouping?.stackCount??1)>1}setSeriesIndex(t){let i=this.isStacked()===this._isStacked;return this._isStacked=i,super.setSeriesIndex(t,i)}setZIndex(t){super.setZIndex(t),this.isStacked()?(this.backgroundGroup.zIndex=[0,t],this.contentGroup.zIndex=[1,t,0]):(this.backgroundGroup.zIndex=[1,t,0,0],this.contentGroup.zIndex=[1,t,0,1])}processData(t){return Fe(this,null,function*(){if(this.data==null)return;let{data:n,visible:i,seriesGrouping:{groupIndex:r=this.id,stackCount:o=1}={}}=this,{xKey:s,yKey:a,yFilterKey:l,connectMissingData:c,normalizedTo:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,f=this.axes.y?.scale,{xScaleType:p,yScaleType:m}=this.getScaleInformation({xScale:h,yScale:f}),b=o>1||u!=null,v={value:`area-stack-${r}-yValue`,values:`area-stack-${r}-yValues`,stack:`area-stack-${r}-yValue-stack`,marker:`area-stack-${r}-yValues-marker`},x={invalidValue:null};(Mc(u)||c)&&o>1&&(x.invalidValue=0),i||(x.forceValue=0);let M=[bl(s,p,{id:"xValue"}),Kt(a,m,g({id:"yValueRaw"},x)),...l!=null?[Kt(l,m,{id:"yFilterRaw"})]:[],..._j(a,m,I(g({id:"yValueStack"},x),{groupId:v.stack})),Kt(a,m,I(g({id:"yValue"},x),{groupId:v.value}))];b&&M.push(...xl(a,"window","current",I(g({id:"yValueEnd"},x),{groupId:v.values}),m),...xl(a,"normal","current",I(g({id:"yValueCumulative"},x),{groupId:v.marker}),m)),Mc(u)&&M.push(H0(Object.values(v),u)),d&&M.push(Jg());let{dataModel:D,processedData:w}=yield this.requestDataModel(t,n,{props:M,groupByKeys:b,groupByData:!b});this.dataAggregationFilters=this.aggregateData(D,w),this.animationState.transition("updateData")})}xCoordinateRange(t,n){let{marker:i}=this.properties,r=this.axes.x.scale.convert(t),o=i.enabled?.5*i.size*n:0;return[r-o,r+o]}yCoordinateRange(t,n){let{marker:i}=this.properties,r=this.axes.y.scale.convert(t[0]),o=i.enabled?.5*i.size*n:0;return[r-o,r+o]}yCumulativeKey(t){return t.type==="grouped"?"yValueCumulative":"yValue"}getSeriesDomain(t){let{processedData:n,dataModel:i,axes:r}=this;if(!n||!i)return[];let o=r.y;if(t==="x"){let a=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","key",n);return a?.def.type==="key"&&a.def.valueType==="category"?l:Hr(Ol(l))}let s=this.domainForClippedRange("y",[this.yCumulativeKey(n)],"xValue");if(o instanceof G0||o instanceof Rl)return Hr(s);{let a=Number.isFinite(s[1]-s[0])?[s[0]>0?0:s[0],s[1]<0?0:s[1]]:[];return Hr(a)}}getSeriesRange(t,n){let[i,r]=this.domainForVisibleRange("y",[this.yCumulativeKey(this.processedData)],"xValue",n);return[Math.min(i,0),Math.max(r,0)]}getVisibleItems(t,n,i){return this.countVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],t,n,i)}aggregateData(t,n){if(n.type==="grouped"||Ch(n))return;let i=this.axes.x;if(i==null)return;let{scale:r}=i,o=t.resolveColumnById(this,"xValue",n),s=t.resolveColumnById(this,"yValueRaw",n),a=t.getDomain(this,"xValue","value",n);return $X(r.type,o,s,a)}createNodeData(){let{axes:t,data:n,processedData:i,dataModel:r,dataAggregationFilters:o}=this,s=t.x,a=t.y;if(!s||!a||!n||!r||!i)return;let{yKey:l,xKey:c,xName:u,yName:d,yFilterKey:h,marker:f,label:p,fill:m,stroke:b,connectMissingData:v,interpolation:x}=this.properties,{scale:M}=s,{scale:D}=a,w=this.getSeriesDomain("y"),{isContinuousY:E}=this.getScaleInformation({xScale:M,yScale:D}),C=(M.bandwidth??0)/2,_=i.type==="grouped",N=r.resolveKeysById(this,"xValue",i),k=r.resolveColumnById(this,"yValueRaw",i),j=_?r.resolveColumnById(this,"yValueCumulative",i):k,V=h!=null?r.resolveColumnById(this,"yFilterRaw",i):void 0,$=i.type==="grouped"?r.resolveColumnById(this,"yValueStack",i):void 0,te=[],Z=[],{visibleSameStackCount:de}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),Oe=!1,{dataSources:Ke}=i,vt=Ke.get(this.id)??[],[Mt,Ye]=M.range,be=Math.abs(Ye-Mt),xe=o?.find(we=>we.maxRange>be),ge=0,dt=0,ze=xe?.indices;[ge,dt]=this.visibleRangeIndices("xValue",s.range,ze),ge=Math.max(ge-1,0),dt=Math.min(dt+1,ze?.length??N.length),i.input.count<1e3&&(ge=0,dt=i.input.count);let Pe=(we,je,Je)=>{let Qe;return(Mc(this.properties.normalizedTo)?E&&u0(Je):!isNaN(Je))&&(Qe=je),{x:M.convert(we)+C,y:D.convert(Qe),size:f.size}},Ae=we=>{let je=N[we];if(je==null)return;let Je=vt[we],Qe=k[we],Gt=j[we],$t=Number.isFinite(Qe),Hi=Pe(je,+Gt,Qe),$r=V!=null?V[we]===Qe:void 0;if($r===!1&&(Oe=!0),$t&&f&&Z.push({series:this,itemId:l,datum:Je,datumIndex:we,midPoint:{x:Hi.x,y:Hi.y},cumulativeValue:Gt,yValue:Qe,xValue:je,yKey:l,xKey:c,point:Hi,fill:f.fill??m,stroke:f.stroke??b,strokeWidth:f.strokeWidth??this.properties.strokeWidth,selected:$r}),p.enabled&&$t){let Pa=this.getLabelText(Qe,Je,l,"y",w,p,{value:Qe,datum:Je,xKey:c,yKey:l,xName:u,yName:d});te.push({series:this,itemId:l,datum:Je,datumIndex:we,x:Hi.x,y:Hi.y,labelText:Pa})}};if(i.type==="grouped")for(let{datumIndex:we}of r.forEachGroupDatum(this,i))Ae(we);else for(let we=ge;we<dt;we+=1){let je=ze?.[we]??we;N[je]!=null&&Ae(je)}let Me=we=>we.flatMap(je=>Array.isArray(je)?Bx(je,x):new Array(je.skip).fill(null)),ve=(we,je)=>({point:{x:M.convert(we)+C,y:D.convert(je)},xDatum:we,yDatum:je}),pe=we=>{let je=[],Je=(Qe,Gt,$t)=>{let Hi=N[Gt],$r=$!=null?$?.[Gt][we]:k[Gt];if(v&&!Number.isFinite(k[Gt]))return;let Pa=Number.isFinite($r),Ul=0,ES=!0,Qh=0,TS=!0;if($==null)ES=Qe==null||Number.isFinite(k[Qe]),TS=$t==null||Number.isFinite(k[$t]),Ul=Qe!=null&&Number.isFinite(k[Qe])?$r:0,Qh=$t!=null&&Number.isFinite(k[$t])?$r:0;else{let Xh=$[Gt],Fa=Qe!=null?$[Qe]:void 0,PA=$t!=null?$[$t]:void 0;for(let Jh=0;Jh<=we;Jh+=1){let AS=Xh[Jh];if(Number.isFinite(AS)){let lH=Fa==null||Number.isFinite(Fa[Jh]),cH=PA==null||Number.isFinite(PA[Jh]);lH?Ul+=AS:ES=!1,cH?Qh+=AS:TS=!1}}}let ts=je[je.length-1];if(!v&&(!ES||!TS||!Pa||Ul!==Qh))if(!Pa&&Array.isArray(ts)&&ts.length===1)je[je.length-1]={skip:1};else{let Xh=ve(Hi,Ul),Fa=ve(Hi,Qh);Array.isArray(ts)?ts.push(Xh):ts!=null&&(ts.skip+=1),je.push(Pa?[Fa]:{skip:0})}else{let Xh=v?$r:Math.max(Ul,Qh),Fa=ve(Hi,Xh);Array.isArray(ts)?ts.push(Fa):ts!=null?(ts.skip+=1,je.push([Fa])):je.push([Fa])}};if(i.type==="grouped")for(let{datumIndexes:[Qe,Gt,$t]}of r.forEachGroupDatumTuple(this,i))Je(Qe,Gt,$t);else{let Qe,Gt;for(let $t=ge;$t<dt;$t+=1){let Hi=ze?.[$t]??$t;N[Hi]!=null&&(Gt!=null&&Je(Qe,Gt,Hi),Qe=Gt,Gt=Hi)}Gt!=null&&Je(Qe,Gt,void 0)}return Me(je)},ke=this.seriesGrouping?.stackIndex??0,Le=()=>{let we=Je=>{let Qe=N[Je],Gt=$?.[Je][ke]??k[Je];if(!(v&&!Number.isFinite(Gt)))return ve(Qe,0)},je;if(i.type==="grouped")je=Array.from(r.forEachGroupDatum(this,i),({datumIndex:Je})=>we(Je));else{je=[];for(let Je=ge;Je<dt;Je+=1){let Qe=ze?.[Je]??Je;N[Qe]!=null&&je.push(we(Qe))}}return je=je.filter(Je=>Je!=null),Bx(je,x)},Ut=pe(ke),xn=Ut.map(()=>null);for(let we=ke-1;we>=-1;we-=1){let je;for(let Je=0;Je<xn.length;Je+=1)xn[Je]==null&&(je??(je=we!==-1?pe(we):Le()),xn[Je]=je[Je])}let cn=Ut.map((we,je)=>we??xn[je]),jt=Ut.filter(we=>we!=null);return{itemId:l,fillData:{itemId:l,spans:cn,phantomSpans:xn},strokeData:{itemId:l,spans:jt},labelData:te,nodeData:Z,scales:this.calculateScaling(),visible:this.visible,stackVisible:de>0,crossFiltering:Oe}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){let{visible:n,animationEnabled:i}=t,[r,o]=t.paths,s=this.contextNodeData?.crossFiltering===!0,{strokeWidth:a,stroke:l,strokeOpacity:c,lineDash:u,lineDashOffset:d,fill:h,fillOpacity:f,opacity:p}=Dt(this.getHighlightStyle(),this.properties);o.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:l,strokeWidth:a,strokeOpacity:c*(s?GX:1),lineDash:u,lineDashOffset:d,opacity:p,visible:n||i});let m=eh(h,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);ya(r,{fill:m,stroke:void 0,fillOpacity:f*(s?UX:1)},this.getShapeFillBBox()),r.setProperties({lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:p,visible:n||i}),Hx(this,o),Hx(this,r)}updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,n){for(let i of t)i.visible=n.visible;if(n.visible)this.updateFillPath(t,n),this.updateStrokePath(t,n);else for(let i of t)i.path.clear(),i.markDirty("AreaSeries")}updateFillPath(t,n){let[i]=t;i.path.clear(),iB(i,n.fillData),i.markDirty("AreaSeries")}updateStrokePath(t,n){let{spans:i}=n.strokeData,[,r]=t;r.path.clear(),ET(r,i),r.markDirty("AreaSeries")}updateDatumSelection(t){let{nodeData:n,datumSelection:i}=t,r=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(r?n:[])}updateDatumNodes(t){let{datumSelection:n,isHighlight:i}=t,{xKey:r,yKey:o,marker:s,stroke:a,strokeWidth:l,strokeOpacity:c}=this.properties,u=this.getSeriesDomain("x"),d=this.getSeriesDomain("y"),h=this.getShapeFillBBox();n.each((f,p)=>{let{xValue:m,yValue:b}=p,v=vl(m,b,r,o,u,d),x=this.getMarkerStyle(s,p,v,i,void 0,{stroke:a,strokeWidth:l,strokeOpacity:c});this.applyMarkerStyle(x,f,p.point,h,{selected:p.selected})}),i||this.properties.marker.markClean(),i||this.properties.marker.markClean()}updateLabelSelection(t){let{labelData:n,labelSelection:i}=t;return i.update(n)}updateLabelNodes(t){let{isHighlight:n=!1}=t,i=this.ctx.highlightManager?.getActiveHighlight();t.labelSelection.each((r,o)=>{let{x:s,y:a,labelText:l}=o,c=n||this.isSeriesHighlighted(i),u=this.getHighlightStateString(i,c,o.datumIndex),d=Ts(this,o,this.properties,this.properties.label,c,u),{enabled:h,fontStyle:f,fontWeight:p,fontSize:m,fontFamily:b,color:v}=d;l&&h&&this.visible?(r.fontStyle=f,r.fontWeight=p,r.fontSize=m,r.fontFamily=b,r.textAlign="center",r.textBaseline="bottom",r.text=l,r.x=s,r.y=a-10,r.fill=v,r.fillOpacity=this.getHighlightStyle(n,o.datumIndex).opacity??1,r.visible=!0,r.setBoxing(d)):r.visible=!1})}getTooltipContent(t){let{id:n,dataModel:i,processedData:r,axes:o,properties:s}=this,{xKey:a,xName:l,yKey:c,yName:u,tooltip:d,marker:h,legendItemName:f}=s,p=o.x,m=o.y;if(!i||!r||!p||!m)return;let b=r.dataSources.get(this.id)?.[t],v=i.resolveKeysById(this,"xValue",r)[t],x=i.resolveColumnById(this,"yValueRaw",r)[t],{xDomain:M,yDomain:D}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));if(v==null)return;let w=this.getMarkerStyle(h,{datum:b,datumIndex:t},vl(v,x,a,c,M,D),!1);return this.formatTooltipWithContext(d,{heading:this.getAxisValueText(p,"tooltip",v,b,a,f),symbol:this.legendItemSymbol(),data:[{label:u,fallbackLabel:c,value:this.getAxisValueText(m,"tooltip",x,b,c,f)}]},g(g({seriesId:n,datum:b,title:u,xKey:a,xName:l,yKey:c,yName:u},w),this.getModuleTooltipParams()))}legendItemSymbol(){let{fill:t,stroke:n,fillOpacity:i,strokeOpacity:r,strokeWidth:o,lineDash:s,marker:a,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:u}=this.properties,d=!a.enabled||a.fill===void 0,h=d?eh(t,l,c,u):eh(a.fill,a.fillGradientDefaults,a.fillPatternDefaults,a.fillImageDefaults),f=this.getMarkerStyle(a,{},void 0,!1,{size:a.size,fill:h,fillOpacity:d?i:a.fillOpacity},void 0,!1);return{marker:I(g({},f),{enabled:a.enabled||o<=0}),line:{stroke:n,strokeOpacity:r,strokeWidth:o,lineDash:s}}}getLegendData(t){if(t!=="category")return[];let{id:n,ctx:{legendManager:i},visible:r}=this,{yKey:o,yName:s,legendItemName:a,showInLegend:l}=this.properties;return[{legendType:t,id:n,itemId:o,seriesId:n,enabled:r&&i.getItemEnabled({seriesId:n,itemId:o}),label:{text:a??s??o},symbol:this.legendItemSymbol(),legendItemName:a,hideInLegend:!l}]}animateEmptyUpdateReady(t){let{datumSelection:n,labelSelection:i,contextData:r,paths:o}=t,{animationManager:s}=this.ctx;this.updateAreaPaths(o,r),PT(this,s,...o),wi([n],mg),RT(this,s,n),wn(this,"labels",s,i)}animateReadyResize(t){let{contextData:n,paths:i}=t;this.updateAreaPaths(i,n),super.animateReadyResize(t)}animateWaitingUpdateReady(t){let{animationManager:n}=this.ctx,{datumSelection:i,labelSelection:r,contextData:o,paths:s,previousContextData:a}=t,[l,c]=s;if(o.visible===!1&&a?.visible===!1||l==null&&c==null)return;this.resetDatumAnimation(t),this.resetLabelAnimation(t);let u=()=>{this.resetPathAnimation(t),this.updateAreaPaths(s,o)},d=()=>{n.skipCurrentBatch(),u()};if(o==null||a==null){u(),gg(this,n,"added",i),zx(this,"fill_path_properties",n,"add",l),zx(this,"stroke_path_properties",n,"add",c),wn(this,"labels",n,r);return}if(o.crossFiltering!==a.crossFiltering){d();return}let h=oB(o,a);if(h===void 0){d();return}else if(h.status==="no-op")return;gg(this,n,void 0,i),Bn(this.id,"fill_path_properties",n,[l],h.fill.pathProperties),jx(this.id,"fill_path_update",n,[l],h.fill.path),Bn(this.id,"stroke_path_properties",n,[c],h.stroke.pathProperties),jx(this.id,"stroke_path_update",n,[c],h.stroke.path),wn(this,"labels",n,r),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(s,o)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Hn}getFormattedMarkerStyle(t){let{xValue:n,yValue:i,xKey:r,yKey:o}=t,s=this.getSeriesDomain("x"),a=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,t,vl(n,i,r,o,s,a),!0)}computeFocusBounds(t){return K0(this,t)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};return e.className="AreaSeries",e.type="area",e})(),WX={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new lB(e),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",fill:{$palette:"fill"},fillGradientDefaults:Mh,fillPatternDefaults:Ia,fillImageDefaults:uu,stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:_l,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Wg,fillPatternDefaults:Ia},label:I(g({},uo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:kl()}}},cB={type:"series",name:"area",chartType:"cartesian",options:Kj,create:e=>new lB(e)},jT=class extends oi{constructor(){super(...arguments),this.direction="x",this.featherRatio=0}get feathered(){return Math.abs(this.featherRatio)>1e-6}isPointInPath(e,t){return this.feathered?this.getBBox().containsPoint(e,t):super.isPointInPath(e,t)}updatePath(){if(!this.feathered){super.updatePath();return}let{path:e,x:t,y:n,width:i,height:r,direction:o,featherRatio:s}=this;if(e.clear(),o==="x"){let a=Math.abs(s)*i;s>0?(e.moveTo(t,n),e.lineTo(t+i-a,n),e.lineTo(t+i,n+r/2),e.lineTo(t+i-a,n+r),e.lineTo(t,n+r),e.closePath()):(e.moveTo(t+a,n),e.lineTo(t+i,n),e.lineTo(t+i,n+r),e.lineTo(t+a,n+r),e.lineTo(t,n+r/2),e.closePath())}else{let a=Math.abs(s)*r;s>0?(e.moveTo(t,n+a),e.lineTo(t+i/2,n),e.lineTo(t+i,n+a),e.lineTo(t+i,n+r),e.lineTo(t,n+r),e.closePath()):(e.moveTo(t,n),e.lineTo(t+i,n),e.lineTo(t+i,n+r-a),e.lineTo(t+i/2,n+r),e.lineTo(t,n+r-a),e.closePath())}}};y([Y()],jT.prototype,"direction",2);y([Y()],jT.prototype,"featherRatio",2);function VT(e,t){for(let n of t){let i=n.datum;i===void 0?P.error("undefined datum"):e.addValue(n,i)}}function Ux(e,t){let{x:n,y:i}=t,{nearest:r,distanceSquared:o}=e.getQuadTree().find(n,i);if(r!==void 0)return{datum:r.value,distance:Math.sqrt(o)}}var BT=class extends jl{constructor(){super(...arguments),this.direction="vertical"}};y([S],BT.prototype,"direction",2);var uB=class extends bu{constructor(){super(...arguments),this.groupScale=new xh,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){let n=typeof t=="boolean"?1:.5,i=nt(this.smallestDataInterval)?this.smallestDataInterval*n:0,r=Ol(e)??[NaN,NaN];return typeof t=="boolean"?r[t?0:1]-=(t?1:-1)*i:(r[0]-=i,r[1]+=i),Hr(r)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){let e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e,t){return Ht.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval,t):e.scale.bandwidth}xCoordinateRange(e){let t=this.axes[this.getCategoryDirection()],n=t.scale,i=this.getBandwidth(t,0)??0,r=Ht.is(n)?i*-.5:0,o=n.convert(e)+r;return[o,o+i]}yCoordinateRange(e){let n=this.axes[this.getBarDirection()].scale,i=e.map(r=>n.convert(r));if(i.length===1){let r=n.convert(0);return[Math.min(i[0],r),Math.max(i[0],r)]}return[Math.min(...i),Math.max(...i)]}updateGroupScale(e){let t=[],{groupScale:n}=this,i=this.getBandwidth(e),{index:r,visibleGroupCount:o}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<o;a++)t.push(String(a));return n.domain=t,n.range=[0,i??0],e instanceof tm?n.paddingInner=e.groupPaddingInner:e instanceof wh?(n.paddingInner=e.groupPaddingInner,n.round=n.padding!==0):n.padding=0,{barWidth:n.bandwidth>=1?n.bandwidth:n.rawBandwidth,groupIndex:r}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){VT(e,this.datumNodesIter())}pickNodesExactShape(e){let t=Ux(this,e);return t!=null&&t.distance<=0?[t.datum]:[]}pickNodeClosestDatum(e){return Ux(this,e)}},YX=tr,ZX=jr,qX=so,KX=ao,QX=As,XX=1e3;function MP(e,t){return Array.from({length:e},(n,i)=>{let r=i*As,o=t[r+tr],s=t[r+jr];return(o+s)/2|0})}function JX(e,t,n,i){if(t.length<XX)return;let[r,o]=pg(e,i),s=_T(t),{indexData:a,valueData:l}=OT(t,n,n,r,o,s),c=MP(s,a),u=[{maxRange:s,indexData:a,indices:c}];for(;s>64;)({indexData:a,valueData:l,maxRange:s}=LT(a,l,s)),c=MP(s,a),u.push({maxRange:s,indexData:a,indices:c});return u.reverse(),u}var zT=class extends yn{constructor(){super(...arguments),this.placement="inside-center",this.spacing=0}};y([S],zT.prototype,"placement",2);y([S],zT.prototype,"spacing",2);var on=class extends BT{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new mo,this.fillPatternDefaults=new rn,this.fillImageDefaults=new xr,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Fs,this.label=new zT,this.tooltip=vu(),this.sparklineMode=!1}getStyle(){let{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:s,cornerRadius:a}=this;return{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:s,cornerRadius:a,opacity:1}}};y([S],on.prototype,"xKey",2);y([S],on.prototype,"xName",2);y([S],on.prototype,"yKey",2);y([S],on.prototype,"yName",2);y([S],on.prototype,"yFilterKey",2);y([S],on.prototype,"stackGroup",2);y([S],on.prototype,"normalizedTo",2);y([S],on.prototype,"fill",2);y([S],on.prototype,"fillGradientDefaults",2);y([S],on.prototype,"fillPatternDefaults",2);y([S],on.prototype,"fillImageDefaults",2);y([S],on.prototype,"fillOpacity",2);y([S],on.prototype,"stroke",2);y([S],on.prototype,"strokeWidth",2);y([S],on.prototype,"strokeOpacity",2);y([S],on.prototype,"lineDash",2);y([S],on.prototype,"lineDashOffset",2);y([S],on.prototype,"cornerRadius",2);y([S],on.prototype,"crisp",2);y([S],on.prototype,"itemStyler",2);y([S],on.prototype,"shadow",2);y([S],on.prototype,"label",2);y([S],on.prototype,"tooltip",2);y([S],on.prototype,"sparklineMode",2);function dB(e,t,n,i){if(t!=null){let[r,o]=t;if(r!==0||o!==1)return!1}if(Ht.is(e)){let r=e.calcBandwidth(i)-e.calcBandwidth(n);if(r>0&&r<1)return!1}if(Ca.is(e)){let{bandwidth:r,step:o}=e;if(r>0&&r<1)return!1;let s=o-r;if(s>0&&s<1)return!1}return!0}var tC=e=>Ad(e.yValue??0);function Gx(e,t,n){let{startingX:i,startingY:r}=t7(e,t);return{isVertical:e,calculate:(s,a)=>{let l=e?s.x:i,c=e?r:s.y,u=e?s.width:0,d=e?0:s.height,{opacity:h=1}=s;a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,u=e?a.width:0,d=e?0:a.height,e&&!tC(a)?c+=a.height:!e&&tC(a)&&(l+=a.width));let f;return s.clipBBox==null?f=void 0:tC(s)?f=e?new re(l,c-d,u,d):new re(l-u,c,u,d):f=new re(l,c,u,d),{x:l,y:c,width:u,height:d,clipBBox:f,opacity:h}},mode:n}}function e7(e,t){return{isVertical:e,calculate:n=>({x:e?n.x:n.x+n.width/2,y:e?n.y+n.height/2:n.y,width:e?n.width:0,height:e?0:n.height,clipBBox:n.clipBBox,opacity:n.opacity??1}),mode:t}}function $x(e){let t=o=>o==null||isNaN(o.x)||isNaN(o.y);return{toFn:(o,s,a)=>a==="removed"&&o.datum==null&&e.mode==="fade"?I(g({},yg(o,s)),{opacity:0}):a==="removed"||t(s)?e.calculate(s,o.previousDatum):{x:s.x,y:s.y,width:s.width,height:s.height,clipBBox:s.clipBBox,opacity:s.opacity??1},fromFn:(o,s,a)=>{a==="updated"&&t(s)?a="removed":a==="updated"&&t(o.previousDatum)&&(a="added");let l;a==="added"&&o.previousDatum==null&&e.mode==="fade"?l=I(g({},yg(o,s)),{opacity:0}):a==="unknown"||a==="added"?l=e.calculate(s,o.previousDatum):l={x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1};let c=Go[a];return I(g({},l),{phase:c})},applyFn:(o,s,a)=>{o.setProperties(s),o.crisp=a==="end"&&(o.datum?.crisp??!1)}}}function t7(e,t){let n=t[e?"y":"x"],i=1/0,r=0;return n?(e?r=n.scale.convert(Ht.is(n.scale)?0:Math.max(...n.range)):i=n.scale.convert(Ht.is(n.scale)?0:Math.min(...n.range)),{startingX:i,startingY:r}):{startingX:i,startingY:r}}function yg(e,{x:t,y:n,width:i,height:r,clipBBox:o,opacity:s=1}){return{x:t,y:n,width:i,height:r,clipBBox:o,opacity:s,crisp:e.datum?.crisp??!1}}function HT(e,t){if(t===void 0)return;let{x:n,y:i,width:r,height:o}=t;return gn.toCanvas(e.contentGroup,new re(n,i,r,o))}function hB(e,t,n,i,r,o){let s=o?.reduced?.diff?.[e];if(s?.changed)return s;let a=n7(i,r);return s==null&&o?.reduced?.diff!=null?(s={changed:!0,added:new Set,updated:new Set,removed:new Set,moved:new Set},a?s.updated=new Set(Array.from(t,({datum:l})=>n(l))):s.added=new Set(Array.from(t,({datum:l})=>n(l)))):a&&(s={changed:!0,added:new Set,updated:new Set(Array.from(t,({datum:l})=>n(l))),removed:new Set,moved:new Set}),s}function DP(e){return typeof e=="object"&&e!==null&&"groupScale"in e}function n7(e,t){if(!t)return!1;let n=e.scales,i=t.scales;if(!Xc(n.x,i.x)||!Xc(n.y,i.y))return!0;if(!DP(e)||!DP(t))return!1;let r=e.groupScale,o=t.groupScale;return!Xc(r,o)}var i7=Dg(JX),UT=(()=>{let e=class extends uB{constructor(t){super({moduleCtx:t,propertyKeys:Rh,propertyNames:Ph,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:yg,label:yu}}),this.properties=new on,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}processData(t){return Fe(this,null,function*(){if(!this.data)return;let{xKey:n,yKey:i,yFilterKey:r,normalizedTo:o}=this.properties,{seriesGrouping:{groupIndex:s=this.id}={},data:a}=this,c=(this.seriesGrouping?.stackCount??0)>1||o!=null,u=c,d=!this.ctx.animationManager.isSkipped(),h=this.getCategoryAxis()?.scale,f=this.getValueAxis()?.scale,{isContinuousX:p,xScaleType:m,yScaleType:b}=this.getScaleInformation({xScale:h,yScale:f}),v=`bar-stack-${s}-yValues`,x=`${v}-trailing`,M=this.visible?{}:{forceValue:0},D=[bl(n,m,{id:"xValue"}),Kt(i,b,g({id:"yValue-raw",invalidValue:null},M))];this.crossFilteringEnabled()&&D.push(Kt(r,b,g({id:"yFilterValue",invalidValue:null},M))),c&&D.push(...xl(i,"normal","current",g({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:v,separateNegative:!0},M),b),...xl(i,"trailing","current",g({id:"yValue-start",invalidValue:null,missingValue:0,groupId:x,separateNegative:!0},M),b)),p&&D.push(kj,Nj),nt(o)&&D.push(H0([v,x],Math.abs(o))),d&&this.processedData&&D.push(em(this.id,this.processedData)),(d||!u)&&D.push(Jg());let{dataModel:w,processedData:E}=yield this.requestDataModel(t,a,{props:D,groupByKeys:u,groupByData:!u});this.dataAggregationFilters=this.aggregateData(w,E),this.smallestDataInterval=E.reduced?.smallestKeyInterval,this.largestDataInterval=E.reduced?.largestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:n,dataModel:i}=this;if(i==null||n==null)return[];if(t===this.getCategoryDirection()){let a=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","key",n);return a?.def.type==="key"&&a.def.valueType==="category"?l:this.padBandExtent(l)}let r=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",o=this.domainForClippedRange(t,[r],"xValue"),s=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",n):void 0;if(s!=null&&(o=[Math.min(o[0],s[0]),Math.max(o[1],s[1])]),this.getValueAxis()instanceof G0)return Hr(o);{let a=Number.isFinite(o[1]-o[0])?[Math.min(0,o[0]),Math.max(0,o[1])]:[];return Hr(a)}}getSeriesRange(t,n){let i=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[r,o]=this.domainForVisibleRange("y",[i],"xValue",n);return[Math.min(r,0),Math.max(o,0)]}getVisibleItems(t,n,i){let r=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[r],t,n,i)}aggregateData(t,n){if(n.type!=="ungrouped"||Ch(n))return;let i=this.axes.x;if(i==null)return;let r=t.resolveKeysById(this,"xValue",n),o=t.resolveColumnById(this,"yValue-raw",n),{index:s}=t.resolveProcessedDataDefById(this,"xValue"),a=n.domain.keys[s];return i7(i.scale.type,r,o,a)}createNodeData(){let{dataModel:t,processedData:n,groupScale:i,dataAggregationFilters:r}=this,o=this.getCategoryAxis(),s=this.getValueAxis();if(!t||!n||!o||!s)return;let a=n.dataSources?.get(this.id);if(a==null)return;let l=o.scale,c=s.scale,{xKey:u,yKey:d,xName:h,yName:f,legendItemName:p,label:m}=this.properties,b=this.getSeriesDomain("y"),v=s.isReversed(),{barWidth:x,groupIndex:M}=this.updateGroupScale(o),D=i.convert(String(M)),w=Ht.is(l)?x*-.5:0,E=t.resolveKeysById(this,"xValue",n),C=t.resolveColumnById(this,"yValue-raw",n),_=this.crossFilteringEnabled()?t.resolveColumnById(this,"yFilterValue",n):void 0,N=!this.ctx.animationManager.isSkipped(),k=be=>l.convert(E[be])+D+w,j=this.properties.crisp??dB(o?.scale,o?.visibleRange,this.smallestDataInterval,this.largestDataInterval),V=c.convert(0),$=({datum:be,datumIndex:xe,xValue:ge,yValue:dt,cumulativeValue:ze,phantom:Pe,currY:Ae,prevY:Me,x:ve,width:pe,isPositive:ke,yRange:Le,labelText:Ut,opacity:xn,featherRatio:cn,crossScale:jt=1})=>{let Wn=ke!==v,we=c.convert(Ae),je=c.convert(Me),Je=c.convert(Le),Qe=this.getBarDirection()==="x",Gt=pe*.5*(1-jt),$t={x:Qe?Math.min(we,je):ve+Gt,y:Qe?ve+Gt:Math.min(we,je),width:Qe?Math.abs(je-we):pe*jt,height:Qe?pe*jt:Math.abs(je-we)},Hi=new re($t.x,$t.y,$t.width,$t.height),$r={x:Qe?Math.min(V,Je):ve+Gt,y:Qe?ve+Gt:Math.min(V,Je),width:Qe?Math.abs(V-Je):pe*jt,height:Qe?pe*jt:Math.abs(V-Je)},Pa=this.shouldFlipXY()?$t.height:$t.width,Ul=m.spacing+(typeof m.padding=="number"?m.padding:0);return{series:this,itemId:Pe?va(d,Pe):d,datum:be,datumIndex:xe,cumulativeValue:ze,phantom:Pe,xValue:ge,yValue:dt,yKey:d,xKey:u,capDefaults:{lengthRatioMultiplier:Pa,lengthMax:Pa},x:$r.x,y:$r.y,width:$r.width,height:$r.height,midPoint:{x:$t.x+$t.width/2,y:$t.y+$t.height/2},opacity:xn,featherRatio:cn,topLeftCornerRadius:Qe!==Wn,topRightCornerRadius:Wn,bottomRightCornerRadius:Qe===Wn,bottomLeftCornerRadius:!Wn,clipBBox:Hi,crisp:j,label:Ut!=null?g({text:Ut},HV({isUpward:Wn,isVertical:!Qe,placement:m.placement,spacing:Ul,rect:$t})):void 0,missing:dt==null,focusable:!Pe}},te=[],Z=[],de=[],Oe=(be,xe,ge,dt,ze,Pe,Ae=0,Me=1)=>{let ve=E[be];if(ve==null)return;let pe=a[be],ke=C[be],Le=_!=null?Number(_[be]):void 0,Ut=ke>=0&&!Object.is(ke,-0);if(!Number.isFinite(ze)||Le!=null&&!Number.isFinite(Le))return;let xn=m.enabled&&ke!=null?this.getLabelText(Le??ke,pe,d,"y",b,m,{datum:pe,value:Le??ke,xKey:u,yKey:d,xName:h,yName:f,legendItemName:p}):void 0,cn=Le!=null&&Le>ke,jt=$({datum:pe,datumIndex:be,xValue:ve,yValue:Le??ke,cumulativeValue:Le??ze,phantom:!1,currY:Le!=null?dt+Le:ze,prevY:dt,x:xe,width:ge,isPositive:Ut,yRange:Math.max(dt+(Le??-1/0),Pe),labelText:xn,opacity:Me,featherRatio:Ae,crossScale:cn?.6:void 0});if(Z.push(jt),de.push(jt),Le!=null){let Wn=$({datum:a[be],datumIndex:be,xValue:ve,yValue:Le,cumulativeValue:Le,phantom:!0,currY:ze,prevY:dt,x:xe,width:ge,isPositive:Ut,yRange:Pe,labelText:void 0,opacity:Me,featherRatio:Ae,crossScale:void 0});te.push(Wn)}},[Ke,vt]=l.range,Mt=Math.abs(vt-Ke),Ye=r?.find(be=>be.maxRange>Mt);if(n.type==="grouped"){let be=x,xe=t.hasColumnById(this,"yValue-start"),ge=xe?t.resolveColumnById(this,"yValue-start",n):void 0,dt=xe?t.resolveColumnById(this,"yValue-end",n):void 0,ze=xe?t.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(let{datumIndex:Pe,group:{aggregation:Ae}}of t.forEachGroupDatum(this,n)){let Me=k(Pe),ve=C[Pe],pe=ve>=0&&!Object.is(ve,-0),ke=xe?Number(ge?.[Pe]):0,Le=xe?Number(dt?.[Pe]):ve,Ut=Le;xe&&(Ut=Ae[ze][pe?1:0]),Oe(Pe,Me,be,ke,Le,Ut)}}else if(Ye==null){let be=n.invalidData?.get(this.id),xe=x,[ge,dt]=this.visibleRangeIndices("xValue",o.range);n.input.count<1e3&&(ge=0,dt=n.input.count);for(let ze=ge;ze<dt;ze+=1){if(be?.[ze]===!0)continue;let Pe=k(ze),Ae=Number(C[ze]);Oe(ze,Pe,xe,0,Ae,Ae)}}else{let{indexData:be,indices:xe}=Ye,[ge,dt]=this.visibleRangeIndices("xValue",o.range,xe),ze=v?-1:1;for(let Pe=ge;Pe<dt;Pe+=1){let Ae=Pe*QX,Me=be[Ae+YX],ve=be[Ae+ZX],pe=be[Ae+qX],ke=be[Ae+KX];if(Me===-1)continue;let Le=k((Me+ve)/2|0),Ut=Math.abs(k(ve)-k(Me))+x,xn=Math.abs(ve-Me),cn=Ca.is(l)?l.bandwidth*Math.max(xn-1,1)/(l.step*xn):1,jt=E[ke]!=null?Number(C[ke]):NaN,Wn=E[pe]!=null?Number(C[pe]):NaN;if(jt>0){let we=Wn>=0?ze*(1-Wn/jt):ze;Oe(ke,Le,Ut,0,jt,jt,we,cn)}if(Wn<0){let we=jt<=0?-ze*(1-jt/Wn):-ze;Oe(pe,Le,Ut,0,Wn,Wn,we,cn)}}}return{itemId:d,nodeData:te.length>0?[...te,...Z]:Z,labelData:de,scales:this.calculateScaling(),visible:this.visible||N,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new jT}getHighlightData(t,n){let i=t.find(r=>r.datum===n.datum&&!r.phantom);return i!=null?[i]:void 0}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,n=>this.getDatumId(n))}getItemStyle(t,n){let{id:i,properties:r}=this,{xKey:o,yKey:s,itemStyler:a,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:u}=r,{xValue:d,yValue:h,datum:f,datumIndex:p}=t,m=this.getHighlightStyle(n,p),b=Ns(Dt(m,r.getStyle()),l,c,u);if(a&&t!=null){let{xDomain:v,yDomain:x}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")})),M=this.cachedDatumCallback(va(this.getDatumId(t),n?"highlight":"node"),()=>{let D=this.ctx.highlightManager?.getActiveHighlight(),w=this.getHighlightStateString(D,n,p);return this.callWithContext(a,g(I(g({seriesId:i},vl(d,h,o,s,v,x)),{datum:f,xValue:d,yValue:h,highlighted:n,highlightState:w}),b))});M&&(b=Ns(Dt(M,b),l,c,u))}return b}updateDatumNodes(t){let{shadow:n}=this.properties,i=this.getCategoryDirection()==="x",r=this.getShapeFillBBox(),o=this.getBarDirection();t.datumSelection.each((s,a)=>{let l=this.getItemStyle(a,t.isHighlight);ya(s,l,r);let c=l.cornerRadius??0;s.topLeftCornerRadius=a.topLeftCornerRadius?c:0,s.topRightCornerRadius=a.topRightCornerRadius?c:0,s.bottomRightCornerRadius=a.bottomRightCornerRadius?c:0,s.bottomLeftCornerRadius=a.bottomLeftCornerRadius?c:0,s.visible=i?(a.clipBBox?.width??a.width)>0:(a.clipBBox?.height??a.height)>0,s.direction=o,s.featherRatio=a.featherRatio,s.crisp=a.crisp,s.fillShadow=n})}updateLabelSelection(t){let n=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(n,i=>{i.pointerEvents=1})}updateLabelNodes(t){let{isHighlight:n=!1}=t,i={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yKey:this.properties.yKey,yName:this.properties.yName??this.properties.yKey,legendItemName:this.properties.legendItemName??this.properties.xName??this.properties.xKey};t.labelSelection.each((r,o)=>{r.fillOpacity=this.getHighlightStyle(n,o?.datumIndex).opacity??1;let s=this.ctx.highlightManager?.getActiveHighlight(),a=this.getHighlightStateString(s,n,o.datumIndex);zV(this,r,i,this.properties.label,o.label,n,a)})}getTooltipContent(t){let{id:n,dataModel:i,processedData:r,properties:o}=this,{xKey:s,xName:a,yKey:l,yName:c,legendItemName:u,stackGroup:d,tooltip:h}=o,f=this.getCategoryAxis(),p=this.getValueAxis(),m=this.contextNodeData?.nodeData?.[t];if(!i||!r||!f||!p||!m)return;let b=r.dataSources.get(this.id)?.[t],v=i.resolveKeysById(this,"xValue",r)[t],x=i.resolveColumnById(this,"yValue-raw",r)[t];if(v==null)return;let M=this.getItemStyle(m,!1);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(f,"tooltip",v,b,s,u),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(p,"tooltip",x,b,l,u)}]},g(g({seriesId:n,datum:b,title:c,xKey:s,xName:a,yKey:l,yName:c,legendItemName:u,stackGroup:d},M),this.getModuleTooltipParams()))}legendItemSymbol(){let{fill:t,stroke:n,strokeWidth:i,fillOpacity:r,strokeOpacity:o,lineDash:s,lineDashOffset:a,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:u}=this.properties;return{marker:Ns({fill:t??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:o,strokeWidth:i,lineDash:s,lineDashOffset:a},l,c,u)}}getLegendData(t){let{showInLegend:n}=this.properties;if(t!=="category")return[];let{id:i,ctx:{legendManager:r},visible:o}=this,{yKey:s,yName:a,legendItemName:l}=this.properties;return[{legendType:"category",id:i,itemId:s,seriesId:i,enabled:o&&r.getItemEnabled({seriesId:i,itemId:s}),label:{text:l??a??s},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!n}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:n,annotationSelections:i}){let r=$x(Gx(this.isVertical(),this.axes,"normal"));Bn(this.id,"nodes",this.ctx.animationManager,[t],r),wn(this,"labels",this.ctx.animationManager,n),wn(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(t){let{datumSelection:n,labelSelection:i,annotationSelections:r,contextData:o,previousContextData:s}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);let a=hB(this.id,n,this.getDatumId.bind(this),t.contextData,s,this.processedData),l=s==null?"fade":"normal",c=$x(Gx(this.isVertical(),this.axes,l));Bn(this.id,"nodes",this.ctx.animationManager,[n],c,(u,d)=>this.getDatumId(d),a),(a?.changed||!Xc(o.groupScale,s?.groupScale))&&(wn(this,"labels",this.ctx.animationManager,i),wn(this,"annotations",this.ctx.animationManager,...r))}getDatumId(t){return va(t.xValue,t.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){let n=this.contextNodeData?.nodeData[t].clipBBox;return HT(this,n)}hasItemStylers(){return this.properties.itemStyler!=null||this.properties.label.itemStyler!=null}};return e.className="BarSeries",e.type="bar",e})(),fB={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new UT(e),stackable:!0,groupable:!0,defaultAxes:lj,themeTemplate:{series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Mh,fillPatternDefaults:Ia,fillImageDefaults:uu,fillOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,label:I(g({},uo),{padding:{$isUserOption:["./spacing",0,8]},enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"chartBackgroundColor"}]},placement:"inside-center"}),shadow:{enabled:!1,color:_l,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}},highlight:kl()}}},pB={type:"series",name:"bar",chartType:"cartesian",options:$0,create:e=>new UT(e)},Kb=3,r7=5;function IP(e,t,n,i,r,o,s,a,l,c,u){let d=0,h=1/0,f=(a+c)/2,p=(l+u)/2;for(let m of s){let b=e[m],v=t[m];if(b==null||v==null)continue;let x=wa(b,n,r),M=wa(v,i,o),D=(x-f)**2+(M-p)**2;D<h&&(h=D,d=m)}return d}function o7(e,t,n,i,r,o,s,a,l,c,u){let d=0;for(let h of s){let f=e[h],p=t[h];if(f==null||p==null)continue;let m=wa(f,n,r),b=wa(p,i,o);m>=a&&m<=c&&b>=l&&b<=u&&(d+=1)}return d}function QC(e,t,n,i,r,o,s,a,l,c,u){if(s.length<r7)return;if(a===c&&l===u){let v=IP(e,t,n,i,r,o,s,a,l,c,u);return{scale:0,x0:a,y0:l,x1:c,y1:u,indices:s,primaryDatumIndex:v,children:null}}let d=[{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]}],h=(a+c)/2,f=(l+u)/2;for(let v of s){let x=e[v],M=t[v];if(x==null||M==null)continue;let D=wa(x,n,r),w=wa(M,i,o),E=(D>h?1:0)+(w>f?2:0),C=d[E];C.indices.push(v),C.x0=Math.min(C.x0,D),C.y0=Math.min(C.y0,w),C.x1=Math.max(C.x1,D),C.y1=Math.max(C.y1,w)}let p=[];for(let v of d){let{indices:x,x0:M,x1:D,y0:w,y1:E}=v,C=QC(e,t,n,i,r,o,x,M,w,D,E);C!=null&&p.push(C)}if(p.length===1)return p[0];p.length===0&&(p=null);let m=Math.hypot(c-a,u-l),b=IP(e,t,n,i,r,o,s,a,l,c,u);return{scale:m,x0:a,y0:l,x1:c,y1:u,indices:s,primaryDatumIndex:b,children:p}}function s7(e,t,n,i,r,o,s,a){let[l,c]=pg(e,o),[u,d]=pg(t,s),[h,f]=a,p=[];if(r!=null&&f>h){let m=Array.from({length:Kb},()=>[]);for(let b=0;b<r.length;b+=1){let M=(r[b]-h)/(f-h)*Kb|0;M>=0&&M<Kb&&m[M].push(b)}for(let b=0;b<m.length;b+=1){let v=m[b],x=QC(n,i,l,u,c,d,v,0,0,1,1);if(x!=null){let M=b/Kb;p.push({sizeRatio:M,node:x})}}}else{let m=n.map((v,x)=>x),b=QC(n,i,l,u,c,d,m,0,0,1,1);b!=null&&p.push({sizeRatio:0,node:b})}return p.length>0?{xValues:n,yValues:i,xd0:l,xd1:c,yd0:u,yd1:d,filters:p}:void 0}function gB(e,t,n,i,r,o){let{xRange:s,yRange:a,xVisibleRange:[l,c],yVisibleRange:[u,d],minSize:h,maxSize:f}=n,{xValues:p,yValues:m,xd0:b,xd1:v,yd0:x,yd1:M}=t,D=1/Math.min(s/(c-l),a/(d-u));for(let{sizeRatio:w,node:E}of t.filters){let C=.5*(h+w*(f-h)),_=C*D,N=e*_,k=l-C/s,j=c+C/s,V=u-C/a,$=d+C/a,te=[E];for(;te.length>0;){let Z=te.pop();if(!(Z.x1<k||Z.x0>j||Z.y1<V||Z.y0>$))if(Z.scale<=N)i!=null&&(i.count+=1),r?.push({datumIndex:Z.primaryDatumIndex,count:Z.indices.length,dilation:se(1,Z.scale/_,e)});else if(Z.children==null){let{indices:de}=Z;if(i!=null){let Ke=Z.x0>=l&&Z.x1<=c&&Z.y0>=u&&Z.y1<=d?de.length:o7(p,m,b,x,v,M,de,l,u,c,d);i.count+=Ke}o?.push(...de)}else te.push(...Z.children)}}}function XC(e,t,n){let i={count:0};return gB(e,t,n,i,void 0,void 0),i.count}var a7=100,l7=12;function c7(e,t,n){let i=1,r=2;for(;XC(r,e,t)>n&&r<a7;)i*=2,r*=2;for(let o=0;o<l7;o+=1){let s=(r+i)/2;XC(s,e,t)>n?i=s:r=s}return i}function u7(e,t,n){let i=[],r=[];return gB(e,t,n,void 0,i,r),{groupedAggregation:i,singleDatumIndices:r}}var GT=class extends pi{constructor(){super(...arguments),this.maxSize=30}};y([S,Y()],GT.prototype,"maxSize",2);y([S,uE()],GT.prototype,"domain",2);var mB=class extends yn{constructor(){super(...arguments),this.placement="top"}};y([S],mB.prototype,"placement",2);var Lt=class extends jl{constructor(){super(...arguments),this.label=new mB,this.tooltip=vu(),this.maxRenderedItems=1/0,this.marker=new GT}};y([S],Lt.prototype,"xKey",2);y([S],Lt.prototype,"yKey",2);y([S],Lt.prototype,"sizeKey",2);y([S],Lt.prototype,"labelKey",2);y([S],Lt.prototype,"xFilterKey",2);y([S],Lt.prototype,"yFilterKey",2);y([S],Lt.prototype,"sizeFilterKey",2);y([S],Lt.prototype,"xName",2);y([S],Lt.prototype,"yName",2);y([S],Lt.prototype,"sizeName",2);y([S],Lt.prototype,"labelName",2);y([S],Lt.prototype,"title",2);y([ri("marker.shape")],Lt.prototype,"shape",2);y([ri("marker.size")],Lt.prototype,"size",2);y([ri("marker.maxSize")],Lt.prototype,"maxSize",2);y([ri("marker.domain")],Lt.prototype,"domain",2);y([ri("marker.fillGradientDefaults")],Lt.prototype,"fillGradientDefaults",2);y([ri("marker.fillPatternDefaults")],Lt.prototype,"fillPatternDefaults",2);y([ri("marker.fillImageDefaults")],Lt.prototype,"fillImageDefaults",2);y([ri("marker.fill")],Lt.prototype,"fill",2);y([ri("marker.fillOpacity")],Lt.prototype,"fillOpacity",2);y([ri("marker.stroke")],Lt.prototype,"stroke",2);y([ri("marker.strokeWidth")],Lt.prototype,"strokeWidth",2);y([ri("marker.strokeOpacity")],Lt.prototype,"strokeOpacity",2);y([ri("marker.lineDash")],Lt.prototype,"lineDash",2);y([ri("marker.lineDashOffset")],Lt.prototype,"lineDashOffset",2);y([ri("marker.itemStyler")],Lt.prototype,"itemStyler",2);y([S],Lt.prototype,"label",2);y([S],Lt.prototype,"tooltip",2);y([S],Lt.prototype,"maxRenderedItems",2);var d7=class extends wT{constructor(e,t,n,i){super(e,t,n,i),this.sizeKey=i.properties.sizeKey}},$T=(()=>{let e=class extends bu{constructor(t){super({moduleCtx:t,propertyKeys:I(g({},Rh),{label:["labelKey"],size:["sizeKey"]}),propertyNames:I(g({},Ph),{label:["labelName"],size:["sizeName"]}),categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationResetFns:{label:yu,datum:q0},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=d7,this.properties=new Lt,this.dataAggregation=void 0,this.sizeScale=new Qc}get pickModeAxis(){return"main-category"}processData(t){return Fe(this,null,function*(){if(this.data==null||!this.visible)return;let n=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:r,yScaleType:o}=this.getScaleInformation({xScale:n,yScale:i}),s=this.sizeScale.type,{xKey:a,yKey:l,sizeKey:c,xFilterKey:u,yFilterKey:d,sizeFilterKey:h,labelKey:f,marker:p}=this.properties,{dataModel:m,processedData:b}=yield this.requestDataModel(t,this.data,{props:[Kt(a,r,{id:"xValue"}),Kt(l,o,{id:"yValue"}),...u!=null?[Kt(u,r,{id:"xFilterValue"})]:[],...d!=null?[Kt(d,o,{id:"yFilterValue"})]:[],...h!=null?[Kt(h,s,{id:"sizeFilterValue"})]:[],...c?[Kt(c,s,{id:"sizeValue"})]:[],...f?[Kt(f,"category",{id:"labelValue"})]:[]]});this.dataAggregation=this.aggregateData(m,b);let v=c?m.resolveProcessedDataIndexById(this,"sizeValue"):void 0,x=p.domain?[p.domain[0],p.domain[1]]:void 0;this.sizeScale.domain=x??(v==null?void 0:b.domain.values[v])??[],this.animationState.transition("updateData")})}xCoordinateRange(t,n,i){let{properties:r,sizeScale:o}=this,{size:s,sizeKey:a}=r,l=this.axes.x.scale.convert(t),c=a!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,d=.5*(c!=null?o.convert(c[i]):s)*n;return[l-d,l+d]}yCoordinateRange(t,n,i){let{properties:r,sizeScale:o}=this,{size:s,sizeKey:a}=r,l=this.axes.y.scale.convert(t[0]),c=a!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,d=.5*(c!=null?o.convert(c[i]):s)*n;return[l-d,l+d]}getSeriesDomain(t){let{dataModel:n,processedData:i}=this;if(!i||!n)return[];let r={x:"xValue",y:"yValue"},o=r[t],s=n.resolveProcessedDataDefById(this,o),a=n.getDomain(this,o,"value",i);if(s?.def.type==="value"&&s?.def.valueType==="category")return a;let c=r[t==="x"?"y":"x"],u=this.domainForClippedRange(t,[o],c);return Hr(Ol(u))}getSeriesRange(t,n){return this.domainForVisibleRange("y",["yValue"],"xValue",n)}getVisibleItems(t,n,i){let{dataAggregation:r,axes:o}=this,s=o.x,a=o.y;if(r==null||s==null||a==null)return this.countVisibleItems("xValue",["yValue"],t,n,i);let l=this.aggregationOptions(s,a,t,n??[0,1]);return XC(0,r,l)}aggregateData(t,n){if(n.type==="grouped"||n.input.count<=this.properties.maxRenderedItems)return;let i=this.axes.x,r=this.axes.y;if(i==null||r==null)return;let o=i.scale,s=r.scale;if(!Ht.is(o)||!Ht.is(s))return;let{sizeScale:a,properties:l}=this,{sizeKey:c}=l,u=t.resolveColumnById(this,"xValue",n),d=t.resolveColumnById(this,"yValue",n),h=c?t.resolveColumnById(this,"sizeValue",n):void 0,f=t.getDomain(this,"xValue","value",n),p=t.getDomain(this,"yValue","value",n),m=c?a.domain:[0,0];return s7(o.type,s.type,u,d,h,f,p,m)}aggregationOptions(t,n,i=t.visibleRange,r=n.visibleRange){let{sizeKey:o,marker:s}=this.properties,a=Math.abs(t.range[1]-t.range[0]),l=Math.abs(n.range[1]-n.range[0]),c=s.size,u=o?s.maxSize:c;return{xRange:a,yRange:l,minSize:c,maxSize:u,xVisibleRange:i,yVisibleRange:r}}createNodeData(){let{axes:t,dataModel:n,processedData:i,sizeScale:r,visible:o}=this,{xKey:s,yKey:a,sizeKey:l,xFilterKey:c,yFilterKey:u,sizeFilterKey:d,labelKey:h,xName:f,yName:p,sizeName:m,labelName:b,label:v,marker:x,maxRenderedItems:M}=this.properties,{enabled:D,placement:w}=v,E=Hn.anchor(x.shape),C=t.x,_=t.y;if(!(n&&i&&o&&C&&_))return;let N=n.resolveColumnById(this,"xValue",i),k=n.resolveColumnById(this,"yValue",i),j=l!=null?n.resolveColumnById(this,"sizeValue",i):void 0,V=h!=null?n.resolveColumnById(this,"labelValue",i):void 0,$=c!=null?n.resolveColumnById(this,"xFilterValue",i):void 0,te=u!=null?n.resolveColumnById(this,"yFilterValue",i):void 0,Z=d!=null?n.resolveColumnById(this,"sizeFilterValue",i):void 0,de;h?de=[]:l?de=n.getDomain(this,"sizeValue","value",i):de=[];let Oe=C.scale,Ke=_.scale,vt=(Oe.bandwidth??0)/2,Mt=(Ke.bandwidth??0)/2,Ye=[];r.range=[x.size,x.maxSize];let be=Al.getMeasurer({font:v}),xe=i.dataSources.get(this.id);if(xe==null)return;let ge=fh(v),dt=(Pe,Ae,Me)=>{let ve=xe[Pe],pe=N[Pe],ke=k[Pe],Le=j?.[Pe],Ut=Oe.convert(pe)+vt,xn=Ke.convert(ke)+Mt,cn;$!=null&&te!=null&&(cn=$[Pe]===pe&&te[Pe]===ke,Z!=null&&cn&&(cn=Z[Pe]===Le));let jt;if(D){let we,je,Je;h&&V?(we=V[Pe],je=h,Je="label"):l?(we=Le,je=l,Je="size"):(we=ke,je=a,Je="y");let Qe=this.getLabelText(we,ve,je,Je,de,v,{value:we,datum:ve,xKey:s,yKey:a,sizeKey:l,labelKey:h,xName:f,yName:p,sizeName:m,labelName:b}),Gt=be.measureText(String(Qe));Gt.width+=ge.left+ge.right,Gt.height+=ge.bottom+ge.top,jt=g({text:Qe},Gt)}else jt={text:"",width:0,height:0};let Wn=Le!=null?r.convert(Le):x.size;Ye.push({series:this,itemId:a,yKey:a,xKey:s,datum:ve,datumIndex:Pe,xValue:pe,yValue:ke,sizeValue:Le,capDefaults:{lengthRatioMultiplier:x.getDiameter(),lengthMax:1/0},point:{x:Ut,y:xn,size:Math.sqrt(Me)*Wn},midPoint:{x:Ut,y:xn},label:jt,anchor:E,placement:w,count:Ae,dilation:Me,selected:cn})},{dataAggregation:ze}=this;if(ze==null)for(let Pe=0;Pe<xe.length;Pe++)dt(Pe,1,1);else{let Pe=this.aggregationOptions(C,_),Ae=c7(ze,Pe,M),{groupedAggregation:Me,singleDatumIndices:ve}=u7(Ae,ze,Pe);for(let{datumIndex:pe,count:ke,dilation:Le}of Me)dt(pe,ke,Le);for(let pe of ve)dt(pe,1,1)}return{itemId:a,nodeData:Ye,labelData:D?Ye:[],scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}updateDatumSelection(t){let{nodeData:n,datumSelection:i}=t,{sizeKey:r}=this.properties;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());let o=this.properties.marker.enabled?n:[],s;return r&&(s=a=>va([a.xValue,a.yValue,a.sizeValue,a.label.text])),i.update(o,void 0,s)}updateDatumNodes(t){let{datumSelection:n,isHighlight:i}=t,{xKey:r,yKey:o,sizeKey:s,labelKey:a,marker:l}=this.properties;this.sizeScale.range=[l.size,l.maxSize];let c=this.getShapeFillBBox(),u=this.dataAggregation!=null,d={xKey:r,yKey:o,sizeKey:s,labelKey:a};n.each((h,f,p)=>{let{count:m,dilation:b}=f,v=this.getMarkerStyle(l,f,d,i);v.fillOpacity=(1-(1-(v.fillOpacity??1))**m)/Math.sqrt(b),this.applyMarkerStyle(v,h,f.point,c,{selected:f.selected}),h.zIndex=u?[-m,p]:0}),i||this.properties.marker.markClean()}updatePlacedLabelData(t){this.labelSelection.update(t.map(n=>I(g({},n.datum),{point:{x:n.x,y:n.y,size:n.datum.point.size}})),n=>{n.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){let{isHighlight:n=!1}=t,i=this.ctx.highlightManager?.getActiveHighlight();t.labelSelection.each((r,o)=>{let s=n||this.isSeriesHighlighted(i),a=this.getHighlightStateString(i,s,o.datumIndex),l=Ts(this,o,this.properties,this.properties.label,s,a);r.text=o.label.text,r.fill=l.color,r.x=o.point?.x??0,r.y=o.point?.y??0,r.fontStyle=l.fontStyle,r.fontWeight=l.fontWeight,r.fontSize=l.fontSize,r.fontFamily=l.fontFamily,r.textAlign="left",r.textBaseline="top",r.fillOpacity=this.getHighlightStyle(n,o.datumIndex).opacity??1,r.setBoxing(l)})}getTooltipContent(t){let{id:n,dataModel:i,processedData:r,axes:o,properties:s,ctx:a}=this,{formatManager:l}=a,{xKey:c,xName:u,yKey:d,yName:h,sizeKey:f,sizeName:p,labelKey:m,labelName:b,title:v,tooltip:x,marker:M,legendItemName:D}=s,w=o.x,E=o.y;if(!i||!r||!w||!E)return;let C=r.dataSources.get(this.id)?.[t],_=i.resolveColumnById(this,"xValue",r)[t],N=i.resolveColumnById(this,"yValue",r)[t],k=this.contextNodeData?.nodeData[t];if(_==null||k==null)return;let j=[];if(this.isLabelEnabled()&&m!=null){let $=i.resolveColumnById(this,"labelValue",r)[t],te=l.format(this.callWithContext.bind(this),{type:"category",value:$,datum:C,seriesId:n,legendItemName:D,key:m,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});j.push({label:b,fallbackLabel:m,value:te??ch($)})}if(j.push({label:u,fallbackLabel:c,value:this.getAxisValueText(w,"tooltip",_,C,c,D)},{label:h,fallbackLabel:d,value:this.getAxisValueText(E,"tooltip",N,C,d,D)}),f!=null){let $=i.resolveColumnById(this,"sizeValue",r)[t],te=i.getDomain(this,"sizeValue","value",r),Z=l.format(this.callWithContext.bind(this),{type:"number",value:$,datum:C,seriesId:n,legendItemName:D,key:f,source:"tooltip",property:"size",boundSeries:this.getFormatterContext("size"),domain:te,fractionDigits:void 0});j.push({label:p,fallbackLabel:f,value:Z??ch($)})}let V=this.getMarkerStyle(M,{datum:C,datumIndex:t},{xKey:c,yKey:d,sizeKey:f,labelKey:m,highlighted:!0},!1);return this.formatTooltipWithContext(x,{title:v,symbol:this.legendItemSymbol(),data:j},g(g({seriesId:n,datum:C,title:d,xKey:c,xName:u,yKey:d,yName:h,sizeKey:f,sizeName:p,labelKey:m,labelName:b},V),this.getModuleTooltipParams()))}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker,{},void 0,!1,void 0,void 0,!1)}}getLegendData(){let{id:t,ctx:{legendManager:n},visible:i}=this,{yKey:r,yName:o,title:s}=this.properties;return[{legendType:"category",id:t,itemId:r,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:r}),label:{text:s??o??r},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:n}){aB(this,this.ctx.animationManager,t),wn(this,"labels",this.ctx.animationManager,n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Hn}getFormattedMarkerStyle(t){let{xKey:n,yKey:i,sizeKey:r,labelKey:o,marker:s}=this.properties;return this.getMarkerStyle(s,t,{xKey:n,yKey:i,sizeKey:r,labelKey:o},!1)}computeFocusBounds(t){return K0(this,t)}hasItemStylers(){let{itemStyler:t,marker:n,label:i}=this.properties;return!!(t??n.itemStyler??i.itemStyler)}};return e.className="BubbleSeries",e.type="bubble",e})(),h7={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new $T(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Wg,fillPatternDefaults:Ia,fillImageDefaults:uu,fillOpacity:.8,maxRenderedItems:1e4,label:I(g({},uo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:kl()}}},yB={type:"series",name:"bubble",chartType:"cartesian",options:K6,create:e=>new $T(e)},bn=class extends jl{constructor(){super(...arguments),this.fillGradientDefaults=new mo,this.fillPatternDefaults=new rn,this.fillImageDefaults=new xr,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Fs,this.label=new yn,this.tooltip=vu()}getStyle(){let{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:s,cornerRadius:a}=this;return{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:s,cornerRadius:a,opacity:1}}};y([S],bn.prototype,"xKey",2);y([S],bn.prototype,"yKey",2);y([S],bn.prototype,"xName",2);y([S],bn.prototype,"yName",2);y([S],bn.prototype,"fill",2);y([S],bn.prototype,"fillGradientDefaults",2);y([S],bn.prototype,"fillPatternDefaults",2);y([S],bn.prototype,"fillImageDefaults",2);y([S],bn.prototype,"fillOpacity",2);y([S],bn.prototype,"stroke",2);y([S],bn.prototype,"strokeWidth",2);y([S],bn.prototype,"strokeOpacity",2);y([S],bn.prototype,"lineDash",2);y([S],bn.prototype,"lineDashOffset",2);y([S],bn.prototype,"cornerRadius",2);y([S],bn.prototype,"areaPlot",2);y([S],bn.prototype,"bins",2);y([S],bn.prototype,"aggregation",2);y([S],bn.prototype,"binCount",2);y([S],bn.prototype,"shadow",2);y([S],bn.prototype,"label",2);y([S],bn.prototype,"tooltip",2);var wP=10,vB=(()=>{let e=class extends bu{constructor(t){super({moduleCtx:t,propertyKeys:Rh,propertyNames:Ph,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!0,animationResetFns:{datum:yg,label:yu}}),this.properties=new bn,this.calculatedBins=[]}deriveBins(t){let n=kg(t[0],t[1],wP).ticks,i=og(t[0],t[1],wP),[r]=n,o=s=>[s,s+i];return[[r-i,r],...n.map(o)]}calculateNiceBins(t,n){let i=Math.floor(t[0]),r=t[1],o=n||1,{start:s,binSize:a}=this.calculateNiceStart(i,r,o);return this.getBins(s,r,a,o)}getBins(t,n,i,r){let o=[],s=this.calculatePrecision(i);for(let a=0;a<r;a++){let l=Math.round((t+a*i)*s)/s,c=Math.round((t+(a+1)*i)*s)/s;a===r-1&&(c=Math.max(c,n)),o[a]=[l,c]}return o}calculatePrecision(t){let n=10;if(isFinite(t)&&t>0)for(;t<1;)n*=10,t*=10;return n}calculateNiceStart(t,n,i){let r=Math.abs(n-t)/i,o=Math.floor(Math.log10(r)),s=Math.pow(10,o);return{start:Math.floor(t/s)*s,binSize:r}}processData(t){return Fe(this,null,function*(){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));let{xKey:n,yKey:i,areaPlot:r,aggregation:o}=this.properties,s=this.axes.x?.scale,a=this.axes.y?.scale,{xScaleType:l,yScaleType:c}=this.getScaleInformation({yScale:a,xScale:s}),u=[bl(n,l),Oj];if(i){let h=BC("groupAgg");o==="count"||(o==="sum"?h=xj("groupAgg"):o==="mean"&&(h=Sj("groupAgg"))),r&&(h=zC("groupAgg",h)),u.push(Kt(i,c,{invalidValue:void 0}),h)}else{u.push(Ej("count"));let h=BC("groupAgg");r&&(h=zC("groupAgg",h)),u.push(h)}let d=h=>{let f=Hr(h.domain.keys[0]);if(f.length===0)return h.domain.groups=[],()=>[];let p=Ic(this.properties.binCount)?this.calculateNiceBins(f,this.properties.binCount):this.properties.bins??this.deriveBins(f),m=p.length;return this.calculatedBins=[...p],b=>{let v=b[0];if(ra(v)&&(v=v.getTime()),!Ic(v))return[];for(let x=0;x<m;x++){let M=p[x];if(v>=M[0]&&v<M[1]||x===m-1&&v<=M[1])return M}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&u.push(em(this.id,this.processedData,!1)),yield this.requestDataModel(t,this.data,{props:u,groupByFn:d}),this.animationState.transition("updateData")})}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(t){let{processedData:n,dataModel:i}=this;if(!n||!i||!this.calculatedBins.length)return[];let r=i.getDomain(this,"groupAgg","aggregate",n),o=this.calculatedBins?.[0][0],s=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return Hr(t==="x"?[o,s]:r)}getSeriesRange(t,[n,i]){let{dataModel:r,processedData:o}=this;if(!r||o?.type!=="grouped")return[NaN,NaN];let s=this.axes.x.scale,a=0,l=-1/0;return o.groups.forEach(({keys:c,aggregation:u})=>{let[[d,h]=[0,0]]=u,[f,p]=c,[m,b]=ii([s.convert(f),s.convert(p)]);if(b>=n&&m<=i){let v=d+h;l=Math.max(l,v)}}),a>l?[NaN,NaN]:[a,l]}frequency(t){return t.datumIndices.reduce((n,i)=>n+i.length,0)}createNodeData(){let{axes:t,processedData:n,dataModel:i}=this,r=t.x,o=t.y;if(!r||!o||!i)return;let{scale:s}=r,{scale:a}=o,{xKey:l,yKey:c,xName:u,yName:d,label:h}=this.properties,f=[],p={itemId:this.properties.yKey??this.id,nodeData:f,labelData:f,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||n==null||n.type!=="grouped"||(n.groups.forEach((m,b)=>{let{keys:v,aggregation:x}=m,[[M,D]=[0,0]]=x,w=this.frequency(m),E=v,[C,_]=E,N=[...i.forEachDatum(this,n,m)],k=s.convert(C),j=s.convert(_),V=M+D,$=a.convert(0),te=a.convert(V),Z=Math.abs(j-k),de=Math.abs(te-$),Oe=Math.min(k,j),Ke=Math.min($,te),vt;h.enabled&&V!==0&&(vt={x:Oe+Z/2,y:Ke+de/2,text:this.getLabelText(V,N,c,"y",[],h,{value:V,datum:N,xKey:l,yKey:c,xName:u,yName:d})});let Mt={x:Oe+Z/2,y:Ke+de/2},Ye=o.isReversed();f.push({series:this,datumIndex:b,datum:N,aggregatedValue:V,frequency:w,domain:E,yKey:c,xKey:l,x:Oe,y:Ke,xValue:k,yValue:te,width:Z,height:de,midPoint:Mt,topLeftCornerRadius:!Ye,topRightCornerRadius:!Ye,bottomRightCornerRadius:Ye,bottomLeftCornerRadius:Ye,label:vt,crisp:!0})}),f.sort((m,b)=>m.x-b.x)),p}nodeFactory(){return new oi}updateDatumSelection(t){let{nodeData:n,datumSelection:i}=t;return i.update(n,void 0,r=>r.domain.join("_"))}getItemStyle(t,n){let{properties:i}=this,r=this.getHighlightStyle(t,n?.datumIndex);return Ns(Dt(r,i.getStyle()),i.fillGradientDefaults,i.fillPatternDefaults,i.fillImageDefaults)}updateDatumNodes(t){let{isHighlight:n}=t,{shadow:i}=this.properties,r=this.getShapeFillBBox();t.datumSelection.each((o,s)=>{let a=this.getItemStyle(n,s),{cornerRadius:l=0}=a,{topLeftCornerRadius:c,topRightCornerRadius:u,bottomRightCornerRadius:d,bottomLeftCornerRadius:h}=s;ya(o,a,r),o.topLeftCornerRadius=c?l:0,o.topRightCornerRadius=u?l:0,o.bottomRightCornerRadius=d?l:0,o.bottomLeftCornerRadius=h?l:0,o.crisp=s.crisp,o.fillShadow=i,o.visible=s.height>0})}updateLabelSelection(t){let{labelData:n,labelSelection:i}=t;return i.update(n,r=>{r.pointerEvents=1,r.textAlign="center",r.textBaseline="middle"})}updateLabelNodes(t){let n=this.isLabelEnabled();t.labelSelection.each((i,r)=>{let o=Ts(this,r,this.properties,this.properties.label),{enabled:s,fontStyle:a,fontWeight:l,fontSize:c,fontFamily:u,color:d}=o;s&&n&&r?.label?(i.text=r.label.text,i.x=r.label.x,i.y=r.label.y,i.fontStyle=a,i.fontWeight=l,i.fontFamily=u,i.fontSize=c,i.fill=d,i.visible=!0,i.fillOpacity=this.getHighlightStyle(!1,r.datumIndex).opacity??1,i.setBoxing(o)):i.visible=!1})}initQuadTree(t){let{value:n}=this.contentGroup.children().next();n instanceof Ve&&VT(t,n.children())}pickNodeClosestDatum(t){return Ux(this,t)}getTooltipContent(t){let{id:n,dataModel:i,processedData:r,axes:o,properties:s,ctx:{localeManager:a}}=this,{xKey:l,xName:c,yKey:u,yName:d,tooltip:h,legendItemName:f}=s,p=o.x,m=o.y;if(!i||r?.type!=="grouped"||!p||!m)return;let b=r.groups[t],{aggregation:v,keys:x}=b,[[M,D]=[0,0]]=v,w=this.frequency(b),E=x,[C,_]=E,N=M+D,k={data:[...i.forEachDatum(this,r,b)],aggregatedValue:N,frequency:w,domain:E},j=[{label:c,fallbackLabel:l,value:`${this.getAxisValueText(p,"tooltip",C,k,l,f)} - ${this.getAxisValueText(p,"tooltip",_,k,l,f)}`},{label:a.t("seriesHistogramTooltipFrequency"),value:this.getAxisValueText(m,"tooltip",w,k,u,f)}];if(u!=null){let V;switch(s.aggregation){case"sum":V=a.t("seriesHistogramTooltipSum",{yName:d??u});break;case"mean":V=a.t("seriesHistogramTooltipMean",{yName:d??u});break;case"count":V=a.t("seriesHistogramTooltipCount",{yName:d??u});break}j.push({label:V,value:this.getAxisValueText(m,"tooltip",N,k,u,f)})}return this.formatTooltipWithContext(h,{symbol:this.legendItemSymbol(),data:j},g({seriesId:n,datum:k,title:d,xKey:l,xName:c,yKey:u,yName:d,xRange:[C,_],frequency:w},this.getItemStyle(!1)))}legendItemSymbol(){let{fill:t,fillOpacity:n,stroke:i,strokeWidth:r,strokeOpacity:o,lineDash:s,lineDashOffset:a,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:u}=this.properties;return{marker:Ns({fill:t??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:n,strokeOpacity:o,strokeWidth:r,lineDash:s,lineDashOffset:a},l,c,u)}}getLegendData(t){if(t!=="category")return[];let{id:n,ctx:{legendManager:i},visible:r}=this,{xKey:o,yName:s,showInLegend:a}=this.properties;return[{legendType:"category",id:n,itemId:o,seriesId:n,enabled:r&&i.getItemEnabled({seriesId:n,itemId:o}),label:{text:s??o??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!a}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:n}){let i=$x(Gx(!0,this.axes,"normal"));Bn(this.id,"datums",this.ctx.animationManager,[t],i),wn(this,"labels",this.ctx.animationManager,n)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetDatumAnimation(t)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){return HT(this,this.contextNodeData?.nodeData[t])}hasItemStylers(){return this.properties.label.itemStyler!=null}};return e.className="HistogramSeries",e.type="histogram",e})(),f7={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new vB(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Mh,fillPatternDefaults:Ia,fillImageDefaults:uu,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:I(g({},uo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}}),shadow:{enabled:!1,color:_l,xOffset:3,yOffset:3,blur:5},highlight:kl()}}},bB={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:Q6,create:e=>new vB(e)},$n=class extends jl{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Fh,this.marker=new pi,this.label=new yn,this.tooltip=vu(),this.connectMissingData=!1,this.sparklineMode=!1}};y([S],$n.prototype,"xKey",2);y([S],$n.prototype,"yKey",2);y([S],$n.prototype,"xName",2);y([S],$n.prototype,"yName",2);y([S],$n.prototype,"yFilterKey",2);y([S],$n.prototype,"stackGroup",2);y([S],$n.prototype,"normalizedTo",2);y([S],$n.prototype,"title",2);y([S],$n.prototype,"stroke",2);y([S],$n.prototype,"strokeWidth",2);y([S],$n.prototype,"strokeOpacity",2);y([S],$n.prototype,"lineDash",2);y([S],$n.prototype,"lineDashOffset",2);y([S],$n.prototype,"interpolation",2);y([S],$n.prototype,"marker",2);y([S],$n.prototype,"label",2);y([S],$n.prototype,"tooltip",2);y([S],$n.prototype,"connectMissingData",2);y([S],$n.prototype,"sparklineMode",2);var p7=.25,g7=Dg(sB),WT=(()=>{let e=class extends bu{constructor(t){super({moduleCtx:t,propertyKeys:Rh,propertyNames:Ph,categoryKey:"xValue",pickModes:[2,1,0],datumSelectionGarbageCollection:!1,animationResetFns:{path:FT({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:yu,datum:(n,i)=>g(g({},q0(n)),mg(n,i))},clipFocusBox:!1}),this.properties=new $n,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}processData(t){return Fe(this,null,function*(){if(this.data==null)return;let{data:n,visible:i,seriesGrouping:{groupIndex:r=this.id,stackCount:o=0}={}}=this,{xKey:s,yKey:a,yFilterKey:l,connectMissingData:c,normalizedTo:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,f=this.axes.y?.scale,{isContinuousX:p,xScaleType:m,yScaleType:b}=this.getScaleInformation({xScale:h,yScale:f}),v=o>1||u!=null,x={invalidValue:null};c&&v&&(x.invalidValue=0),v&&!i&&(x.forceValue=0);let M=[];if((!p||v)&&M.push(bl(s,m,{id:"xKey"})),M.push(Kt(s,m,{id:"xValue"}),Kt(a,b,I(g({id:"yValueRaw"},x),{invalidValue:void 0}))),l!=null&&M.push(Kt(l,b,{id:"yFilterRaw"})),v){let E=[`line-stack-${r}-yValues`,`line-stack-${r}-yValues-trailing`,`line-stack-${r}-yValues-marker`];M.push(...xl(a,"window","current",I(g({id:"yValueEnd"},x),{groupId:E[0]}),b),...xl(a,"window-trailing","current",I(g({id:"yValueStart"},x),{groupId:E[1]}),b),...xl(a,"normal","current",I(g({id:"yValueCumulative"},x),{groupId:E[2]}),b)),Mc(u)&&M.push(H0([E[0],E[1],E[2]],u))}d&&(M.push(Jg(p?["xValue"]:void 0)),this.processedData&&M.push(em(this.id,this.processedData)));let{dataModel:D,processedData:w}=yield this.requestDataModel(t,n,{props:M,groupByKeys:v,groupByData:!v});this.dataAggregationFilters=this.aggregateData(D,w),this.animationState.transition("updateData")})}xCoordinateRange(t,n){let{marker:i}=this.properties,r=this.axes.x.scale.convert(t),o=i.enabled?.5*i.size*n:0;return[r-o,r+o]}yCoordinateRange(t,n){let{marker:i}=this.properties,r=this.axes.y.scale.convert(t[0]),o=i.enabled?.5*i.size*n:0;return[r-o,r+o]}getSeriesDomain(t){let{dataModel:n,processedData:i}=this;if(!n||!i)return[];if(t==="x"){let s=n.resolveProcessedDataDefById(this,"xValue"),a=n.getDomain(this,"xValue","value",i);return s?.def.type==="value"&&s.def.valueType==="category"?a:Hr(Ol(a))}let r=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",o=this.domainForClippedRange("y",[r],"xValue");return Hr(o)}getSeriesRange(t,n){let i=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[i],"xValue",n)}getVisibleItems(t,n,i){let r=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[r],t,n,i)}aggregateData(t,n){if(n.type!=="ungrouped"||Ch(n))return;let i=this.axes.x;if(i==null)return;let{scale:r}=i,o=t.resolveColumnById(this,"xValue",n),s=t.resolveColumnById(this,"yValueRaw",n),a=t.getDomain(this,"xValue","value",n);return g7(r.type,o,s,a)}createNodeData(){let{dataModel:t,processedData:n,axes:i,dataAggregationFilters:r}=this,o=i.x,s=i.y;if(!t||!n||!o||!s)return;let{xKey:a,yKey:l,yFilterKey:c,xName:u,yName:d,marker:h,label:f,connectMissingData:p,interpolation:m,legendItemName:b}=this.properties,v=this.dataModel?.hasColumnById(this,"yValueEnd"),x=o.scale,M=s.scale,D=(x.bandwidth??0)/2,w=(M.bandwidth??0)/2,E=h.enabled?h.size:0,C=n.dataSources.get(this.id)??[],_=t.resolveColumnById(this,"xValue",n),N=t.resolveColumnById(this,"yValueRaw",n),k=v?t.resolveColumnById(this,"yValueEnd",n):void 0,j=v?t.resolveColumnById(this,"yValueCumulative",n):N,V=c!=null?t.resolveColumnById(this,"yFilterRaw",n):void 0,$=this.getSeriesDomain("y"),te={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},Z=[],de=[],Oe=Ae=>{let Me=C[Ae],ve=_[Ae],pe=N[Ae],ke=k?.[Ae],Le=V?.[Ae],Ut=x.convert(ve)+D,xn=M.convert(j[Ae])+w;if(!Number.isFinite(Ut))return;if(pe!=null){let jt=f.enabled?this.getLabelText(pe,Me,l,"y",$,f,{value:pe,datum:Me,xKey:a,yKey:l,xName:u,yName:d,legendItemName:b}):void 0;Z.push({series:this,datum:Me,datumIndex:Ae,yKey:l,xKey:a,point:{x:Ut,y:xn,size:E},midPoint:{x:Ut,y:xn},cumulativeValue:ke,yValue:pe,xValue:ve,capDefaults:te,labelText:jt,selected:Le})}let cn=de[de.length-1];if(pe!=null){let jt={point:{x:Ut,y:xn},xDatum:ve,yDatum:pe};Array.isArray(cn)?cn.push(jt):cn!=null?(cn.skip+=1,de.push([jt])):de.push([jt])}else p||(Array.isArray(cn)||cn==null?de.push({skip:0}):cn.skip+=1)},[Ke,vt]=x.range,Mt=Math.abs(vt-Ke),be=r?.find(Ae=>Ae.maxRange>Mt)?.indices,[xe,ge]=this.visibleRangeIndices("xValue",o.range,be);xe=Math.max(xe-1,0),ge=Math.min(ge+1,be?.length??_.length),n.input.count<1e3&&(xe=0,ge=n.input.count);for(let Ae=xe;Ae<ge;Ae+=1)Oe(be?.[Ae]??Ae);let dt=de.flatMap(Ae=>Array.isArray(Ae)?Bx(Ae,m):[]),ze={itemId:l,spans:dt},Pe=V?.some((Ae,Me)=>Ae===N[Me])??!1;return{itemId:l,nodeData:Z,labelData:Z,strokeData:ze,scales:this.calculateScaling(),visible:this.visible,crossFiltering:Pe}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){let{paths:[n],visible:i,animationEnabled:r}=t,o=this.contextNodeData?.crossFiltering===!0,{strokeWidth:s,stroke:a,strokeOpacity:l,lineDash:c,lineDashOffset:u,opacity:d}=Dt(this.getHighlightStyle(),this.properties);n.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:d,stroke:a,strokeWidth:s,strokeOpacity:l*(o?p7:1),lineDash:c,lineDashOffset:u}),r||(n.visible=i),Hx(this,n)}updateDatumSelection(t){let{nodeData:n}=t,{datumSelection:i}=t;return n=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0?n:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n,void 0,o=>va(o.xValue))}updateDatumNodes(t){let{datumSelection:n,isHighlight:i}=t,{xKey:r,yKey:o,marker:s,stroke:a,strokeWidth:l,strokeOpacity:c}=this.properties,u=this.getSeriesDomain("x"),d=this.getSeriesDomain("y"),h=this.ctx.animationManager.isSkipped(),f=this.getShapeFillBBox();n.each((p,m)=>{let{xValue:b,yValue:v}=m,x=vl(b,v,r,o,u,d),M=this.getMarkerStyle(s,m,x,i,void 0,{stroke:a,strokeWidth:l,strokeOpacity:c});this.applyMarkerStyle(M,p,m.point,f,{applyTranslation:h,selected:m.selected})}),i||s.markClean()}updateLabelSelection(t){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])}updateLabelNodes(t){let{isHighlight:n=!1}=t,i=this.ctx.highlightManager?.getActiveHighlight();t.labelSelection.each((r,o)=>{let s=n||this.isSeriesHighlighted(i),a=this.getHighlightStateString(i,s,o.datumIndex),l=Ts(this,o,this.properties,this.properties.label,s,a),{enabled:c,fontStyle:u,fontWeight:d,fontSize:h,fontFamily:f,color:p}=l;c&&o?.labelText?(r.fontStyle=u,r.fontWeight=d,r.fontSize=h,r.fontFamily=f,r.textAlign="center",r.textBaseline="bottom",r.text=o.labelText,r.x=o.point.x,r.y=o.point.y-10,r.fill=p,r.visible=!0,r.fillOpacity=this.getHighlightStyle(n,o.datumIndex).opacity??1,r.setBoxing(l)):r.visible=!1})}getTooltipContent(t){let{id:n,dataModel:i,processedData:r,axes:o,properties:s}=this,{xKey:a,xName:l,yKey:c,yName:u,tooltip:d,legendItemName:h}=s,f=o.x,p=o.y;if(!i||!r||!f||!p)return;let m=r.dataSources.get(this.id)?.[t],b=i.resolveColumnById(this,"xValue",r)[t],v=i.resolveColumnById(this,"yValueRaw",r)[t];if(b==null)return;let x=this.getSeriesDomain("x"),M=this.getSeriesDomain("y"),D=vl(b,v,a,c,x,M),w=this.getMarkerStyle(this.properties.marker,{datumIndex:t,datum:m},D,!1);return this.formatTooltipWithContext(d,{heading:this.getAxisValueText(f,"tooltip",b,m,a,h),symbol:this.legendItemSymbol(),data:[{label:u,fallbackLabel:c,value:this.getAxisValueText(p,"tooltip",v,m,c,h)}]},g(g({seriesId:n,datum:m,title:u,xKey:a,xName:l,yKey:c,yName:u},w),this.getModuleTooltipParams()))}legendItemSymbol(){let t="rgba(0, 0, 0, 0)",{stroke:n,strokeOpacity:i,strokeWidth:r,lineDash:o,marker:s}=this.properties,a=this.getMarkerStyle(s,{},void 0,!1,{size:s.size,fill:s.fill??t,stroke:s.stroke??n??t},void 0,!1);return{marker:I(g({},a),{enabled:s.enabled}),line:{stroke:n??t,strokeOpacity:i,strokeWidth:r,lineDash:o}}}getLegendData(t){if(t!=="category")return[];let{id:n,ctx:{legendManager:i},visible:r}=this,{yKey:o,yName:s,title:a,legendItemName:l,showInLegend:c}=this.properties;return[{legendType:"category",id:n,itemId:o,legendItemName:l,seriesId:n,enabled:r&&i.getItemEnabled({seriesId:n,itemId:o}),label:{text:l??a??s??o},symbol:this.legendItemSymbol(),hideInLegend:!c}]}updatePaths(t){this.updateLinePaths(t.paths,t.contextData)}updateLinePaths(t,n){let i=n.strokeData.spans,[r]=t;r.path.clear(),ET(r,i),r.markDirty("LineSeries")}animateEmptyUpdateReady(t){let{datumSelection:n,labelSelection:i,annotationSelections:r,contextData:o,paths:s}=t,{animationManager:a}=this.ctx;this.updateLinePaths(s,o),PT(this,a,...s),wi([n],mg),RT(this,a,n),wn(this,"labels",a,i),wn(this,"annotations",a,...r)}animateReadyResize(t){let{contextData:n,paths:i}=t;this.updateLinePaths(i,n),super.animateReadyResize(t)}animateWaitingUpdateReady(t){let{animationManager:n}=this.ctx,{datumSelection:i,labelSelection:r,annotationSelections:o,contextData:s,paths:a,previousContextData:l}=t,[c]=a;if(s.visible===!1&&l?.visible===!1)return;this.resetDatumAnimation(t),this.resetLabelAnimation(t);let u=()=>{this.resetPathAnimation(t),this.updateLinePaths(a,s)},d=()=>{n.skipCurrentBatch(),u()};if(s==null||l==null){u(),gg(this,n,"added",i),zx(this,"path_properties",n,"add",c),wn(this,"labels",n,r),wn(this,"annotations",n,...o);return}if(s.crossFiltering!==l.crossFiltering){d();return}let h=nB(s,l,this.processedData?.reduced?.diff?.[this.id]);if(h===void 0){d();return}else if(h.status==="no-op")return;Bn(this.id,"path_properties",n,[c],h.stroke.pathProperties),h.status==="added"?this.updateLinePaths(a,s):h.status==="removed"?this.updateLinePaths(a,l):jx(this.id,"path_update",n,[c],h.stroke.path),h.hasMotion&&(gg(this,n,void 0,i),wn(this,"labels",n,r),wn(this,"annotations",n,...o))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Hn}getFormattedMarkerStyle(t){let{xKey:n,yKey:i}=this.properties,{xValue:r,yValue:o}=t,s=this.getSeriesDomain("x"),a=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,t,vl(r,o,n,i,s,a),!0)}computeFocusBounds(t){return K0(this,t)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};return e.className="LineSeries",e.type="line",e})(),xB={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new WT(e),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{stroke:k0,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Wg,fillPatternDefaults:Ia,fillImageDefaults:uu},label:I(g({},uo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:kl()}}},SB={type:"series",name:"line",chartType:"cartesian",options:W0,create:e=>new WT(e)},MB=(()=>{let e=class extends $T{};return e.className="ScatterSeries",e.type="scatter",e})(),m7={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new MB(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Wg,fillPatternDefaults:Ia,fillImageDefaults:uu,fillOpacity:.8,maxRenderedItems:1e4,label:I(g({},uo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:kl()}}},DB={type:"series",name:"scatter",chartType:"cartesian",options:X6,create:e=>new MB(e)},IB=class JC{constructor(t,n,i,r){this.startAngle=t,this.endAngle=n,this.innerRadius=i,this.outerRadius=r}clone(){let{startAngle:t,endAngle:n,innerRadius:i,outerRadius:r}=this;return new JC(t,n,i,r)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[Yx](t,n){return new JC(this.startAngle*(1-n)+t.startAngle*n,this.endAngle*(1-n)+t.endAngle*n,this.innerRadius*(1-n)+t.innerRadius*n,this.outerRadius*(1-n)+t.outerRadius*n)}};function wB({startAngle:e,endAngle:t,innerRadius:n,outerRadius:i}){let r=1/0,o=1/0,s=-1/0,a=-1/0,l=(c,u)=>{r=Math.min(c,r),o=Math.min(u,o),s=Math.max(c,s),a=Math.max(u,a)};return l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),l(i*Math.cos(e),i*Math.sin(e)),l(i*Math.cos(t),i*Math.sin(t)),$c(0,e,t)&&l(i,0),$c(Math.PI*.5,e,t)&&l(0,i),$c(Math.PI,e,t)&&l(-i,0),$c(Math.PI*1.5,e,t)&&l(0,-i),new re(r,o,s-r,a-o)}function eE(e,t,n){let i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:r,outerRadius:o}=n;if(n.startAngle===n.endAngle||i<Math.min(r,o)||i>Math.max(r,o))return!1;let s=bx(n.startAngle),a=bx(n.endAngle),l=Math.atan2(t,e);return s<a?l<=a&&l>=s:l<=a&&l>=-Math.PI||l>=s&&l<=Math.PI}function y7(e,t,n,i,r,o,s,a,l,c){if(isNaN(e)||isNaN(t))return 0;o&&([r,i]=[i,r]);let u=(c-a)/(l-s),d=a-u*s,h=Math.pow(u,2)+1,f=2*(u*(d-t)-e),p=Math.pow(e,2)+Math.pow(d-t,2)-Math.pow(n,2),m=Math.pow(f,2)-4*h*p;if(m<0)return 0;let b=(-f+Math.sqrt(m))/2/h,v=(-f-Math.sqrt(m))/2/h,x=0;return[b,v].forEach(M=>{if(!(M>=Math.min(s,l)&&M<=Math.max(s,l)))return;let w=u*M+d,E=M-e,C=w-t,_=Math.atan2(C,E);$c(_,i,r)&&x++}),x}function CP(e,t){let{startAngle:n,endAngle:i,innerRadius:r,outerRadius:o}=t,s={x:o*Math.cos(n),y:o*Math.sin(n)},a={x:o*Math.cos(i),y:o*Math.sin(i)},l=r===0?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)},c=r===0?{x:0,y:0}:{x:r*Math.cos(i),y:r*Math.sin(i)};return zp(e.start.x,e.start.y,e.end.x,e.end.y,s.x,s.y,l.x,l.y)||zp(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)||y7(0,0,o,n,i,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function v7(e,t){let n={x:e.x,y:e.y},i={x:e.x+e.width,y:e.y},r={x:e.x,y:e.y+e.height},o={x:e.x+e.width,y:e.y+e.height};return CP({start:n,end:i},t)||CP({start:r,end:o},t)}function EP(e,t,n,i){if(n===0&&i===0)return 0;if(Math.asin(Math.abs(1*n)/(e+1*n))+Math.asin(Math.abs(1*i)/(e+1*i))-t<0)return 1;let o=0,s=1;for(let a=0;a<8;a+=1){let l=(o+s)/2;Math.asin(Math.abs(l*n)/(e+l*n))+Math.asin(Math.abs(l*i)/(e+l*i))-t<0?o=l:s=l}return o}var b7=1e-6;function Ml(e,t){return Kx(e,t)<b7?t:Nn(e-t)+t}function Qb(e,t,n=0){let r=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Nn(t-e);return e=Ml(e,n),t=e+r,{startAngle:e,endAngle:t}}function Xb(e,t,n,i,r,o){let s=Math.sin(o),a=Math.cos(o),l=e**2+t**2-n**2,c,u,d,h;if(a>.5){let M=s/a,D=1+M**2,w=-2*(e+t*M),E=w**2-4*D*l;if(E<0)return;let C=(-w+Math.sqrt(E))/(2*D),_=(-w-Math.sqrt(E))/(2*D);c=C,u=C*M,d=_,h=_*M}else{let M=a/s,D=1+M**2,w=-2*(t+e*M),E=w**2-4*D*l;if(E<0)return;let C=(-w+Math.sqrt(E))/(2*D),_=(-w-Math.sqrt(E))/(2*D);c=C*M,u=C,d=_*M,h=_}let f=a,p=s,m=c*f+u*p,b=d*f+h*p,v=m>0?Ml(Math.atan2(u-t,c-e),i):NaN,x=b>0?Ml(Math.atan2(h-t,d-e),i):NaN;if(v>=i&&v<=r)return v;if(x>=i&&x<=r)return x}function Jb(e,t,n,i,r,o){let s=Math.hypot(e,t),a=(s**2-n**2+o**2)/(2*s),l=s-a,c=Math.atan2(t,e),u=Math.acos(-l/n),d=Ml(c+u,i),h=Ml(c-u,i);if(d>=i&&d<=r)return d;if(h>=i&&h<=r)return h}var nC=class{constructor(e,t,n,i,r){this.cx=e,this.cy=t,this.r=n,this.a0=i,this.a1=r,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},zi=(()=>{let e=class extends ir{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(t){this.concentricEdgeInset=t,this.radialEdgeInset=t}set cornerRadius(t){this.startOuterCornerRadius=t,this.endOuterCornerRadius=t,this.startInnerCornerRadius=t,this.endInnerCornerRadius=t}computeBBox(){return wB(this).translate(this.centerX,this.centerY)}normalizedRadii(){let{concentricEdgeInset:t}=this,{innerRadius:n,outerRadius:i}=this;return n=n>0?n+t:0,i=Math.max(i-t,0),{innerRadius:n,outerRadius:i}}normalizedClipSector(){let{clipSector:t}=this;if(t==null)return;let{startAngle:n,endAngle:i}=Qb(this.startAngle,this.endAngle),{innerRadius:r,outerRadius:o}=this.normalizedRadii(),s=Qb(t.startAngle,t.endAngle,n);return new IB(Math.max(n,s.startAngle),Math.min(i,s.endAngle),Math.max(r,t.innerRadius),Math.min(o,t.outerRadius))}getAngleOffset(t){return t>0?this.radialEdgeInset/t:0}arc(t,n,i,r,o,s,a,l){if(t<=0)return;let{startAngle:c,endAngle:u}=Qb(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:h}=this.normalizedRadii(),f=this.normalizedClipSector();if(l&&d<=0)return;let p=l?this.getAngleOffset(d+t):this.getAngleOffset(h-t),m=a?c+p+n:u-p-n,b=l?d+t:h-t,v=b*Math.cos(m),x=b*Math.sin(m);if(f!=null&&(!a&&!(m>=c-1e-6&&m<=f.endAngle-1e-6)||a&&!(m>=f.startAngle+1e-6&&m<=u-1e-6)||l&&b<f.innerRadius-1e-6||!l&&b>f.outerRadius+1e-6))return;let M=new nC(v,x,t,i,r);if(f!=null){l?(M.clipStart(Xb(v,x,t,i,r,f.endAngle)),M.clipEnd(Xb(v,x,t,i,r,f.startAngle))):(M.clipStart(Xb(v,x,t,i,r,f.startAngle)),M.clipEnd(Xb(v,x,t,i,r,f.endAngle)));let _,N;if(a?(_=Jb(v,x,t,i,r,f.innerRadius),N=Jb(v,x,t,i,r,f.outerRadius)):(_=Jb(v,x,t,i,r,f.outerRadius),N=Jb(v,x,t,i,r,f.innerRadius)),M.clipStart(_),M.clipEnd(N),_!=null){let{x:k,y:j}=M.pointAt(_),V=Ml(Math.atan2(j,k),c);a?s?.clipStart(V):o.clipEnd(V)}if(N!=null){let{x:k,y:j}=M.pointAt(N),V=Ml(Math.atan2(j,k),c);a?o.clipStart(V):s?.clipEnd(V)}}if(f!=null){let{x:_,y:N}=M.pointAt((M.a0+M.a1)/2);if(!eE(_,N,f))return}let{x:D,y:w}=M.pointAt(a===l?M.a0:M.a1),E=Ml(Math.atan2(w,D),c),C=l?s:o;return a?C?.clipStart(E):C?.clipEnd(E),M}updatePath(){let{path:n,centerX:i,centerY:r,concentricEdgeInset:o,radialEdgeInset:s}=this,{startOuterCornerRadius:a,endOuterCornerRadius:l,startInnerCornerRadius:c,endInnerCornerRadius:u}=this,{startAngle:d,endAngle:h}=Qb(this.startAngle,this.endAngle),{innerRadius:f,outerRadius:p}=this.normalizedRadii(),m=this.normalizedClipSector(),b=h-d,v=b>=2*Math.PI-1e-6;if(n.clear(),f===0&&p===0||f>p)return;if((m?.startAngle??d)===(m?.endAngle??h))return;if(v&&this.clipSector==null&&a===0&&l===0&&c===0&&u===0){n.moveTo(i+p*Math.cos(d),r+p*Math.sin(d)),n.arc(i,r,p,d,h),f>o&&(n.moveTo(i+f*Math.cos(h),r+f*Math.sin(h)),n.arc(i,r,f,h,d,!0)),n.closePath();return}else if(this.clipSector==null&&Math.abs(f-p)<1e-6){n.arc(i,r,p,d,h,!1),n.arc(i,r,p,h,d,!0),n.closePath();return}let x=this.getAngleOffset(f),M=this.getAngleOffset(p);if(b<2*M)return;let w=(m?.innerRadius??f)>o,E=f<o||b<2*x,C=p-f,_=Math.max(a,c,l,u),N=_>0?Math.min(C/_,1):1;a*=N,l*=N,c*=N,u*=N;let k=EP(p,b-2*M,-a,-l);if(a*=k,l*=k,!E&&w){let Me=EP(f,b-2*x,c,u);c*=Me,u*=Me}else c=0,u=0;let j=Math.max(a+c,l+u),V=j>0?Math.min(C/j,1):1;a*=V,l*=V,c*=V,u*=V;let $=0,te=0,Z=a/(p-a),de=l/(p-l);if(Z>=0&&Z<.999999)$=Math.asin(Z);else{$=b/2;let Me=p/(1/Math.sin($)+1);a=Math.min(Me,a)}if(de>=0&&de<.999999)te=Math.asin(de);else{te=b/2;let Me=p/(1/Math.sin(te)+1);l=Math.min(Me,l)}let Oe=Math.asin(c/(f+c)),Ke=Math.asin(u/(f+u)),vt=m?.outerRadius??p,Mt=this.getAngleOffset(vt),Ye=new nC(0,0,vt,d+Mt,h-Mt),be=m?.innerRadius??f,xe=this.getAngleOffset(be),ge=w?new nC(0,0,be,d+xe,h-xe):void 0;m!=null&&(Ye.clipStart(m.startAngle),Ye.clipEnd(m.endAngle),ge?.clipStart(m.startAngle),ge?.clipEnd(m.endAngle));let dt=this.arc(a,$,d-Math.PI*.5,d+$,Ye,ge,!0,!1),ze=this.arc(l,te,h-te,h+Math.PI*.5,Ye,ge,!1,!1),Pe=this.arc(u,Ke,h+Math.PI*.5,h+Math.PI-Ke,Ye,ge,!1,!0),Ae=this.arc(c,Oe,d+Math.PI+Oe,d+Math.PI*1.5,Ye,ge,!0,!0);if(E){let Me=b<Math.PI*.5?s*(1+Math.cos(b))/Math.sin(b):NaN,ve;Me>0&&Me<p?ve=Math.max(Math.hypot(s,Me),f):ve=s,ve=Math.max(ve,f);let pe=d+b*.5;n.moveTo(i+ve*Math.cos(pe),r+ve*Math.sin(pe))}else if(!(Ae?.isValid()===!0||ge?.isValid()===!0)){let Me=d+b/2,ve=f*Math.cos(Me),pe=f*Math.sin(Me);n.moveTo(i+ve,r+pe)}if(dt?.isValid()===!0){let{cx:Me,cy:ve,r:pe,a0:ke,a1:Le}=dt;n.arc(i+Me,r+ve,pe,ke,Le)}if(Ye.isValid()){let{r:Me,a0:ve,a1:pe}=Ye;n.arc(i,r,Me,ve,pe)}if(ze?.isValid()===!0){let{cx:Me,cy:ve,r:pe,a0:ke,a1:Le}=ze;n.arc(i+Me,r+ve,pe,ke,Le)}if(!E){if(Pe?.isValid()===!0){let{cx:Me,cy:ve,r:pe,a0:ke,a1:Le}=Pe;n.arc(i+Me,r+ve,pe,ke,Le)}if(ge?.isValid()===!0){let{r:Me,a0:ve,a1:pe}=ge;n.arc(i,r,Me,pe,ve,!0)}if(Ae?.isValid()===!0){let{cx:Me,cy:ve,r:pe,a0:ke,a1:Le}=Ae;n.arc(i+Me,r+ve,pe,ke,Le)}}n.closePath()}isPointInPath(t,n){let{startAngle:i,endAngle:r,innerRadius:o,outerRadius:s}=this.clipSector??this;return eE(t-this.centerX,n-this.centerY,{startAngle:i,endAngle:r,innerRadius:Math.min(o,s),outerRadius:Math.max(o,s)})}};return e.className="Sector",e})();y([Y()],zi.prototype,"centerX",2);y([Y()],zi.prototype,"centerY",2);y([Y()],zi.prototype,"innerRadius",2);y([Y()],zi.prototype,"outerRadius",2);y([Y()],zi.prototype,"startAngle",2);y([Y()],zi.prototype,"endAngle",2);y([Ur({equals:(e,t)=>e.equals(t)})],zi.prototype,"clipSector",2);y([Y()],zi.prototype,"concentricEdgeInset",2);y([Y()],zi.prototype,"radialEdgeInset",2);y([Y()],zi.prototype,"startOuterCornerRadius",2);y([Y()],zi.prototype,"endOuterCornerRadius",2);y([Y()],zi.prototype,"startInnerCornerRadius",2);y([Y()],zi.prototype,"endInnerCornerRadius",2);var CB=class extends mn{constructor(){super(...arguments),this.showInLegend=!1}};y([S],CB.prototype,"showInLegend",2);var YT=class extends yn{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};y([S],YT.prototype,"text",2);y([S],YT.prototype,"spacing",2);var ZT=class extends Te{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};y([S],ZT.prototype,"fill",2);y([S],ZT.prototype,"fillOpacity",2);var jh=class extends yn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};y([S],jh.prototype,"offset",2);y([S],jh.prototype,"minAngle",2);y([S],jh.prototype,"minSpacing",2);y([S],jh.prototype,"maxCollisionOffset",2);y([S],jh.prototype,"avoidCollisions",2);var qT=class extends yn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};y([S],qT.prototype,"positionOffset",2);y([S],qT.prototype,"positionRatio",2);var Q0=class extends Te{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};y([S],Q0.prototype,"colors",2);y([S],Q0.prototype,"length",2);y([S],Q0.prototype,"strokeWidth",2);var at=class extends yo{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(kn),this.strokes=Object.values(da),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new bg(YT),this.title=new CB,this.innerCircle=new ZT,this.shadow=new Fs,this.calloutLabel=new jh,this.sectorLabel=new qT,this.calloutLine=new Q0,this.tooltip=vu()}};y([S],at.prototype,"angleKey",2);y([S],at.prototype,"angleName",2);y([S],at.prototype,"angleFilterKey",2);y([S],at.prototype,"radiusKey",2);y([S],at.prototype,"radiusName",2);y([S],at.prototype,"radiusMin",2);y([S],at.prototype,"radiusMax",2);y([S],at.prototype,"calloutLabelKey",2);y([S],at.prototype,"calloutLabelName",2);y([S],at.prototype,"sectorLabelKey",2);y([S],at.prototype,"sectorLabelName",2);y([S],at.prototype,"legendItemKey",2);y([S],at.prototype,"defaultColorRange",2);y([S],at.prototype,"defaultPatternFills",2);y([S],at.prototype,"fills",2);y([S],at.prototype,"strokes",2);y([S],at.prototype,"fillOpacity",2);y([S],at.prototype,"strokeOpacity",2);y([S],at.prototype,"lineDash",2);y([S],at.prototype,"lineDashOffset",2);y([S],at.prototype,"cornerRadius",2);y([S],at.prototype,"itemStyler",2);y([S],at.prototype,"rotation",2);y([S],at.prototype,"outerRadiusOffset",2);y([S],at.prototype,"outerRadiusRatio",2);y([S],at.prototype,"innerRadiusOffset",2);y([S],at.prototype,"innerRadiusRatio",2);y([S],at.prototype,"strokeWidth",2);y([S],at.prototype,"sectorSpacing",2);y([S],at.prototype,"hideZeroValueSectorsInLegend",2);y([S],at.prototype,"innerLabels",2);y([S],at.prototype,"title",2);y([S],at.prototype,"innerCircle",2);y([S],at.prototype,"shadow",2);y([S],at.prototype,"calloutLabel",2);y([S],at.prototype,"sectorLabel",2);y([S],at.prototype,"calloutLine",2);y([S],at.prototype,"tooltip",2);function gx(e,t,n,i){let r=[n.convert(0),n.convert(1)],o=[i.convert(0),i.convert(1)],s=Math.PI/-2+Ci(t),a=e?"initial":"update",l=({radius:p})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*p}),c=({radius:p})=>({innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*p});return{nodes:{toFn:(p,m,b,{prevLive:v})=>{let{startAngle:x,endAngle:M,innerRadius:D,outerRadius:w}=m,{stroke:E,fill:C}=m.sectorFormat;if(b==="removed"&&v?(x=v.datum?.endAngle,M=v.datum?.endAngle):b==="removed"&&!v&&(x=s,M=s),b==="removed"){let _=l(m);D=_.innerRadius,w=_.outerRadius}return{startAngle:x,endAngle:M,outerRadius:w,innerRadius:D,stroke:E,fill:C}},fromFn:(p,m,b,{prevFromProps:v})=>{let{startAngle:x,endAngle:M,innerRadius:D,outerRadius:w}=p,{fill:E,stroke:C}=m.sectorFormat;if(b==="updated"&&p.previousDatum==null&&(b="added"),b==="unknown"||b==="added"&&!v?(x=s,M=s,D=m.innerRadius,w=m.outerRadius):b==="added"&&v&&(x=v.endAngle??s,M=v.endAngle??s,D=v.innerRadius??m.innerRadius,w=v.outerRadius??m.outerRadius),b==="added"&&!e){let _=c(m);D=_.innerRadius,w=_.outerRadius}return b==="updated"&&(E=p.fill??E,C=(typeof p.stroke=="string"?p.stroke:void 0)??C),{startAngle:x,endAngle:M,innerRadius:D,outerRadius:w,fill:E,stroke:C,phase:a}}},innerCircle:{fromFn:(p,m)=>({size:p.previousDatum?.radius??p.size??0,phase:a}),toFn:(p,m)=>({size:m.radius??0})}}}function EB(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,stroke:t.sectorFormat.stroke}}function TB(e,t){let n=t.y-e.centerY,i=t.x-e.centerX,r=Math.atan2(n,i),o=e.getItemNodes();for(let s of o)if(s.datum.missing!==!0&&$c(r,s.startAngle,s.endAngle)){let a=Math.sqrt(i*i+n*n),l=0;return a<s.innerRadius?l=s.innerRadius-a:a>s.outerRadius&&(l=a-s.outerRadius),{datum:s.datum,distance:l}}}var AB=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(AB||{}),_B={angle:["angleKey"],radius:["radiusKey"]},kB={angle:["angleName"],radius:["radiusName"]},KT=class extends IT{constructor(o){var s=o,{categoryKey:e,pickModes:t=[1,0],canHaveAxes:n=!1,animationResetFns:i}=s,r=Vt(s,["categoryKey","pickModes","canHaveAxes","animationResetFns"]);super(I(g({},r),{categoryKey:e,pickModes:t,canHaveAxes:n})),this.directions=["angle","radius"],this.itemGroup=this.contentGroup.appendChild(new Ve),this.nodeData=[],this.itemSelection=ji.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=ji.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=ji.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=i,this.animationState=new wg("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setZIndex(e){super.setZIndex(e),this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3]}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){let e=new Vr;return e.pointerEvents=1,e}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}getShapeFillBBox(){let e=this.radius;return{series:new re(-e,-e,e*2,e*2),axis:new re(-e,-e,e*2,e*2)}}resetAllAnimation(){let{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&wi([this.itemSelection,this.highlightSelection],e),t&&wi([this.labelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){let{item:t}=this.animationResetFns??{};t&&wi([this.highlightSelection],t)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){let t=this.getNodeData()?.[e.datumIndex];if(t!==void 0)return this.itemSelection.select(n=>n instanceof ir&&n.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}isSeriesHighlighted(e,t){let{series:n,legendItemName:i,itemId:r}=e??{},o=t?.[r];return n===this||o!=null&&o===i}},x7=class extends x0{constructor(e,t,n,i){super(e,t,n,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},QT=(()=>{let e=class extends KT{constructor(t){super({moduleCtx:t,categoryKey:void 0,propertyKeys:I(g({},_B),{sectorLabel:["sectorLabelKey"],calloutLabel:["calloutLabelKey"]}),propertyNames:I(g({},kB),{sectorLabel:["sectorLabelName"],calloutLabel:["calloutLabelName"]}),pickModes:[1,0],animationResetFns:{item:EB,label:yu}}),this.properties=new at,this.phantomNodeData=void 0,this.backgroundGroup=new Fi({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new Qc,this.radiusScale=new Qc,this.phantomGroup=this.backgroundGroup.appendChild(new Ve({name:"phantom"})),this.phantomSelection=ji.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Ve({name:"pieCalloutLabels"})),this.calloutLabelSelection=new ji(this.calloutLabelGroup,Ve),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Ve({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Hn({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Hn({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new Ve({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Ve({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=ji.select(this.innerLabelsGroup,Vr),this.innerCircleSelection=ji.select(this.innerCircleGroup,()=>new Hn({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=x7,this.angleScale=new Qc,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(n=>n+Math.PI/2),this.phantomGroup.opacity=.2,this.innerLabelsGroup.pointerEvents=1}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(t,n,i){super.attachSeries(t,n,i),t?.appendChild(this.backgroundGroup)}detachSeries(t,n,i){super.detachSeries(t,n,i),t?.removeChild(this.backgroundGroup)}setZIndex(t){super.setZIndex(t),this.backgroundGroup.zIndex=[0,t]}nodeFactory(){let t=new zi;return t.miterLimit=1e9,t}getSeriesDomain(t){return t==="angle"?this.angleScale.domain:this.radiusScale.domain}processData(t){return Fe(this,null,function*(){if(this.data==null)return;let{visible:n,id:i,ctx:{legendManager:r}}=this,{angleKey:o,angleFilterKey:s,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:u}=this.properties,d=()=>(v,x)=>n&&r.getItemEnabled({seriesId:i,itemId:x})?v:0,h=!this.ctx.animationManager.isSkipped(),f=[],p=[];u?f.push(bl(u,"category",{id:"legendItemKey"})):l?f.push(bl(l,"category",{id:"calloutLabelKey"})):c&&f.push(bl(c,"category",{id:"sectorLabelKey"}));let m=this.radiusScale.type,b=this.angleScale.type;a&&p.push(Aj(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,missingValue:this.properties.radiusMax??1,processor:d}),Kt(a,m,{id:"radiusRaw",processor:d}),lx("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),l&&p.push(Kt(l,"category",{id:"calloutLabelValue"})),c&&p.push(Kt(c,"category",{id:"sectorLabelValue"})),u&&p.push(Kt(u,"category",{id:"legendItemValue"})),s&&p.push(HC(s,b,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:d}),Kt(s,b,{id:"angleFilterRaw"}),lx("angleFilterValue",[0,1],0,0)),h&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&f.length>0&&p.push(em(this.id,this.processedData)),p.push(Jg()),yield this.requestDataModel(t,this.data,{props:[...f,HC(o,b,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:d}),Kt(o,b,{id:"angleRaw"}),lx("angleValue",[0,1],0,0),...p]});for(let v of this.processedData?.defs?.values??[]){let{id:x,missing:M,property:D}=v,w=aF(this,M);x!=="angleRaw"&&w>0&&P.warnOnce(`no value was found for the key '${String(D)}' on ${w} data element${w>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;let{nodeData:t=[],phantomNodeData:n}=this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=n,this.nodeDataRefresh=!1}getProcessedDataValues(t,n){let i=t.resolveColumnById(this,"angleValue",n),r=t.resolveColumnById(this,"angleRaw",n),o=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterValue",n):void 0,s=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterRaw",n):void 0,a=this.properties.radiusKey?t.resolveColumnById(this,"radiusValue",n):void 0,l=this.properties.radiusKey?t.resolveColumnById(this,"radiusRaw",n):void 0,c=this.properties.calloutLabelKey?t.resolveColumnById(this,"calloutLabelValue",n):void 0,u=this.properties.sectorLabelKey?t.resolveColumnById(this,"sectorLabelValue",n):void 0,d=this.properties.legendItemKey?t.resolveColumnById(this,"legendItemValue",n):void 0;return{angleValues:i,angleRawValues:r,angleFilterValues:o,angleFilterRawValues:s,radiusValues:a,radiusRawValues:l,calloutLabelValues:c,sectorLabelValues:u,legendItemValues:d}}createNodeData(){let{id:t,processedData:n,dataModel:i,angleScale:r,ctx:{legendManager:o},visible:s}=this,{rotation:a,innerRadiusRatio:l}=this.properties;if(!i||n?.type!=="ungrouped")return;let c=this.getProcessedDataValues(i,n),{angleValues:u,angleRawValues:d,angleFilterValues:h,angleFilterRawValues:f,radiusValues:p,radiusRawValues:m,legendItemValues:b}=c,v=f?.some((_,N)=>_>d[N])??!1,x=0,M=0,D=[],w=f!=null?[]:void 0,E=n.dataSources.get(this.id)??[],C=n.invalidData?.get(this.id);return E.forEach((_,N)=>{if(C?.[N]===!0)return;let k=v?h[N]:u[N],j=f!=null&&!v?Math.sqrt(f[N]/d[N]):1,V=r.convert(x)+Ci(a);x=k,M+=k;let $=r.convert(x)+Ci(a),te=Math.abs($-V),Z=V+te/2,de=d[N],Ke=(p?.[N]??1)*j,vt=m?.[N],Mt=b?.[N],Ye=this.getLabels(N,_,Z,te,c),be=this.getSectorFormat(_,N,!1),xe=g({itemId:N,series:this,datum:_,datumIndex:N,angleValue:de,midAngle:Z,midCos:Math.cos(Z),midSin:Math.sin(Z),startAngle:V,endAngle:$,radius:Ke,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Ke),0),sectorFormat:be,radiusValue:vt,legendItemValue:Mt,enabled:s&&o.getItemEnabled({seriesId:t,itemId:N}),focusable:!0},Ye);D.push(xe),w?.push(I(g({},xe),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1}))}),this.zerosumOuterRing.visible=M===0,this.zerosumInnerRing.visible=M===0&&l!=null&&l!==1&&l>0,{itemId:t,nodeData:D,labelData:D,phantomNodeData:w}}getLabelContent(t,n,i){let{id:r,ctx:o,properties:s}=this,{formatManager:a}=o,{calloutLabel:l,sectorLabel:c,calloutLabelKey:u,sectorLabelKey:d,legendItemKey:h}=s,f=i.calloutLabelValues?.[t],p=i.sectorLabelValues?.[t],m=i.legendItemValues?.[t],b={datum:n,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},v={callout:void 0,sector:void 0,legendItem:void 0};return u&&(v.callout=this.getLabelText(f,n,u,"calloutLabel",[],l,I(g({},b),{value:f}))),d&&(v.sector=this.getLabelText(p,n,d,"sectorLabel",[],c,I(g({},b),{value:p}))),h!=null&&m!=null&&(v.legendItem=a.format(this.callWithContext.bind(this),{type:"category",value:m,datum:n,seriesId:r,legendItemName:void 0,key:h,source:"legend-label",property:"legendItem",domain:[],boundSeries:this.getFormatterContext("legendItem")})??m),v}getLabels(t,n,i,r,o){let{properties:s}=this,{calloutLabel:a,sectorLabel:l,legendItemKey:c}=s,u=this.getLabelContent(t,n,o),d={};return a.enabled&&u.callout&&r>=Ci(a.minAngle)&&(d.calloutLabel=I(g({},this.getTextAlignment(i)),{text:u.callout,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),l.enabled&&u.sector&&(d.sectorLabel={text:u.sector}),c&&u.legendItem&&(d.legendItem={key:c,text:u.legendItem}),d}getTextAlignment(t){let n=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"top"},{textAlign:"right",textBaseline:"middle"}],i=bx(t),r=-.75*Math.PI,o=i-r,s=Math.floor(o/(Math.PI/2)),a=kL(s,n.length);return n[a]}getNodeFill(t,n,i){return eh(t,{type:"gradient",bounds:"series",colorStops:n.map(r=>({color:r})),gradient:"radial",rotation:0,reverse:!0},{type:"pattern",pattern:"forward-slanted-lines",fill:i,fillOpacity:1,backgroundFill:"none",backgroundFillOpacity:1,stroke:i,strokeOpacity:1,strokeWidth:4,rotation:0},{type:"image",backgroundFill:i,backgroundFillOpacity:1,fit:"contain",repeat:"no-repeat",rotation:0})}getFillParams(t,n,i){if(!(!Wo(t)||t.bounds==="item"))return{centerX:0,centerY:0,innerRadius:n,outerRadius:i}}getSectorFormat(t,n,i,r,o,s){let{angleKey:a,radiusKey:l,calloutLabelKey:c,sectorLabelKey:u,legendItemKey:d,fills:h,strokes:f,defaultColorRange:p,defaultPatternFills:m,itemStyler:b}=this.properties,v=f[n%f.length],x=h[n%h.length],{fill:M,fillOpacity:D,stroke:w,strokeWidth:E,strokeOpacity:C,lineDash:_,lineDashOffset:N,cornerRadius:k,opacity:j}=Dt(this.getHighlightStyle(i,r?.datumIndex,o),{fill:x,stroke:v},this.properties),V=p[n%p.length],$=m[n%m.length],te=M??"black",Z;return b&&(Z=this.cachedDatumCallback(this.getDatumId(n)+(i?"-highlight":"-hide"),()=>this.callWithContext(b,{datum:t,angleKey:a,radiusKey:l,calloutLabelKey:c,sectorLabelKey:u,legendItemKey:d,fill:this.getNodeFill(te,V,$),fillOpacity:D,stroke:w,strokeWidth:E,strokeOpacity:C,lineDash:_,lineDashOffset:N,cornerRadius:k,highlighted:i,highlightState:this.getHighlightStateString(s??this.ctx.highlightManager?.getActiveHighlight(),i,n),seriesId:this.id}))),{fill:this.getNodeFill(Z?.fill??te,V,$),fillOpacity:Z?.fillOpacity??D,stroke:Z?.stroke??w,strokeWidth:Z?.strokeWidth??E,strokeOpacity:Z?.strokeOpacity??C,lineDash:Z?.lineDash??_,lineDashOffset:Z?.lineDashOffset??N,cornerRadius:Z?.cornerRadius??k,opacity:j}}getInnerRadius(){let{radius:t}=this,{innerRadiusRatio:n=1,innerRadiusOffset:i=0}=this.properties,r=t*n+i;return r===t||r<0?0:r}getOuterRadius(){let{outerRadiusRatio:t,outerRadiusOffset:n}=this.properties;return Math.max(this.radius*t+n,0)}updateRadiusScale(t){let n=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=n,t&&(this.previousRadiusScale.range=n);let i=r=>I(g({},r),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(r.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){let t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;let i=2+(this.properties.title?.spacing??0),r=Math.max(0,-t);return-t-i-r}update({seriesRect:t}){let{title:n}=this.properties,i={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=Da(this.nodeDataDependencies,i)!=null;if(r&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){let o=this.getTitleTranslationY();n.node.y=isFinite(o)?o:0;let s=n.node.getBBox(!1);n.node.visible=n.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(s)}for(let o of[this.zerosumInnerRing,this.zerosumOuterRing])o.fillOpacity=0,o.stroke=this.properties.calloutLabel.color,o.strokeWidth=1,o.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){let{oldTitle:t}=this,{title:n}=this.properties;t!==n&&(t&&this.labelGroup?.removeChild(t.node),n&&(n.node.textBaseline="bottom",this.labelGroup?.appendChild(n.node)),this.oldTitle=n)}updateNodeMidPoint(){let t=n=>{let i=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,i),y:n.midSin*Math.max(0,i)}};this.nodeData.forEach(t),this.phantomNodeData?.forEach(t)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){let{itemSelection:t,highlightSelection:n,phantomSelection:i,calloutLabelSelection:r,labelSelection:o,innerLabelsSelection:s}=this,a=this.nodeData.map(c=>I(g({},c),{sectorFormat:g({},c.sectorFormat)})),l=(c,u)=>{c.update(u,void 0,d=>this.getDatumId(d.datumIndex)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(t,this.nodeData),l(n,a),l(i,this.phantomNodeData??[]),r.update(this.calloutNodeData,c=>{let u=new co;u.tag=0,u.pointerEvents=1,c.appendChild(u);let d=new Vr;d.tag=1,d.pointerEvents=1,c.appendChild(d)}),o.update(this.nodeData),s.update(this.properties.innerLabels,c=>{c.pointerEvents=1})}updateInnerCircleSelection(){let{innerCircle:t}=this.properties,n=0,i=this.getInnerRadius();if(i>0){let o=Math.min(i,this.getOuterRadius());n=Math.ceil(o*2+1)}let r=t?[{radius:n}]:[];this.innerCircleSelection.update(r)}updateNodes(t){let n=this.ctx.highlightManager.getActiveHighlight(),{visible:i,dataModel:r,processedData:o}=this;if(this.backgroundGroup.visible=i,this.contentGroup.visible=i,!r||!o)return;let{legendItemValues:s}=this.getProcessedDataValues(r,o),a=this.isSeriesHighlighted(n,s);this.highlightGroup.visible=i&&a,this.labelGroup.visible=i,this.innerCircleSelection.each((f,{radius:p})=>{f.setProperties({fill:this.getNodeFill(this.properties.innerCircle?.fill,["black"],"black"),opacity:this.properties.innerCircle?.fillOpacity,size:p})});let l=this.radiusScale.range[0],c=this.radiusScale.range[1],u=this.getShapeFillBBox(),d=this.ctx.animationManager.isSkipped(),h=(f,p,m,b)=>{let v=this.getSectorFormat(p.datum,p.itemId,b,p,s,n);p.sectorFormat.fill=v.fill,p.sectorFormat.stroke=v.stroke,d&&(f.startAngle=p.startAngle,f.endAngle=p.endAngle,f.innerRadius=p.innerRadius,f.outerRadius=p.outerRadius),(b||d)&&(f.fill=v.fill,f.stroke=v.stroke);let x=this.getFillParams(v.fill,l,c);ya(f,v,u,x),f.cornerRadius=v.cornerRadius,f.fillShadow=this.properties.shadow;let M=Math.max((this.properties.sectorSpacing+(v.stroke!=null?v.strokeWidth:0))/2,0);f.inset=M,f.lineJoin=this.properties.sectorSpacing>=0||M>0?"miter":"round"};this.itemSelection.each((f,p,m)=>h(f,p,m,!1)),this.highlightSelection.each((f,p,m)=>{h(f,p,m,!0),f.visible=p.itemId===n?.itemId}),this.phantomSelection.each((f,p,m)=>h(f,p,m,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){let{calloutLine:{length:t,strokeWidth:n,colors:i},strokes:r}=this.properties,o=n,s=P8(i)?i??this.properties.strokes:r,{offset:a}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(l=>{let c=l.closestDatum(),{calloutLabel:u,outerRadius:d,datumIndex:h}=c;if(u?.text&&!u.hidden&&d!==0){l.visible=!0,l.strokeWidth=o,l.stroke=s[h%s.length],l.strokeOpacity=this.getHighlightStyle(!1,c.datumIndex).opacity??1,l.fill=void 0;let f=c.midCos*d,p=c.midSin*d,m=c.midCos*(d+t),b=c.midSin*(d+t);if((u.collisionTextAlign??u.collisionOffsetY!==0)&&u.box!=null){let x=u.box,M=m,D=b;m<x.x?M=x.x:m>x.x+x.width&&(M=x.x+x.width),b<x.y?D=x.y:b>x.y+x.height&&(D=x.y+x.height);let w=M-m,E=D-b,C=Math.sqrt(Math.pow(w,2)+Math.pow(E,2)),_=C-a;_>0&&(m=m+w*_/C,b=b+E*_/C)}l.x1=f,l.y1=p,l.x2=m,l.y2=b}else l.visible=!1})}getLabelOverflow(t,n,i){let r=-this.centerX,o=r+i.width,s=-this.centerY,a=s+i.height,l=1,c=1;n.x+l<r?c=(n.x+n.width-r)/n.width:n.x+n.width-l>o&&(c=(o-n.x)/n.width);let u=n.y+l<s||n.y+n.height-l>a,d=c===1?t.length:Math.floor(t.length*c)-1,h=this.bboxIntersectsSurroundingSeries(n);return{textLength:d,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(t){let{surroundingRadius:n}=this;if(n==null)return!1;let i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],r=n**2;return i.some(o=>o.x**2+o.y**2>r)}computeCalloutLabelCollisionOffsets(){let{radiusScale:t}=this,{calloutLabel:n,calloutLine:i}=this.properties,{offset:r,minSpacing:o}=n,s=t.convert(0),a=M=>!M.calloutLabel||M.outerRadius===0,l=this.calloutNodeData,c=l.filter(M=>!a(M));if(c.forEach(M=>{let D=M.calloutLabel;D!=null&&(D.hidden=!1,D.collisionTextAlign=void 0,D.collisionOffsetY=0)}),c.length<=1)return;let u=c.filter(M=>M.midCos<0).sort((M,D)=>M.midSin-D.midSin),d=c.filter(M=>M.midCos>=0).sort((M,D)=>M.midSin-D.midSin),h=c.filter(M=>M.midSin<0&&M.calloutLabel?.textAlign==="center").sort((M,D)=>M.midCos-D.midCos),f=c.filter(M=>M.midSin>=0&&M.calloutLabel?.textAlign==="center").sort((M,D)=>M.midCos-D.midCos),p={angleKey:this.properties.angleKey},m=M=>{let D=M.calloutLabel;if(D==null)return re.zero.clone();let w=Ts(this,M,p,n),E=fh(w),C=M.outerRadius+i.length+r,_=M.midCos*C,N=M.midSin*C+D.collisionOffsetY,k=D.collisionTextAlign??D.textAlign,j=D.textBaseline;return Vr.computeBBox(D.text,_,N,{font:this.properties.calloutLabel,textAlign:k,textBaseline:j},!1).grow(E)},b=(M,D,w)=>{let E=m(M).grow(o/2),C=m(D).grow(o/2);E.x<C.x+C.width&&E.x+E.width>C.x&&(w==="to-top"?E.y<C.y+C.height:E.y+E.height>C.y)&&(D.calloutLabel.collisionOffsetY=w==="to-top"?E.y-C.y-C.height:E.y+E.height-C.y)},v=M=>{let D=M.slice().sort((E,C)=>Math.abs(E.midSin)-Math.abs(C.midSin))[0],w=M.indexOf(D);for(let E=w-1;E>=0;E--){let C=M[E+1],_=M[E];b(C,_,"to-top")}for(let E=w+1;E<M.length;E++){let C=M[E-1],_=M[E];b(C,_,"to-bottom")}},x=M=>{let D=c.some(k=>k.calloutLabel.collisionOffsetY!==0),w=M.map(k=>m(k)),E=w.map(k=>k.clone().grow(o/2)),C=!1;for(let k=0;k<E.length&&!C;k++){let j=E[k];for(let V=k+1;V<M.length;V++){let $=E[V];if(j.collidesBBox($)){C=!0;break}}}let _=l.map(k=>{let{startAngle:j,endAngle:V,outerRadius:$}=k;return{startAngle:j,endAngle:V,innerRadius:s,outerRadius:$}}),N=w.some(k=>_.some(j=>v7(k,j)));!C&&!D&&!N||M.filter(k=>k.calloutLabel.textAlign==="center").forEach(k=>{let j=k.calloutLabel;k.midCos<0?j.collisionTextAlign="right":k.midCos>0?j.collisionTextAlign="left":j.collisionTextAlign="center"})};v(u),v(d),x(h),x(f)}updateCalloutLabelNodes(t){let{radiusScale:n}=this,{calloutLabel:i,calloutLine:r}=this.properties,o=new Vr;this.calloutLabelSelection.selectByTag(1).forEach(s=>{let a=s.closestDatum(),l=a.calloutLabel,c=n.convert(a.radius),u=Math.max(0,c);if(!l?.text||u===0||l.hidden){s.visible=!1;return}let d=this.ctx.highlightManager?.getActiveHighlight(),h=!1,f=this.getHighlightStateString(d,h,a.datumIndex),p=Ts(this,a,this.properties,i,h,f),m=u+r.length+i.offset,b=a.midCos*m,v=a.midSin*m+l.collisionOffsetY,x={textAlign:l.collisionTextAlign??l.textAlign,textBaseline:l.textBaseline};o.text=l.text,o.x=b,o.y=v,o.setFont(p),o.setAlign(x),o.setBoxing(p);let M=o.getBBox(!1),D=l.text,w=!0;if(i.avoidCollisions){let{textLength:E,hasVerticalOverflow:C}=this.getLabelOverflow(l.text,M,t);D=l.text.length===E?l.text:`${l.text.substring(0,E)}\u2026`,w=!C}s.text=D,s.x=b,s.y=v,s.setFont(p),s.setAlign(x),s.setBoxing(p),s.fill=p.color,s.fillOpacity=this.getHighlightStyle(!1,a.datumIndex).opacity??1,s.visible=w})}computeLabelsBBox(t,n){let{calloutLabel:i,calloutLine:r}=this.properties,o=r.length,{offset:s,maxCollisionOffset:a,minSpacing:l}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let c=[],u=new Vr,d,{title:h}=this.properties;if(h?.text&&h.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(u.text=h.text,u.x=0,u.y=p,u.setFont(h),u.setAlign({textBaseline:"bottom",textAlign:"center"}),d=u.getBBox(!1),c.push(d))}let f={angleKey:this.properties.angleKey};return this.calloutNodeData.forEach(p=>{let m=p.calloutLabel;if(!m||p.outerRadius===0)return null;let b=Ts(this,p,f,i),v=p.outerRadius+o+s,x=p.midCos*v,M=p.midSin*v+m.collisionOffsetY;u.text=m.text,u.x=x,u.y=M,u.setFont(b),u.setAlign({textAlign:m.collisionTextAlign??m.textAlign,textBaseline:m.textBaseline}),u.setBoxing(b);let D=u.getBBox(!1);if(m.box=D,Math.abs(m.collisionOffsetY)>a){m.hidden=!0;return}if(d){let w=-this.centerY,E=new re(d.x-l,w,d.width+2*l,d.y+d.height+l-w);if(D.collidesBBox(E)){m.hidden=!0;return}}if(t.hideWhenNecessary){let{textLength:w,hasVerticalOverflow:E,hasSurroundingSeriesOverflow:C}=this.getLabelOverflow(m.text,D,n),_=m.text.length>2&&w<2;if(E||_||C){m.hidden=!0;return}}m.hidden=!1,c.push(D)}),c.length===0?null:re.merge(c)}updateSectorLabelNodes(){let{properties:t}=this,{positionOffset:n,positionRatio:i}=this.properties.sectorLabel,r=this.radiusScale.convert(0),o=r<=0&&this.ctx.legendManager.getData(this.id)?.filter(l=>l.enabled).length===1,s={textAlign:"center",textBaseline:"middle"},a=(l,c)=>{let{outerRadius:u,startAngle:d,endAngle:h}=c,f=!1;if(c.sectorLabel&&u!==0){let p=this.ctx.highlightManager?.getActiveHighlight(),m=!1,b=this.getHighlightStateString(p,m,c.datumIndex),v=Ts(this,c,t,t.sectorLabel,m,b),x=r*(1-i)+u*i+n;l.fill=v.color,l.fillOpacity=this.getHighlightStyle(!1,c.datumIndex).opacity??1,l.text=c.sectorLabel.text,o?(l.x=0,l.y=0):(l.x=c.midCos*x,l.y=c.midSin*x),l.setFont(v),l.setAlign(s),l.setBoxing(v);let M=l.getBBox(!1),D=[[M.x,M.y],[M.x+M.width,M.y],[M.x+M.width,M.y+M.height],[M.x,M.y+M.height]],w={startAngle:d,endAngle:h,innerRadius:r,outerRadius:u};D.every(([E,C])=>eE(E,C,w))&&(f=!0)}l.visible=f};this.labelSelection.each(a)}updateInnerLabelNodes(){let t=[],n=[];this.innerLabelsSelection.each((d,h)=>{let{fontStyle:f,fontWeight:p,fontSize:m,fontFamily:b,color:v}=h;d.fontStyle=f,d.fontWeight=p,d.fontSize=m,d.fontFamily=b,d.text=h.text,d.x=0,d.y=0,d.fill=v,d.textAlign="center",d.textBaseline="alphabetic",t.push(d.getBBox()),n.push(h.spacing)});let i=d=>d===0?0:n[d],r=d=>d===n.length-1?0:n[d],o=t.reduce((d,h)=>d<h.width?h.width:d,0),s=t.reduce((d,h,f)=>d+h.height+i(f)+r(f),0),a=this.getInnerRadius(),c=Math.sqrt(Math.pow(o/2,2)+Math.pow(s/2,2))<=(a>0?a:this.getOuterRadius()),u=[];for(let d=0,h=-s/2;d<t.length;d++){let p=t[d].height+h+i(d);u.push(p),h=p+r(d)}this.innerLabelsSelection.each((d,h,f)=>{d.visible=c,Array.isArray(d.text)?d.y=u[f]-t[f].height:d.y=u[f]})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(t){return TB(this,t)}getTooltipContent(t){let{id:n,dataModel:i,processedData:r,properties:o,ctx:{formatManager:s}}=this,{legendItemKey:a,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:u,sectorLabelName:d,angleKey:h,angleName:f,radiusKey:p,radiusName:m,tooltip:b}=o,v=this.properties.title.node.getPlainText();if(!i||!r)return;let x=r.dataSources.get(this.id)?.[t],M=this.getProcessedDataValues(i,r),{angleRawValues:D}=M,w=D[t],E=this.getLabelContent(t,x,M),C=E.legendItem??E.callout??E.sector??f,_=i.getDomain(this,"angleRaw","value",r),N=s.format(this.callWithContext.bind(this),{type:"number",value:w,datum:x,seriesId:n,legendItemName:void 0,key:h,source:"tooltip",property:"angle",domain:_,boundSeries:this.getFormatterContext("angle"),fractionDigits:void 0})??ch(w,3);return this.formatTooltipWithContext(b,{title:v,symbol:this.legendItemSymbol(t),data:[{label:C,fallbackLabel:h,value:N}]},g({seriesId:n,datum:x,title:f,legendItemKey:a,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:u,sectorLabelName:d,angleKey:h,angleName:f,radiusKey:p,radiusName:m},this.getSectorFormat(x,t,!1)))}legendItemSymbol(t){let n=this.processedData?.dataSources.get(this.id)?.[t],i=this.getSectorFormat(n,t,!1),{fillOpacity:r,strokeOpacity:o,strokeWidth:s,lineDash:a,lineDashOffset:l}=this.properties,{fill:c}=i,{stroke:u}=i;return Wo(c)&&(c=I(g({},c),{gradient:"linear",rotation:0,reverse:!1})),{marker:{fill:c,stroke:u,fillOpacity:r,strokeOpacity:o,strokeWidth:s,lineDash:a,lineDashOffset:l}}}getLegendData(t){let{visible:n,processedData:i,dataModel:r,id:o,ctx:{legendManager:s}}=this;if(!r||!i||t!=="category")return[];let{angleKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:u,showInLegend:d}=this.properties;if(!u&&(!l||l===a)&&(!c||c===a))return[];let h=this.getProcessedDataValues(r,i),{angleRawValues:f}=h,p=this.properties.title?.showInLegend&&this.properties.title.text,m=[],b=this.properties.hideZeroValueSectorsInLegend,v=i.dataSources.get(this.id),x=i.invalidData?.get(this.id);for(let M=0;M<i.input.count;M++){let D=v?.[M],w=f[M];if(x?.[M]===!0||b&&w===0)continue;let E=[];p&&E.push(p);let C=this.getLabelContent(M,D,h);u&&C.legendItem!==void 0?E.push(C.legendItem):l&&l!==a&&C.callout!==void 0?E.push(C.callout):c&&c!==a&&C.sector!==void 0&&E.push(C.sector),E.length!==0&&m.push({legendType:"category",id:o,datum:D,itemId:M,seriesId:o,hideToggleOtherSeries:!0,enabled:n&&s.getItemEnabled({seriesId:o,itemId:M}),label:{text:E.join(" - ")},symbol:this.legendItemSymbol(M),legendItemName:u!=null?D[u]:void 0,hideInLegend:!d})}return m}setLegendState(t){let{id:n,ctx:{legendManager:i,updateService:r}}=this;t.forEach((o,s)=>i.toggleItem(o,n,s)),i.update(),r.update(5)}animateEmptyUpdateReady(t){let{animationManager:n}=this.ctx,i=gx(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Bn(this.id,"nodes",n,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(r,o)=>this.getDatumId(o.datumIndex)),Bn(this.id,"innerCircle",n,[this.innerCircleSelection],i.innerCircle),wn(this,"callout",n,this.calloutLabelSelection),wn(this,"sector",n,this.labelSelection),wn(this,"inner",n,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:t,highlightSelection:n,phantomSelection:i,processedData:r,radiusScale:o,previousRadiusScale:s}=this,{animationManager:a}=this.ctx,l=r?.reduced?.diff?.[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(l?.moved.size??0)===0,u=(r?.defs.keys.length??0)>0,d=r?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!u||!d)&&this.ctx.animationManager.skipCurrentBatch();let h=!this.nodeData.some(p=>p.enabled),f=gx(!1,this.properties.rotation,o,s);Bn(this.id,"nodes",a,[t,n,i],f.nodes,(p,m)=>this.getDatumId(m.datumIndex),l),Bn(this.id,"innerCircle",a,[this.innerCircleSelection],f.innerCircle),wn(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),wn(this,"sector",this.ctx.animationManager,this.labelSelection),this.noVisibleData!==h&&(this.noVisibleData=h,wn(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:t,highlightSelection:n,phantomSelection:i,radiusScale:r,previousRadiusScale:o}=this,{animationManager:s}=this.ctx,a=gx(!1,this.properties.rotation,r,o);Bn(this.id,"nodes",s,[t,n,i],a.nodes,(l,c)=>this.getDatumId(c.datumIndex)),Bn(this.id,"innerCircle",s,[this.innerCircleSelection],a.innerCircle),hx(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),hx(this,"sector",this.ctx.animationManager,this.labelSelection),hx(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(t){return`${t}`}hasItemStylers(){let{itemStyler:t,calloutLabel:n,sectorLabel:i}=this.properties;return(t??n.itemStyler??i.itemStyler)!=null}};return e.className="DonutSeries",e.type="donut",e})(),S7={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Br.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:I(g({},uo),{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001}),sectorLabel:I(g({},uo),{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5}),calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:nT,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},shadow:{enabled:!1,color:_l,xOffset:3,yOffset:3,blur:5},innerLabels:{$apply:I(g({},uo),{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2})},highlight:uj()},legend:{enabled:!0}},M7={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new QT(e),themeTemplate:S7},D7={type:"series",name:"donut",chartType:"polar",options:J6,create:e=>new QT(e)},NB=(()=>{let e=class extends QT{};return e.className="PieSeries",e.type="pie",e})(),I7={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:Br.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:I(g({},uo),{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001}),sectorLabel:I(g({},uo),{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5}),calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:nT,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:_l,xOffset:3,yOffset:3,blur:5},highlight:kl()},legend:{enabled:!0}},w7={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new NB(e),themeTemplate:I7},C7={type:"series",name:"pie",chartType:"polar",options:hu,create:e=>new NB(e)};function OB(){_s.register(BV,yX,mX,lX,WX,fB,h7,xB,m7,M7,w7,f7);for(let e of[Ll,wh,Rl,tm,G0,Th])qc.register(e.type,{moduleFactory:t=>new e(t)})}function E7(){for(let e of _s.modules){if(e.packageType==="enterprise"&&!vq(e)&&P.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(let t of e.chartTypes)TC.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);Ho.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(let t of e.seriesTypes)Ho.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(let t of e.axisTypes){let n=qc.getThemeTemplate(t),i=Dt(e.themeTemplate,n);qc.setThemeTemplate(t,i)}e.type==="axis"&&qc.register(e.identifier,e),e.type==="legend"&&LE.register(e.identifier,e)}if(_s.hasEnterpriseModules()){let e=bq();e.length>0&&P.errorOnce("Enterprise modules expected but not registered: ",e)}}var mr=Symbol("IGNORED_PROP");function ho(e,t){let n={};for(let i of Object.keys(t)){let r=t[i];r!==mr&&Object.hasOwn(e,i)&&(n[i]=r)}return n}function LB(e){let p=e,{enabled:t,mode:n,showArrow:i,range:r,position:o,pagination:s,delay:a,wrapping:l,interaction:c,renderer:u}=p,d=Vt(p,["enabled","mode","showArrow","range","position","pagination","delay","wrapping","interaction","renderer"]),h=ho(e,g({enabled:t,showArrow:i,range:r,position:o,interaction:c,renderer:u},d));return{chartTooltipOptions:ho(e,g({enabled:mr,showArrow:mr,range:mr,position:mr,mode:n,pagination:s,delay:a,wrapping:l},d)),seriesTooltipOptions:h}}function T7(e){let ve=e,{animation:t,background:n,container:i,contextMenu:r,context:o,footnote:s,height:a,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:f,subtitle:p,theme:m,title:b,width:v,type:x,cursor:M,nodeClickRange:D,tooltip:w={},value:E,scale:C={},startAngle:_,endAngle:N,highlightStyle:k,highlight:j,segmentation:V,bar:$,needle:te,targets:Z,outerRadius:de,innerRadius:Oe,outerRadiusRatio:Ke,innerRadiusRatio:vt,cornerRadius:Mt,cornerMode:Ye,label:be,secondaryLabel:xe,spacing:ge}=ve,dt=Vt(ve,["animation","background","container","contextMenu","context","footnote","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","startAngle","endAngle","highlightStyle","highlight","segmentation","bar","needle","targets","outerRadius","innerRadius","outerRadiusRatio","innerRadiusRatio","cornerRadius","cornerMode","label","secondaryLabel","spacing"]),{chartTooltipOptions:ze,seriesTooltipOptions:Pe}=LB(w),Ae=ho(e,{animation:t,background:n,container:i,contextMenu:r,context:o,footnote:s,height:a,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:f,subtitle:p,theme:m,title:b,tooltip:ze,width:v}),Me=ho(e,g({needle:te!=null?g({enabled:!0},te):mr,startAngle:_,endAngle:N,scale:C,type:x,cursor:M,context:o,nodeClickRange:D,tooltip:Pe,value:E,highlightStyle:k,highlight:j,segmentation:V,bar:$,targets:Z,outerRadius:de,innerRadius:Oe,outerRadiusRatio:Ke,innerRadiusRatio:vt,cornerRadius:Mt,cornerMode:Ye,label:be,secondaryLabel:xe,spacing:ge},dt));return I(g({},Ae),{series:[Me]})}function A7(e){let xe=e,{animation:t,background:n,container:i,contextMenu:r,context:o,footnote:s,height:a,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:f,subtitle:p,theme:m,title:b,width:v,type:x,cursor:M,nodeClickRange:D,tooltip:w={},value:E,scale:C={},direction:_="vertical",thickness:N,highlightStyle:k,highlight:j,segmentation:V,bar:$,targets:te,cornerRadius:Z,cornerMode:de,label:Oe}=xe,Ke=Vt(xe,["animation","background","container","contextMenu","context","footnote","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","direction","thickness","highlightStyle","highlight","segmentation","bar","targets","cornerRadius","cornerMode","label"]),{chartTooltipOptions:vt,seriesTooltipOptions:Mt}=LB(w),Ye=ho(e,{animation:t,background:n,container:i,contextMenu:r,context:o,footnote:s,height:a,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:f,subtitle:p,theme:m,title:b,tooltip:vt,width:v}),be=ho(e,g({scale:C,type:x,cursor:M,context:o,nodeClickRange:D,tooltip:Mt,value:E,direction:_,thickness:N,highlightStyle:k,highlight:j,segmentation:V,bar:$,targets:te,cornerRadius:Z,cornerMode:de,label:Oe},Ke));return I(g({},Ye),{series:[be]})}function TP(e,t){if(t==null)return e;let r=t,{targets:n}=r,i=Vt(r,["targets"]);return e=Dt(e,i),e.targets!=null&&n!=null&&(e.targets=zP(e.targets,n)),e}function _7(e,t){switch(e.type){case"radial-gauge":return T7(TP(e,t));case"linear-gauge":return A7(TP(e,t));default:return{}}}var ro={stroke:pn},Mi={fill:Fg},AP={color:"white",fill:pn},ua={color:pn},Gc={color:Pg,fontSize:{$rem:Br.LARGE},fontFamily:{$ref:"fontFamily"}},tE=I(g({},Gc),{fontSize:{$ref:"fontSize"},color:Bg,fill:jg,stroke:Vg,strokeWidth:1,divider:{stroke:zg,strokeWidth:1,strokeOpacity:.5}}),iC=I(g({},ro),{background:{fill:zn,fillOpacity:.2},handle:g({},Mi),text:g({},ua),statistics:g({},tE)}),k7={line:I(g({},ro),{handle:g({},Mi),text:g({},ua)}),"horizontal-line":I(g({},ro),{handle:g({},Mi),axisLabel:g({},AP),text:g({},ua)}),"vertical-line":I(g({},ro),{handle:g({},Mi),axisLabel:g({},AP),text:g({},ua)}),"disjoint-channel":I(g({},ro),{background:{fill:zn,fillOpacity:.2},handle:g({},Mi),text:g({},ua)}),"parallel-channel":I(g({},ro),{background:{fill:zn,fillOpacity:.2},handle:g({},Mi),text:g({},ua)}),"fibonacci-retracement":I(g({},ro),{strokes:sg,rangeStroke:pn,handle:g({},Mi),text:I(g({},ua),{position:"center"}),label:I(g({},Gc),{color:void 0,fontSize:{$rem:Br.SMALLER}})}),"fibonacci-retracement-trend-based":I(g({},ro),{strokes:sg,rangeStroke:pn,handle:g({},Mi),text:I(g({},ua),{position:"center"}),label:I(g({},Gc),{color:void 0,fontSize:{$rem:Br.SMALLER}})}),callout:I(g(g({},ro),Gc),{color:{$ref:"textColor"},handle:g({},Mi),fill:zn,fillOpacity:.2}),comment:I(g({},Gc),{color:"white",fontWeight:700,handle:g({},Mi),fill:pn}),note:I(g({},Gc),{color:Gg,fill:pn,stroke:{$ref:"chartBackgroundColor"},strokeWidth:1,strokeOpacity:1,handle:g({},Mi),background:{fill:Hg,stroke:Ug,strokeWidth:1}}),text:I(g({},Gc),{handle:g({},Mi)}),arrow:I(g({},ro),{handle:g({},Mi),text:g({},ua)}),"arrow-up":{fill:{$palette:"up.fill"},handle:I(g({},Mi),{stroke:pn})},"arrow-down":{fill:{$palette:"down.fill"},handle:I(g({},Mi),{stroke:pn})},"date-range":g({},iC),"price-range":g({},iC),"date-price-range":g({},iC),"quick-date-price-range":{up:I(g({},ro),{fill:zn,fillOpacity:.2,handle:g({},Mi),statistics:I(g({},tE),{color:"#fff",fill:zn,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}})}),down:I(g({},ro),{stroke:lg,fill:ag,fillOpacity:.2,handle:I(g({},Mi),{stroke:lg}),statistics:I(g({},tE),{color:"#fff",fill:ag,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}})})},axesButtons:{enabled:!0}},N7=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],O7=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function L7(e,t,n){let Z=e,{dateKey:i="date",highKey:r="high",openKey:o="open",lowKey:s="low",closeKey:a="close",volumeKey:l="volume",chartType:c="candlestick",navigator:u=!1,volume:d=!0,rangeButtons:h=!0,statusBar:f=!0,toolbar:p=!0,zoom:m=!0,sync:b=!1,theme:v,data:x,formatter:M}=Z,D=Vt(Z,["dateKey","highKey","openKey","lowKey","closeKey","volumeKey","chartType","navigator","volume","rangeButtons","statusBar","toolbar","zoom","sync","theme","data","formatter"]),w=P7(c,i,r,s,o,a),E=R7(n,o,a,d,l),_={navigator:g({enabled:u},d?{miniChart:{enabled:u,series:[{type:"line",xKey:i,yKey:l,stroke:k0,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null)},N={annotations:{enabled:p,optionsToolbar:{enabled:p},snap:!0,toolbar:{enabled:p,buttons:O7,padding:0},data:x,xKey:i,volumeKey:d?l:void 0}},k=f?{statusBar:{enabled:!0,data:x,highKey:r,openKey:o,lowKey:s,closeKey:a,volumeKey:d?l:void 0}}:null,j={zoom:{enabled:m,autoScaling:{enabled:!0},enableIndependentAxes:!0}},V={ranges:{enabled:h}},$=b?{sync:{enabled:b,nodeInteraction:!0,zoom:!0}}:null,te=d?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return g(g(g(g(g(g(g({theme:g({baseTheme:typeof v=="string"?v:"ag-financial"},Dt(typeof v=="object"?v:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:6},chartToolbar:{enabled:p},annotations:g({},k7),axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:g({marker:{enabled:!1}},NP(c,{hlc:{stroke:{$palette:"altNeutral.stroke"},strokeWidth:2},line:{stroke:{$palette:"neutral.stroke"}},"step-line":{stroke:{$palette:"neutral.stroke"},interpolation:{type:"step"}}}))},candlestick:{series:g({},NP(c,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}}))},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})),animation:{enabled:!1},legend:{enabled:!1},series:[...E,...w],axes:[{type:"number",position:"right",keys:[o,a,r,s],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...te,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:x,formatter:M},N),_),k),j),V),$),D)}function R7(e,t,n,i,r){return i?[{type:"bar",xKey:"date",yKey:r,tooltip:{enabled:!1},itemStyler({datum:o}){let{up:s,down:a}=e().palette;return{fill:o[t]<o[n]?s?.fill:a?.fill}},focusPriority:1,highlight:{enabled:!1}}]:[]}var _P="range-area";function P7(e,t,n,i,r,o){let s={xKey:t,openKey:r,closeKey:o,highKey:n,lowKey:i},a={xKey:t,yKey:o},l={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return F7(l,s);case"line":case"step-line":return j7(l,a);case"hlc":return V7(l,a,s);case"high-low":return B7(l,s);case"candlestick":case"hollow-candlestick":return kP(l,s);default:return P.warnOnce(`unknown chart type: ${e}; expected one of: ${N7.join(", ")}`),kP(l,s)}}function F7(e,t){return[g(g({type:"ohlc",focusPriority:0},e),t)]}function j7(e,t){return[g(g({type:"line",focusPriority:0},e),t)]}function V7(e,t,{xKey:n,highKey:i,closeKey:r,lowKey:o}){return[I(g({type:_P,focusPriority:0},e),{xKey:n,yHighKey:i,yLowKey:r,fill:w0,stroke:D0}),I(g({type:_P,focusPriority:0},e),{xKey:n,yHighKey:r,yLowKey:o,fill:C0,stroke:I0}),g(g({type:"line"},e),t)]}function B7(e,{xKey:t,highKey:n,lowKey:i}){return[I(g({type:"range-bar"},e),{xKey:t,yHighKey:n,yLowKey:i,fill:T0,stroke:E0,tooltip:{range:"nearest"},focusPriority:0})]}function kP(e,t){return[g(g({type:"candlestick",focusPriority:0},e),t)]}function NP(e,t){return t[e]??t.default}var RB={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:_0,lineDash:[0],label:{enabled:!1}}},rC=I(g({},RB),{nice:!1}),ex={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},oC={style:[{stroke:{$ref:"gridLineColor"}}],width:2},z7={number:{gridLine:oC},time:{gridLine:oC},category:{gridLine:oC}},H7={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:I(g({},rC),{interval:{values:[0]}}),log:g({},rC),time:g({},rC),category:g({},RB)}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:I(g({},ex),{position:I(g({},ex.position),{anchorTo:"pointer"}),range:"nearest"}),axes:z7},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:ex},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:ex}}},PB=Ii(U7);function U7(e,t){return typeof e=="string"?I(g({},t),{baseTheme:e}):e!=null?I(g({},e),{baseTheme:PB(e.baseTheme,t)}):t}function FB(e){if(Array.isArray(e)&&e.length!==0){let t=e.find(n=>n!=null);if(typeof t=="number")return{data:e.map((i,r)=>({x:r,y:i})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(t))return{data:e.map(i=>({x:i?.[0],y:i?.[1],datum:i})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}else if(e?.length===0)return{data:e,series:[{xKey:"x",yKey:"y"}],datumKey:"y"};return{data:e}}function G7(e){switch(e?.type){case"number":{let{type:t,min:n,max:i,reverse:r}=e;return ho(e,{type:t,reverse:r,min:n,max:i})}case"time":{let{type:t,min:n,max:i,reverse:r}=e;return ho(e,{type:t,reverse:r,min:n,max:i})}case"category":default:{let{paddingInner:t,paddingOuter:n,reverse:i}=e??{};return ho(I(g({},e),{type:"category"}),{type:"category",reverse:i,paddingInner:t,paddingOuter:n})}}}function $7(e,t,n){let i={};return e?.stroke!=null&&(i.style=[{stroke:e?.stroke}],i.enabled??(i.enabled=!0)),e?.strokeWidth!=null&&(i.width=e?.strokeWidth,i.enabled??(i.enabled=!0)),n.type==="bar"&&n.direction!=="horizontal"&&(i.enabled??(i.enabled=!0)),e?.visible!=null&&(i.enabled=e.visible),i.enabled??(i.enabled=t),i}var W7=Ii((e,t,n)=>i=>{let r=i.datum[i.xKey],o=i.datum[i.yKey],s=n!=null?i.datum[n]:i.datum,a=t?.renderer?.({context:e,datum:s,xValue:r,yValue:o});if(typeof a=="string")return a;let l=a?.content??o.toFixed(2);return a?.title?{heading:void 0,title:void 0,data:[{label:a.title,value:l}]}:{heading:void 0,title:l,data:[]}});function Y7(e){let Z=e,{background:t,container:n,height:i,listeners:r,locale:o,minHeight:s,minWidth:a,overrideDevicePixelRatio:l,padding:c,width:u,theme:d,data:h,crosshair:f,axis:p,min:m,max:b,tooltip:v,context:x,styleNonce:M}=Z,D=Vt(Z,["background","container","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","width","theme","data","crosshair","axis","min","max","tooltip","context","styleNonce"]),w=ho(e,{background:t,container:n,height:i,listeners:r,locale:o,minHeight:s,minWidth:a,overrideDevicePixelRatio:l,padding:c,width:u,styleNonce:M,tooltip:mr,context:mr,data:mr,crosshair:mr,axis:mr,min:mr,max:mr,theme:mr}),{data:E,series:[C]=[],datumKey:_}=FB(h),N=D;C!=null&&Object.assign(N,C),N.tooltip=I(g({},v),{renderer:W7(x,v,_)}),w.theme=PB(d,H7),w.data=E,w.series=[N];let k=N.type!=="bar"||N.direction!=="horizontal",[j,V]=k?["bottom","left"]:["left","bottom"],$=g(I(g({},G7(p)),{position:j}),ho(e,{crosshair:f})),te=g({type:"number",gridLine:$7(p,!1,e),position:V},ho(e,{min:m,max:b}));return w.axes=k?[te,$]:[$,te],w}var Z7={chartType:H("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),dateKey:R,openKey:R,highKey:R,lowKey:R,closeKey:R,volumeKey:R,navigator:T,volume:T,rangeButtons:T,statusBar:T,toolbar:T,zoom:T,sync:T,theme:me,container:me,width:me,height:me,minWidth:me,minHeight:me,listeners:me,initialState:me,title:me,data:Xi,formatter:me},nE={theme:me,container:me,animation:me,background:me,contextMenu:me,context:()=>!0,listeners:me,locale:me,width:me,height:me,minWidth:me,minHeight:me,title:me,subtitle:me,footnote:me,padding:me,tooltip:g(g({},It),_e.tooltip)};nE.overrideDevicePixelRatio=ye(A);var sC=["showInLegend","showInMiniChart","grouped","stacked","stackGroup","tooltip","listeners","errorBar","xKey","yKey","type"],aC={visible:T,reverse:T,stroke:K,strokeWidth:A},lC={context:()=>!0,tooltip:me,theme:me,background:me,container:me,width:me,height:me,minWidth:me,minHeight:me,padding:me,listeners:me,locale:me,data:me,styleNonce:R,axis:wc({number:I(g({},aC),{min:At(F,Ji("max")),max:At(F,er("min"))}),category:I(g({},aC),{paddingInner:oe,paddingOuter:oe}),time:I(g({},aC),{min:At(Se(F,to),Ji("max")),max:At(Se(F,to),er("min"))})},"axis options","category"),min:At(F,Ji("max")),max:At(F,er("min")),crosshair:g(g({enabled:T,snap:T},W),ie),xKey:R,yKey:R},q7={type:"preset",name:"price-volume",enterprise:!0,options:Z7,create:L7},K7={type:"preset",name:"gauge-preset",enterprise:!0,options:wc({"linear-gauge":g(g({},ee(Cl,["type"])),nE),"radial-gauge":g(g({},ee(Zg,["type"])),nE)},"gauge options"),create:_7},Q7={type:"preset",name:"sparkline",options:wc({area:g(g({},lC),ee(Kj,sC)),bar:g(g({},lC),ee($0,sC)),line:g(g({},lC),ee(W0,sC))},"sparkline options"),create:Y7,processData:FB},X7=["top","right","bottom","left"],J7=(()=>{let e=class mx extends M0{constructor(n,i){super(n,i),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(n,i){super.onAxisChange(n,i),this.syncAxisChanges(n,i),this.ctx!=null&&this.ctx.zoomManager.updateAxes(n)}destroySeries(n){super.destroySeries(n),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(n){let{seriesRoot:i,annotationRoot:r}=this;i.setClipRect(n),r.setClipRect(n)}processData(){return Fe(this,null,function*(){yield kS(mx.prototype,this,"processData").call(this),this.syncStatus==="init"&&(this.syncStatus="domains-calculated"),this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})})}processDomains(){return Fe(this,null,function*(){yield kS(mx.prototype,this,"processDomains").call(this);for(let n of this.axes){let i=yield this.getSyncedDomain(n);i!=null&&n.setDomains(i)}})}performLayout(n){let{seriesRoot:i,annotationRoot:r}=this,{clipSeries:o,seriesRect:s,visible:a}=this.updateAxes(n.layoutBox);this.seriesRoot.visible=a,this.seriesRect=s,this.animationRect=n.layoutBox;let{x:l,y:c}=s;if(n.width!==this.lastLayoutWidth||n.height!==this.lastLayoutHeight)for(let p of[i,r])p.translationX=Math.floor(l),p.translationY=Math.floor(c);else{let{translationX:p,translationY:m}=i;Ea(this.id,"seriesRect",this.ctx.animationManager,[i,r],{translationX:p,translationY:m},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}this.lastLayoutWidth=n.width,this.lastLayoutHeight=n.height;let u=this.modulesManager.getModule("seriesArea"),d=s.clone().grow(u.getPadding()),h=u.clip||o?d:void 0,{lastUpdateClipRect:f}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&f!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:f,to:d,onUpdate:p=>this.setRootClipRects(p),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(n,{axes:this.axes.map(p=>p.getLayoutState()),series:{visible:a,rect:s,paddedRect:d},clipSeries:o})}updateAxes(n){let{clipSeries:i,seriesRect:r,overflows:o}=this.resolveAxesLayout(n);for(let s of this.axes)s.update(),s.setCrossLinesVisible(!o),this.clipAxis(s,r,n);return{clipSeries:i,seriesRect:r,visible:!o}}resolveAxesLayout(n){let i,r,o=0,s=10;do if(r=i??this.getDefaultState(),i=this.updateAxesPass(new Map(r.axisAreaWidths),n.clone()),o++>s){P.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(i,r));return this.lastAreaWidths=i.axisAreaWidths,i}updateAxesPass(n,i){let r=new Map,o={},s=!1,a=!1;for(let x of X7){let M=this.modulesManager.getModule("seriesArea").getPadding()[x],D=this.axes.findLast(w=>w.position===x);D?D.seriesAreaPadding=M:i.shrink(M,x)}let l=(n.get("left")??0)+(n.get("right")??0),c=(n.get("top")??0)+(n.get("bottom")??0),u=this.buildCrossLinePadding(n),d=u.left+u.right,h=u.top+u.bottom;i.width<=l+d||i.height<=c+h?s=!0:i.shrink(u);let{scene:f}=this.ctx,p=i.clone().shrink(Object.fromEntries(n));for(let x of this.axes){let{position:M="left",direction:D}=x,w=D==="y",E;this.sizeAxis(x,p,M),x.thickness==null?E=cC(w,f)*(x.maxThicknessRatio??1):E=x.thickness;let{primaryTickCount:C,bbox:_}=x.calculateLayout(x.nice?o[D]:void 0,{sizeLimit:E,padding:this.padding});o[D]??(o[D]=C),a||(a=x.dataDomain.clipped||x.visibleRange[0]>0||x.visibleRange[1]<1),x.thickness==null&&(E=Math.min(cC(w,_)??0,E)),r.set(x.id,Math.ceil(E))}let m=wd(this.axes,x=>x.position??"left"),b=new Map,v=new Map;for(let[x,M]of di(m)){let D=cC(x!=="left"&&x!=="right",f)%f.pixelRatio,w=0;for(let E of M??[]){v.set(E.id,D);let C=r.get(E.id)??0;w=Math.max(w,D+C),E.layoutConstraints.stacked&&(D+=C+mx.AxesPadding)}b.set(x,Math.ceil(w))}for(let[x,M]of di(m))this.positionAxes({axes:M??[],position:x,axisWidths:r,axisOffsets:v,axisAreaWidths:b,axisBound:i,seriesRect:p});return{clipSeries:a,seriesRect:p,axisAreaWidths:b,overflows:s}}buildCrossLinePadding(n){let i={top:0,right:0,bottom:0,left:0};this.axes.forEach(r=>{let{position:o,label:s}=r;r.crossLines?.forEach(a=>{var l;a instanceof br&&(a.position=o??"top",(l=a.label).parallel??(l.parallel=s.parallel)),a.calculatePadding?.(i)})});for(let[r,o=0]of di(i))i[r]=Math.max(o-(n.get(r)??0),0);return i}clampToOutsideSeriesRect(n,i,r,o){let s=r==="x"?n.x:n.y,a=r==="x"?n.width:n.height;return o===1?Math.min(i,s+a):Math.max(i,s)}getSyncedDomain(n){return Fe(this,null,function*(){let i=this.modulesManager.getModule("sync");if(i?.enabled)return yield i.getSyncedDomain(n)})}syncAxisChanges(n,i){let r=this.modulesManager.getModule("sync");if(!r?.enabled)return;let o=new Set(i??[]);for(let s of n)o.delete(s);for(let s of o)r.removeAxis(s)}sizeAxis(n,i,r){let o=n instanceof Ll,s=r==="left"||r==="right",{width:a,height:l}=i,c=s?l:a,u=0,d=c,{min:h,max:f}=this.ctx.zoomManager.getAxisZoom(n.id),{width:p,unit:m,align:b}=n.layoutConstraints;m==="px"?d=u+p:d=d*p/100,b==="end"&&(u=c-(d-u),d=c),s&&(o?[u,d]=[d,u]:[h,f]=[1-f,1-h]),n.range=[u,d],n.visibleRange=[h,f],n.gridLength=s?a:l}positionAxes(n){let{axes:i,axisBound:r,axisWidths:o,axisOffsets:s,axisAreaWidths:a,seriesRect:l,position:c}=n,u=a.get(c)??0,d="x",h="y",f=1;(c==="top"||c==="bottom")&&(d="y",h="x");let p=r[d];(c==="right"||c==="bottom")&&(f=-1,p+=d==="x"?r.width:r.height);for(let m of i){let b=a.get(h==="x"?"left":"top")??0,v=o.get(m.id)??0,x=s.get(m.id)??0;m.gridPadding=u-x-v,m.translation[h]=r[h]+b,m.translation[d]=this.clampToOutsideSeriesRect(l,p+f*(x+v),d,f)}}shouldFlipXY(){return this.series.every(n=>n instanceof bu&&n.shouldFlipXY())}getDefaultState(){let n=new Map;if(this.lastAreaWidths)for(let{position:i="left"}of this.axes){let r=this.lastAreaWidths.get(i);r!=null&&n.set(i,r)}return{axisAreaWidths:n,clipSeries:!1,overflows:!1}}isLayoutStable(n,i){if(i.overflows!==n.overflows||i.clipSeries!==n.clipSeries)return!1;for(let r of n.axisAreaWidths.keys())if(!i.axisAreaWidths.has(r))return!1;for(let[r,o]of i.axisAreaWidths.entries()){let s=n.axisAreaWidths.get(r);if((o!=null||s!=null)&&o!==s)return!1}return!0}clipAxis(n,i,r){let o=Math.ceil(n.gridLine?.width??0),s=Math.ceil(n.line?.width??0),{width:a,height:l}=i;switch(a+=n.direction==="x"?o:s,l+=n.direction==="y"?o:s,n.clipGrid(i.x,i.y,a,l),n.position){case"left":case"right":n.clipTickLines(r.x,i.y-o,r.width+o,i.height+o*2);break;case"top":case"bottom":n.clipTickLines(i.x-o,r.y,i.width+o*2,r.height+o);break}}};return e.className="CartesianChart",e.type="cartesian",e.AxesPadding=15,e})(),eJ=J7;function cC(e,t){return e?t?.width:t?.height}var X0={mode:ye(H("integrated","standalone")),container:Nb,context:()=>!0,theme:me,series:Xi,annotations:me,navigator:me,initialState:{chartType:R,annotations:me,legend:en({visible:T,seriesId:R,itemId:R,legendItemName:R},"legend state array"),zoom:me}},jB=I(g(g({},_e),X0),{axes:Oo(2),data:Xi}),VB=I(g(g({},_e),X0),{axes:Oo(2),data:Xi}),tJ=I(g(g({},_e),X0),{data:Xi,topology:LL}),nJ=I(g(g({},_e),X0),{data:Xi}),iJ=new Set(["number","log","time"]),rJ=e=>yt(e)&&!iJ.has(e.type),oJ={type:"chart",name:"cartesian",options:jB,detect:UF,create(e,t){return new eJ(e,t)},validate(e,t,n){let i=[];e?.series?.[0]?.type==="histogram"&&e?.axes?.some(rJ)&&(i.push(new ia("invalid","only continuous axis types when histogram series is used",e.axes,n,"axes")),e=ee(e,["axes"]));let r=Dn(e,t,n);return r.invalid.push(...i),r}},BB=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},sJ={type:"chart",name:"standalone",placeholder:!0,options:{},detect:$F,create:BB},aJ={type:"chart",name:"topology",placeholder:!0,options:{},detect:GF,create:BB},gh=class extends zE{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}layoutCrossLines(){let e=this.label.getSideFlag(),t=this.hasDefinedDomain()||this.hasVisibleSeries(),{rotation:n,parallelFlipRotation:i,regularFlipRotation:r}=this.calculateRotations();this.crossLines.forEach(o=>{o.sideFlag=-e,o.direction=n===-Math.PI/2?"angle":"radius",o.parallelFlipRotation=i,o.regularFlipRotation=r,o.calculateLayout?.(t,this.reverse)})}updatePosition(){super.updatePosition();let e=Math.floor(this.translation.x),t=Math.floor(this.translation.y);this.tickLineGroup.translationX=e,this.tickLineGroup.translationY=t,this.tickLabelGroup.translationX=e,this.tickLabelGroup.translationY=t,this.crossLineRangeGroup.translationX=e,this.crossLineRangeGroup.translationY=t,this.crossLineLineGroup.translationX=e,this.crossLineLineGroup.translationY=t,this.crossLineLabelGroup.translationX=e,this.crossLineLabelGroup.translationY=t,this.tickLabelGroupSelection.each(Ax())}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};y([S],gh.prototype,"shape",2);y([S],gh.prototype,"innerRadiusRatio",2);var lJ=(()=>{let e=class extends M0{constructor(t,n){super(t,n),this.padding=new ru(40),this.ctx.axisManager.axisGroup.zIndex=8}getChartType(){return"polar"}performLayout(t){return Fe(this,null,function*(){let{layoutBox:n}=t,i=n.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=i,this.animationRect=i,this.seriesRoot.translationX=i.x,this.seriesRoot.translationY=i.y,yield this.computeCircle(i),this.axes.forEach(r=>r.update()),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:i,paddedRect:n}})})}updateAxes(t,n,i,r){let o=this.axes.find(c=>c.direction==="angle"),s=this.axes.find(c=>c.direction==="radius");if(!(o instanceof gh)||!(s instanceof gh))return;let a=o.scale,l=s.innerRadiusRatio;o.innerRadiusRatio=l,o.computeRange(),o.gridLength=r,s.gridAngles=a.ticks({nice:o.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.map(c=>a.convert(c)),s.gridRange=o.range,s.range=[r,r*l],[o,s].forEach(c=>{c.translation.x=t.x+n,c.translation.y=t.y+i,c.calculateLayout()})}computeCircle(t){return Fe(this,null,function*(){let n=this.series.filter(cJ),i=this.axes.filter(uJ),r=(u,d,h)=>{this.updateAxes(t,u,d,h),n.forEach(p=>{p.centerX=u,p.centerY=d,p.radius=h});let f=n.filter(p=>p.type==="donut"||p.type==="pie");if(f.length>1){let p=f.map(m=>{let b=m.getInnerRadius();return{series:m,innerRadius:b}}).sort((m,b)=>m.innerRadius-b.innerRadius);p.at(-1).series.surroundingRadius=void 0;for(let m=0;m<p.length-1;m++)p[m].series.surroundingRadius=p[m+1].innerRadius}},o=t.width/2,s=t.height/2,a=Math.max(0,Math.min(t.width,t.height)/2),l=a;r(o,s,l);let c=(...d)=>Fe(this,[...d],function*({hideWhenNecessary:u=!1}={}){let h=[];for(let m of rl(i,n)){let b=yield m.computeLabelsBBox({hideWhenNecessary:u},t);b&&h.push(b)}if(h.length===0){r(o,s,a);return}let f=re.merge(h),p=this.refineCircle(f,l,t);r(p.centerX,p.centerY,p.radius),l=p.radius});yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0});for(let u of rl(i,n))yield u.computeLabelsBBox({hideWhenNecessary:!0},t);return{radius:l,centerX:o,centerY:s}})}refineCircle(t,n,i){let o=-n,s=-n,a=n,l=n,c=Math.max(0,o-t.x),u=Math.max(0,s-t.y),d=Math.max(0,t.x+t.width-a),h=Math.max(0,t.y+t.height-l);c=d=Math.max(c,d),u=h=Math.max(u,h);let f=i.width-c-d,p=i.height-u-h,m=Math.min(f,p)/2,b=.5*i.width/2,v=.5*i.height/2,x=Math.min(b,v);if(m<x){m=x;let w=c+d,E=u+h;if(2*m+E>i.height){let C=i.height-2*m;Math.min(u,h)*2>C?(u=C/2,h=C/2):u>h?u=C-h:h=C-u}if(2*m+w>i.width){let C=i.width-2*m;Math.min(c,d)*2>C?(c=C/2,d=C/2):c>d?c=C-d:d=C-c}}let M=c+2*m+d,D=u+2*m+h;return{centerX:(i.width-M)/2+c+m,centerY:(i.height-D)/2+u+m,radius:m}}};return e.className="PolarChart",e.type="polar",e})();function cJ(e){return e instanceof KT}function uJ(e){return e instanceof gh}var dJ={type:"chart",name:"polar",options:VB,detect:dK,create(e,t){return new lJ(e,t)},validate(e,t,n){let i=[],r=e?.series?.[0]?.type;(r==="pie"||r==="donut")&&e?.axes&&(i.push(new kb([],e.axes,n,"axes")),e=ee(e,["axes"]));let o=Dn(e,t,n);return o.invalid.push(...i),o}},hJ=[oJ,U6,G6,$6,W6,Y6,Z6,cB,pB,yB,bB,SB,DB],fJ=[dJ,D7,C7],pJ=[...hJ,...fJ,sJ,aJ,q7,K7,Q7],gJ=1e3,XT=class cl{constructor(t,n,i,r,o,s=gJ){this.name=t,this.buildItem=n,this.releaseItem=i,this.destroyItem=r,this.maxPoolSize=o,this.cleanupTimeMs=s,this.freePool=[],this.busyPool=new Set}static getPool(t,n,i,r,o){return this.pools.has(t)||this.pools.set(t,new cl(t,n,i,r,o)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(t){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let n=this.freePool.pop();return n==null?(n=this.buildItem(t),cl.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n])):cl.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n]),this.busyPool.add(n),{item:n,release:()=>this.release(n)}}obtainFree(){let t=this.freePool.pop();if(t==null)throw new Error("AG Charts - pool has no free instances");return cl.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,t]),this.busyPool.add(t),{item:t,release:()=>this.release(t)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");cl.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),cl.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]);let n=Date.now(),i=n+this.cleanupTimeMs*.5;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<i&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=n+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){let t=this.freePool.splice(0);for(let n of t)this.destroyItem(n);cl.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(let t of this.busyPool.values())this.destroyItem(t);this.busyPool.clear()}};XT.pools=new Map;XT.debug=We.create(!0,"pool");var mJ=XT;ui.registerMany(pJ,sh);var pa=We.create(!0,"opts"),gl=(()=>{let e=class{static licenseCheck(t){this.licenseChecked||(this.licenseManager=Sl.licenseManager?.(t),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){return Sl.licenseManager?.({}).getLicenseDetails(t)}static getInstance(t){return OP.getInstance(t)}static create(t,n){let i=We.check("scene:stats","scene:stats:verbose")?performance.now():void 0;return pa.group("AgCharts.create()",()=>{t=We.inDevelopmentMode(()=>ga(ln(t)))??t,this.licenseCheck(t);let r=OP.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:n,apiStartTime:i});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&Sl.injectWatermark?.(r.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),r})}static createFinancialChart(t){return pa.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return pa.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge-preset"}))}static __createSparkline(t){return pa.group("AgCharts.__createSparkline()",()=>{let r=t,{pool:n}=r,i=Vt(r,["pool"]);return this.create(i,{presetType:"sparkline",pool:n??!0,domMode:"minimal",withDragInterpretation:!1})})}};return e.licenseChecked=!1,e})(),Cs=class ul{static getInstance(t){let n=M0.getInstance(t);return n?sP.chartInstances.get(n):void 0}static initialiseModules(){ul.initialised||(OB(),E7(),ul.initialised=!0)}static createOrUpdate(t){let{proxy:n}=t,{userOptions:i,licenseManager:r,processedOverrides:o=n?.chart?.chartOptions.processedOverrides??{},specialOverrides:s=n?.chart?.chartOptions.specialOverrides??{},optionsMetadata:a=n?.chart?.chartOptions.optionMetadata??{},deltaOptions:l,data:c,stripSymbols:u=!1,apiStartTime:d}=t,h=Sl.styles!=null?[["ag-charts-enterprise",Sl.styles]]:[];ul.initialiseModules(),pa(()=>[">>> AgCharts.createOrUpdate() user options",ln(i)]);let{presetType:f}=a,p=i;gl.optionsMutationFn&&p&&(p=gl.optionsMutationFn(ln(p,Wp.OPTIONS_CLONE_OPTS_FAST),f),pa(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",ln(p)]));let m=this.getPool(a),b=!1,v,x=n?.chart;x==null&&m?.hasFree()&&(v=m.obtainFree(),x=v.item);let N=p??{},{document:M,window:D,styleContainer:w}=N,E=Vt(N,["document","window","styleContainer"]),C=x?.getChartOptions(),_=new Wp(C,E,o,I(g({},s),{document:M,window:D,styleContainer:w}),a,l,u,d);return(x==null||ui.detectChartDefinition(_.processedOptions)!==ui.detectChartDefinition(x.chartOptions.processedOptions))&&(v?.release(),v=this.getPool(_.optionMetadata)?.obtain(_),v?x=v.item:(b=!0,x=ul.createChartInstance(_,x))),h.forEach(([k,j])=>{x.ctx.domManager.addStyles(k,j)}),x.ctx.fontManager.updateFonts(_.googleFonts),c!=null&&x.ctx.dataService.restoreData(c),n==null?(n=new sP(x,ul.callbackApi,r),n.releaseChart=v?.release):(v||b)&&(n.releaseChart?.(),n.chart=x,n.releaseChart=v?.release),pa.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[x.id]=x),x.queuedUserOptions.push(_.userOptions),x.queuedChartOptions.push(_),x.requestFactoryUpdate(k=>{pa.group(">>>> Chart.applyOptions()",()=>{k.applyOptions(_);let j=k.queuedUserOptions.indexOf(_.userOptions)+1;k.queuedUserOptions.splice(0,j),k.queuedChartOptions.splice(0,j)})}),n}static markRemovedProperties(t,n,i=!1){if(typeof t!="object")return i;for(let r of Object.keys(t))typeof t[r]>"u"&&(Object.assign(t,{[r]:Symbol("UNSET")}),i||(i=!0));return i}static updateUserDelta(t,n,i){n=ln(n,Wp.OPTIONS_CLONE_OPTS_FAST);let r=yl(n,ul.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);pa(()=>[">>> AgCharts.updateUserDelta() user delta",ln(n)]),ul.createOrUpdate({proxy:t,deltaOptions:n,stripSymbols:r,apiStartTime:i})}static createChartInstance(t,n){let i=n?.destroy({keepTransferableResources:!0});return ui.detectChartDefinition(t.processedOptions).create(t,i)}static getPool(t){if(t.pool===!0)return mJ.getPool(t.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};Cs.caretaker=new S2(sh);Cs.initialised=!1;Cs.callbackApi={caretaker:Cs.caretaker,create(e,t,n,i,r){return Cs.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:n,optionsMetadata:i,data:r})},update(e,t,n,i){return Cs.createOrUpdate({userOptions:e,proxy:t,specialOverrides:n,apiStartTime:i})},updateUserDelta(e,t,n){return Cs.updateUserDelta(e,t,n)}};Cs.detachAndClear=e=>e.detachAndClear();Cs.destroy=e=>e.destroy();var OP=Cs,zB={};Ls(zB,{Arc:()=>Ra,BBox:()=>re,Caption:()=>mn,CategoryScale:()=>xh,Group:()=>Ve,Line:()=>co,LinearScale:()=>Qc,Marker:()=>Hn,Path:()=>ir,RadialColumnShape:()=>Jo,Rect:()=>oi,Scene:()=>TE,Sector:()=>zi,Shape:()=>On,TranslatableGroup:()=>Fi,getRadialColumnWidth:()=>HB,toRadians:()=>Ci});var Ra=(()=>{let e=class extends ir{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0}get fullPie(){return Qi(Nn(this.startAngle),Nn(this.endAngle))}updatePath(){let t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?t.closePath():this.type===2&&!this.fullPie&&(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new re(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(t,n){let i=this.getBBox();return this.type!==0&&i.containsPoint(t,n)&&this.path.isPointInPath(t,n)}};return e.className="Arc",e})();y([Y()],Ra.prototype,"centerX",2);y([Y()],Ra.prototype,"centerY",2);y([Y()],Ra.prototype,"radius",2);y([Y()],Ra.prototype,"startAngle",2);y([Y()],Ra.prototype,"endAngle",2);y([Y()],Ra.prototype,"counterClockwise",2);y([Y()],Ra.prototype,"type",2);function uC(e,t,n){let i=Math.sqrt(e**2+t**2),o=Math.atan2(t,e)+n;return{x:Math.cos(o)*i,y:Math.sin(o)*i}}var Jo=(()=>{let e=class extends ir{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(t){}computeBBox(){let{innerRadius:t,outerRadius:n,columnWidth:i}=this,r=this.getRotation(),o=-i/2,s=i/2,a=-n,l=-t,c=1/0,u=1/0,d=-1/0,h=-1/0;for(let f=0;f<4;f+=1){let{x:p,y:m}=uC(f%2===0?o:s,f<2?a:l,r);c=Math.min(p,c),u=Math.min(m,u),d=Math.max(p,d),h=Math.max(m,h)}return new re(c,u,d-c,h-u)}getRotation(){let{startAngle:t,endAngle:n}=this,i=Kx(t,n);return Nn(t+i/2+Math.PI/2)}updatePath(){let{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:t,innerRadius:n,outerRadius:i,path:r}=this,o=-t/2,s=t/2,a=-i,l=-n,c=this.getRotation(),u=[[o,l],[o,a],[s,a],[s,l]].map(([d,h])=>uC(d,h,c));r.clear(!0),r.moveTo(u[0].x,u[0].y),r.lineTo(u[1].x,u[1].y),r.lineTo(u[2].x,u[2].y),r.lineTo(u[3].x,u[3].y),r.closePath()}updateBeveledPath(){let{columnWidth:t,path:n,outerRadius:i,innerRadius:r,axisInnerRadius:o,axisOuterRadius:s,isRadiusAxisReversed:a}=this,l=Qi(r,o),c=Math.asin(t/2/r),u=this.getRotation(),d=(N,k)=>uC(N,k,u),h=(N,k)=>Math.sqrt(N**2+k**2),f=(N,k)=>k>N?0:Math.sqrt(N**2-k**2),p=(N,k,j)=>j?N<k:N>k,m=l&&!isNaN(c)&&c<Math.PI/6,b=-t/2,v=t/2,x=-i,M=-r*(m?Math.cos(c):1),D=p(s,h(r,t/2),!a);if(D){let N=f(s,r);b=-N,v=N}n.clear(!0);let w=d(b,M);n.moveTo(w.x,w.y);let E=Qi(r,i),C=p(s,h(i,t/2),!a);if(E&&m)n.arc(0,0,r,Nn(-c-Math.PI/2)+u,Nn(c-Math.PI/2)+u,!1);else if(C){let N=-f(s,t/2),k=f(s,i);if(!D){let j=d(b,N);n.lineTo(j.x,j.y)}if(n.arc(0,0,s,Math.atan2(N,b)+u,Math.atan2(x,-k)+u,!1),!Qi(k,0)){let j=d(k,x);n.lineTo(j.x,j.y)}n.arc(0,0,s,Math.atan2(x,k)+u,Math.atan2(N,v)+u,!1)}else{let N=d(b,x),k=d(v,x);n.lineTo(N.x,N.y),n.lineTo(k.x,k.y)}let _=d(v,M);if(n.lineTo(_.x,_.y),m)n.arc(0,0,r,Nn(c-Math.PI/2)+u,Nn(-c-Math.PI/2)+u,!0);else{let N=d(b,M);n.lineTo(N.x,N.y)}n.closePath()}};return e.className="RadialColumnShape",e})();y([Y()],Jo.prototype,"isBeveled",2);y([Y()],Jo.prototype,"columnWidth",2);y([Y()],Jo.prototype,"startAngle",2);y([Y()],Jo.prototype,"endAngle",2);y([Y()],Jo.prototype,"outerRadius",2);y([Y()],Jo.prototype,"innerRadius",2);y([Y()],Jo.prototype,"axisInnerRadius",2);y([Y()],Jo.prototype,"axisOuterRadius",2);y([Y()],Jo.prototype,"isRadiusAxisReversed",2);function HB(e,t,n,i,r){let o=Kx(e,t),s=o*(1-i)/2;if(e+=s,t-=s,o<.001)return 2*n*r;if(o>=2*Math.PI){let f=e+o/2;e=f-Math.PI,t=f+Math.PI}let a=n*Math.cos(e),l=n*Math.sin(e),c=n*Math.cos(t),u=n*Math.sin(t),d=Math.floor(Math.sqrt((a-c)**2+(l-u)**2)),h=2*n*r;return Math.max(1,Math.min(h,d))}var UB={};Ls(UB,{ChartTheme:()=>Zo,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Fg,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Bg,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>zg,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>ag,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>lg,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>jg,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Vg,DEFAULT_CAPTION_ALIGNMENT:()=>pl,DEFAULT_CAPTION_LAYOUT_STYLE:()=>fl,DEFAULT_FIBONACCI_STROKES:()=>sg,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>zn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>pn,DEFAULT_GRIDLINE_ENABLED:()=>Uo,DEFAULT_POLAR_SERIES_STROKE:()=>A0,DEFAULT_SEPARATION_LINES_COLOUR:()=>Rg,DEFAULT_SHADOW_COLOUR:()=>_l,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>_0,DEFAULT_TEXTBOX_COLOR:()=>Gg,DEFAULT_TEXTBOX_FILL:()=>Hg,DEFAULT_TEXTBOX_STROKE:()=>Ug,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Pg,DEFAULT_TOOLBAR_POSITION:()=>$g,IS_DARK_THEME:()=>th,PALETTE_ALT_DOWN_FILL:()=>JE,PALETTE_ALT_DOWN_STROKE:()=>QE,PALETTE_ALT_NEUTRAL_FILL:()=>eT,PALETTE_ALT_NEUTRAL_STROKE:()=>tT,PALETTE_ALT_UP_FILL:()=>XE,PALETTE_ALT_UP_STROKE:()=>KE,PALETTE_DOWN_FILL:()=>C0,PALETTE_DOWN_STROKE:()=>I0,PALETTE_NEUTRAL_FILL:()=>T0,PALETTE_NEUTRAL_STROKE:()=>E0,PALETTE_UP_FILL:()=>w0,PALETTE_UP_STROKE:()=>D0,getChartTheme:()=>Fx,resolveOperation:()=>vJ,themeNames:()=>yJ,themeSymbols:()=>qE,themes:()=>yT});var yJ=Object.keys(yT);function vJ(e){let t=Zo.getDefaultPublicParameters(),n=Zo.getDefaultColors();return new VV({line:{operation:e}},{series:[{type:"line"}]},t,n).resolve().operation}var GB={};Ls(GB,{Color:()=>zt,interpolateColor:()=>j2});var bJ={};Ls(bJ,{AGGREGATION_INDEX_X_MAX:()=>jr,AGGREGATION_INDEX_X_MIN:()=>tr,AGGREGATION_INDEX_Y_MAX:()=>ao,AGGREGATION_INDEX_Y_MIN:()=>so,AGGREGATION_SPAN:()=>As,AbstractBarSeries:()=>uB,AbstractBarSeriesProperties:()=>BT,ActionOnSet:()=>Vi,AnchoredPopover:()=>QB,Animation:()=>H2,AnimationManager:()=>$2,Arc:()=>Ra,Axis:()=>zE,AxisGroupZIndexMap:()=>CF,AxisInterval:()=>su,AxisLabel:()=>tn,AxisTick:()=>au,AxisTickGenerator:()=>BF,BASE_FONT_SIZE:()=>fa,BBox:()=>re,Background:()=>kh,BackgroundModule:()=>BV,BandScale:()=>Ca,BarSeries:()=>UT,BarSeriesModule:()=>fB,BaseModuleInstance:()=>Wx,BaseProperties:()=>Te,BaseToolbar:()=>rA,Border:()=>mu,ButtonWidget:()=>Mg,CachedTextMeasurer:()=>f2,CachedTextMeasurerPool:()=>Al,CallbackCache:()=>a2,Caption:()=>mn,CartesianAxis:()=>Ng,CartesianSeries:()=>bu,CartesianSeriesNodeEvent:()=>wT,CartesianSeriesProperties:()=>jl,CategoryAxis:()=>wh,CategoryScale:()=>xh,ChangeDetectableProperties:()=>DT,Chart:()=>M0,ChartAxisDirection:()=>xE,ChartOptions:()=>Wp,ChartUpdateType:()=>Up,CollapseMode:()=>XV,Color:()=>zt,ColorScale:()=>yh,ConicGradient:()=>KP,ContextMenuBuiltins:()=>W2,ContextMenuRegistry:()=>Y2,ContinuousScale:()=>Ht,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Rh,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Ph,DEFAULT_POLAR_DIRECTION_KEYS:()=>_B,DEFAULT_POLAR_DIRECTION_NAMES:()=>kB,DEFAULT_TOOLTIP_CLASS:()=>fi,DEFAULT_TOOLTIP_DARK_CLASS:()=>ej,DIRECTION_SWAP_AXES:()=>lj,DOMManager:()=>T2,DataController:()=>uF,DataModel:()=>cF,DataModelSeries:()=>IT,DataService:()=>s0,Debug:()=>We,Deprecated:()=>xJ,DeprecatedAndRenamedTo:()=>SJ,DiscreteTimeAxis:()=>Uj,DiscreteTimeScale:()=>$o,DragInterpreter:()=>Q2,DraggablePopover:()=>XB,DropShadow:()=>Fs,ExtendedPath2D:()=>rh,FILL_GRADIENT_CONIC_DEFAULTS:()=>e6,FILL_GRADIENT_LINEAR_DEFAULTS:()=>Mh,FILL_GRADIENT_LINEAR_HIERARCHY_DEFAULTS:()=>KK,FILL_GRADIENT_LINEAR_SHADED_DEFAULTS:()=>QK,FILL_GRADIENT_RADIAL_DEFAULTS:()=>N0,FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS:()=>Wg,FILL_GRADIENT_RADIAL_REVERSED_SERIES_DEFAULTS:()=>JK,FILL_GRADIENT_RADIAL_SERIES_DEFAULTS:()=>XK,FILL_IMAGE_DEFAULTS:()=>uu,FILL_PATTERN_DEFAULTS:()=>Ia,FILL_PATTERN_HIERARCHY_DEFAULTS:()=>t6,FONT_SIZE:()=>bE,FONT_SIZE_RATIO:()=>Br,FillGradientDefaults:()=>mo,FillImageDefaults:()=>xr,FillPatternDefaults:()=>rn,FloatingToolbar:()=>iee,FormatManager:()=>uh,Gradient:()=>Xx,Group:()=>Ve,GroupedCategoryAxis:()=>tm,HdpiCanvas:()=>EE,HierarchyNode:()=>BJ,HierarchySeries:()=>zJ,HierarchySeriesProperties:()=>es,HighlightManager:()=>Z2,HighlightProperties:()=>_a,HighlightState:()=>WF,HighlightStyle:()=>Og,Image:()=>Vh,InteractionManager:()=>G2,InteractionState:()=>U2,InterpolationProperties:()=>Fh,Invalidating:()=>vg,LABEL_BOXING_DEFAULTS:()=>uo,LARGEST_KEY_INTERVAL:()=>Nj,LEGEND_CONTAINER_THEME:()=>dj,Label:()=>yn,LayoutElement:()=>OE,LayoutManager:()=>nF,LegendMarkerLabel:()=>Xo,Line:()=>co,LineSeries:()=>WT,LineSeriesModule:()=>xB,LinearGradient:()=>QP,LinearScale:()=>Qc,LogScale:()=>uT,LonLatBBox:()=>HJ,Marker:()=>Hn,Menu:()=>eee,MenuItemWidget:()=>nA,MenuWidget:()=>qB,MercatorScale:()=>UJ,ModuleRegistry:()=>ui,Motion:()=>DC,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Go,NativeWidget:()=>lh,NewAreaSeriesModule:()=>cB,NewBarSeriesModule:()=>pB,NewBubbleSeriesModule:()=>yB,NewHistogramSeriesModule:()=>bB,NewLineSeriesModule:()=>SB,NewScatterSeriesModule:()=>DB,NiceMode:()=>SF,Node:()=>xa,NumberAxis:()=>Ll,ObserveChanges:()=>Tl,OrdinalTimeScale:()=>zd,PHASE_METADATA:()=>Jp,PHASE_ORDER:()=>Bd,PREV_NEXT_KEYS:()=>Xd,Padding:()=>ru,ParallelStateMachine:()=>Tq,Path:()=>ir,PointerEvents:()=>YP,PolarAxis:()=>gh,PolarSeries:()=>KT,PolarZIndexMap:()=>AB,Popover:()=>iA,PropertiesArray:()=>bg,Property:()=>S,ProxyInteractionService:()=>N2,ProxyOnWrite:()=>Z8,ProxyProperty:()=>ri,ProxyPropertyOnWrite:()=>En,QUICK_TRANSITION:()=>Dx,QuadtreeNearest:()=>GV,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>Vx,RadialColumnShape:()=>Jo,Range:()=>Ta,Rect:()=>oi,RepeatType:()=>z2,Rotatable:()=>vh,RotatableGroup:()=>z8,RotatableText:()=>g2,SAFE_FILLS_OPERATION:()=>nT,SAFE_FILL_OPERATION:()=>ZK,SAFE_RANGE2_OPERATION:()=>qK,SAFE_STROKE_FILL_OPERATION:()=>k0,SKIP_JS_BUILTINS:()=>lE,SMALLEST_KEY_INTERVAL:()=>kj,SORT_DOMAIN_GROUPS:()=>Oj,Scalable:()=>pE,ScalableGroup:()=>B8,ScaleAlignment:()=>qP,Scene:()=>TE,SceneArrayChangeDetection:()=>uE,SceneChangeDetection:()=>Y,SceneObjectChangeDetection:()=>Ur,SceneRefChangeDetection:()=>GP,Sector:()=>zi,SectorBox:()=>IB,Selection:()=>ji,Series:()=>S0,SeriesContentZIndexMap:()=>qF,SeriesGroupingChangedEvent:()=>_x,SeriesItemHighlightStyle:()=>Aa,SeriesMarker:()=>pi,SeriesNodeEvent:()=>x0,SeriesNodePickMode:()=>QF,SeriesProperties:()=>yo,SeriesTooltip:()=>La,SeriesZIndexMap:()=>ZF,Shape:()=>On,SimpleTextMeasurer:()=>vE,SliderWidget:()=>CE,StateMachine:()=>wg,StateMachineProperty:()=>Cq,StopProperties:()=>hE,SvgPath:()=>ZB,TRIPLE_EQ:()=>mh,Text:()=>Vr,TextUtils:()=>qt,TextWrapper:()=>xg,ThemeConstants:()=>m2,ThemeSymbols:()=>qE,TimeAxisParentLevel:()=>Eh,TimeScale:()=>Qd,Toolbar:()=>tee,ToolbarButtonProperties:()=>rm,ToolbarButtonWidget:()=>JB,ToolbarWidget:()=>o0,Tooltip:()=>vo,TooltipManager:()=>Ix,TooltipPosition:()=>cu,Transformable:()=>gn,TransformableGroup:()=>jd,TransformableText:()=>oh,Translatable:()=>bh,TranslatableGroup:()=>Fi,TranslatableSvgPath:()=>QJ,UnitTimeScale:()=>dl,UpdateService:()=>iF,Vec2:()=>Kd,Vec4:()=>tg,WIDGET_HTML_EVENTS:()=>mE,Widget:()=>Rs,WidgetEventUtil:()=>ma,ZIndexMap:()=>O2,ZoomManager:()=>tF,accumulateGroup:()=>Lj,accumulateStack:()=>Rj,accumulatedValue:()=>Mj,accumulativeValueProperty:()=>HC,addEscapeEventListener:()=>t0,addHitTestersToQuadtree:()=>VT,addMouseCloseListener:()=>ME,addOverrideFocusVisibleEventListener:()=>IE,addTouchCloseListener:()=>DE,adjustLabelPlacement:()=>HV,aggregationDomain:()=>pg,aggregationIndexForXRatio:()=>NT,aggregationRangeFittingPoints:()=>_T,aggregationXRatioForDatumIndex:()=>kT,aggregationXRatioForXValue:()=>wa,angleBetween:()=>Kx,angleCategoryAxisOptionsDefs:()=>$j,angleNumberAxisOptionsDefs:()=>Gj,angularPadding:()=>bC,animationValidation:()=>Jg,annotationCalloutStylesDefs:()=>lV,annotationChannelStyleDefs:()=>gT,annotationChannelTextDefs:()=>rV,annotationCommentStylesDefs:()=>cV,annotationCrossLineStyleDefs:()=>GC,annotationDisjointChannelStyleDefs:()=>sV,annotationFibonacciStylesDefs:()=>$C,annotationLineStyleDefs:()=>Px,annotationLineTextDefs:()=>Y0,annotationMeasurerStylesDefs:()=>cx,annotationNoteStylesDefs:()=>uV,annotationOptionsDef:()=>_h,annotationParallelChannelStyleDefs:()=>aV,annotationQuickMeasurerStylesDefs:()=>dV,annotationShapeStylesDefs:()=>WC,annotationTextStylesDef:()=>nm,applyShapeFillBBox:()=>KF,applyShapeStyle:()=>ya,areScalingEqual:()=>Xc,area:()=>zC,autoSizedLabelOptionsDefs:()=>wl,bezier2DDistance:()=>n2,bezier2DExtrema:()=>t2,boxPlotHighlightStyleOptionsDef:()=>YC,boxPlotSeriesThemeableOptionsDef:()=>hV,boxPlotStyleOptionsDef:()=>mT,buildDateFormatter:()=>tu,buildResetPathFn:()=>FT,calculateDataDiff:()=>hB,calculateLabelTranslation:()=>WJ,calculatePlacement:()=>XF,callWithContext:()=>Yo,candlestickSeriesThemeableOptionsDef:()=>fV,cartesianAxisBandHighlightOptions:()=>Xg,cartesianAxisCrosshairOptions:()=>Nl,cartesianAxisLabelOptionsDefs:()=>Kg,cartesianAxisOptionsDefs:()=>Oa,cartesianChartOptionsDefs:()=>jB,cartesianCrossLineOptionsDefs:()=>ha,cartesianNumericAxisLabel:()=>oT,cartesianTimeAxisLabel:()=>Qg,cartesianTimeAxisParentLevel:()=>V0,checkCrisp:()=>dB,chordSeriesThemeableOptionsDef:()=>pV,clampArray:()=>eg,clippedRoundRect:()=>ix,collapsedStartingBarPosition:()=>Gx,commonAxisIntervalOptionsDefs:()=>sT,commonAxisLabelOptionsDefs:()=>Na,commonAxisOptionsDefs:()=>du,commonChartOptionsDefs:()=>_e,commonCrossLineLabelOptionsDefs:()=>iu,commonCrossLineOptionsDefs:()=>Es,commonSeriesOptionsDefs:()=>Qo,commonSeriesThemeableOptionsDefs:()=>mt,compactAggregationIndices:()=>LT,compareDates:()=>GE,computeBarFocusBounds:()=>HT,computeMarkerFocusBounds:()=>K0,coneFunnelSeriesThemeableOptionsDef:()=>gV,continuousAxisOptions:()=>Ih,countExpandingSearch:()=>K2,createAggregationIndices:()=>OT,createButton:()=>YJ,createCheckbox:()=>ZJ,createDatumId:()=>va,createDeprecationWarning:()=>JT,createIcon:()=>YB,createIdsGenerator:()=>YE,createSelect:()=>qJ,createTextArea:()=>KJ,dateToNumber:()=>zr,dateTruncationForDomain:()=>UE,datesSortOrder:()=>$E,datumKeys:()=>wx,datumStylerProperties:()=>vl,deconstructSelectionsOrNodes:()=>a0,deepClone:()=>ln,deepFreeze:()=>ga,diff:()=>em,discreteTimeAxisIntervalOptionsDefs:()=>aT,drawCorner:()=>Lp,drawMarkerUnitPolygon:()=>Pp,durationDay:()=>nu,durationHour:()=>Kc,durationMinute:()=>hl,durationMonth:()=>FE,durationSecond:()=>Jd,durationWeek:()=>gF,durationYear:()=>ng,easing:()=>DC,enterpriseModule:()=>Sl,errorBarOptionsDefs:()=>L0,errorBarThemeableOptionsDefs:()=>Yg,estimateTickCount:()=>RF,evaluateBezier:()=>ih,expandLegendPosition:()=>dx,extent:()=>Ol,extractDecoratedProperties:()=>BP,fillsOptionsDef:()=>cg,findMinMax:()=>ii,findQuadtreeMatch:()=>Ux,findRangeExtent:()=>dh,fixNumericExtent:()=>Hr,focusCursorAtEnd:()=>U8,formatNumber:()=>k2,formatObjectValidator:()=>gj,formatPercent:()=>_2,formatValue:()=>ch,fromToMotion:()=>Bn,funnelSeriesThemeableOptionsDef:()=>mV,getAngleRatioRadians:()=>ZP,getColorStops:()=>e2,getCrossLineValue:()=>bF,getDateTicksForInterval:()=>WE,getDatumRefPoint:()=>_E,getElementBBox:()=>l2,getIconClassNames:()=>Jx,getLabelStyles:()=>Ts,getLastFocus:()=>r0,getMissCount:()=>aF,getPath:()=>aE,getPathComponents:()=>lF,getRadialColumnWidth:()=>HB,getSequentialColors:()=>Gr,getShapeFill:()=>eh,getShapeStyle:()=>Ns,groupAccumulativeValueProperty:()=>xl,groupAverage:()=>Sj,groupCount:()=>BC,groupStackValueProperty:()=>_j,groupSum:()=>xj,hasNoModifiers:()=>Sg,heatmapSeriesThemeableOptionsDef:()=>yV,initMenuKeyNav:()=>I2,initRovingTabIndex:()=>D2,interpolatePoints:()=>Bx,interpolationOptionsDefs:()=>R0,intervalCeil:()=>mF,intervalEpoch:()=>ig,intervalExtent:()=>jE,intervalFloor:()=>oo,intervalHierarchy:()=>rg,intervalMilliseconds:()=>nr,intervalNext:()=>vF,intervalPrevious:()=>yF,intervalRange:()=>fo,intervalRangeCount:()=>VE,intervalRangeStartIndex:()=>c0,intervalStep:()=>Il,intervalUnit:()=>ks,isAgStandaloneChartOptions:()=>$F,isAgTopologyChartOptions:()=>GF,isBetweenAngles:()=>$c,isButtonClickEvent:()=>i0,isChartAxisDirection:()=>yZ,isContinuous:()=>u0,isDecoratedObject:()=>qx,isDenseInterval:()=>ph,isGradientFill:()=>Wo,isGradientOrPatternFill:()=>F8,isImageFill:()=>eu,isInputPending:()=>c2,isObjectWithProperty:()=>UP,isObjectWithStringProperty:()=>d8,isPatternFill:()=>Dl,isProperties:()=>Zc,isScaleValid:()=>hg,jsonApply:()=>Hp,jsonDiff:()=>Da,jsonPropertyCompare:()=>u2,jsonWalk:()=>yl,keyProperty:()=>bl,legendSymbolSvg:()=>JF,lineDistanceSquared:()=>xx,linearGaugeSeriesOptionsDef:()=>Cl,linearGaugeSeriesThemeableOptionsDef:()=>Ox,linearGaugeTargetOptionsDef:()=>P0,listDecoratedProperties:()=>ml,lowestGranularityForInterval:()=>_g,lowestGranularityUnitForTicks:()=>HE,lowestGranularityUnitForValue:()=>f0,makeAccessibleClickListener:()=>wZ,makeSeriesTooltip:()=>vu,mapLineBackgroundSeriesThemeableOptionsDef:()=>xV,mapLineSeriesThemeableOptionsDef:()=>bV,mapMarkerSeriesThemeableOptionsDef:()=>SV,mapShapeBackgroundSeriesThemeableOptionsDef:()=>DV,mapShapeSeriesThemeableOptionsDef:()=>MV,mapValues:()=>HP,markerFadeInAnimation:()=>gg,markerOptionsDefs:()=>ka,markerScaleInAnimation:()=>aB,markerSwipeScaleInAnimation:()=>RT,memo:()=>Qp,merge:()=>qp,mergeArrayDefaults:()=>zP,mergeDefaults:()=>Dt,midpointStartingBarPosition:()=>e7,minimumTimeAxisDatumGranularity:()=>zj,moduleRegistry:()=>_s,motion:()=>oee,multiSeriesHighlightStyle:()=>kl,nearestSquared:()=>Zx,nearestSquaredInContainer:()=>a8,nextPowerOf2:()=>E9,nightingaleSeriesThemeableOptionsDef:()=>IV,normaliseGroupTo:()=>H0,normalisePropertyTo:()=>lx,normalisedExtentWithMetadata:()=>lT,normalizeAngle180:()=>bx,normalizeAngle360:()=>Nn,normalizeAngle360FromDegrees:()=>Sa,normalizeAngle360Inclusive:()=>v8,normalizeContinuousDomains:()=>kE,numberFormatValidator:()=>Ko,objectsEqual:()=>Un,objectsEqualWith:()=>sE,ohlcSeriesThemeableOptionsDef:()=>vV,ordinalTimeAxisOptionsDefs:()=>Zd,pairUpSpans:()=>Yp,partialAssign:()=>yC,pathFadeInAnimation:()=>zx,pathMotion:()=>jx,pathSwipeInAnimation:()=>PT,pick:()=>mC,pickByMatchingAngle:()=>TB,plotAreaPathFill:()=>iB,plotInterpolatedAreaSeriesFillSpans:()=>px,plotInterpolatedLinePathStroke:()=>fx,plotLinePathStroke:()=>ET,pointsEq:()=>fg,polarChartOptionsDefs:()=>VB,prepareAreaFillAnimationFns:()=>rB,prepareAreaPathAnimation:()=>oB,prepareAxisAnimationContext:()=>MF,prepareAxisAnimationFunctions:()=>DF,prepareBarAnimationFunctions:()=>$x,prepareLinePathAnimation:()=>nB,prepareLinePathPropertyAnimation:()=>AT,prepareLinePathStrokeAnimationFns:()=>TT,preparePieSeriesAnimationFunctions:()=>gx,previousPowerOf2:()=>wC,processedDataIsAnimatable:()=>Ch,pyramidSeriesThemeableOptionsDef:()=>wV,radarAreaSeriesThemeableOptionsDef:()=>CV,radarLineSeriesThemeableOptionsDef:()=>EV,radialBarSeriesThemeableOptionsDef:()=>TV,radialColumnSeriesThemeableOptionsDef:()=>AV,radialGaugeSeriesOptionsDef:()=>Zg,radialGaugeSeriesThemeableOptionsDef:()=>Lx,radialGaugeTargetOptionsDef:()=>F0,radiusCategoryAxisOptionsDefs:()=>Yj,radiusNumberAxisOptionsDefs:()=>Wj,range:()=>g0,rangeAreaSeriesThemeableOptionsDef:()=>_V,rangeBarSeriesThemeableOptionsDef:()=>kV,rangeValidator:()=>O0,rangedValueProperty:()=>Aj,resetAxisFillSelectionFn:()=>wF,resetAxisGroupFn:()=>IF,resetAxisLabelSelectionFn:()=>Ax,resetAxisLineSelectionFn:()=>OC,resetBarSelectionsFn:()=>yg,resetLabelFn:()=>yu,resetMarkerFn:()=>q0,resetMarkerPositionFn:()=>mg,resetMotion:()=>wi,resetPieSelectionsFn:()=>EB,rowCountProperty:()=>Ej,sankeySeriesThemeableOptionsDef:()=>NV,scale:()=>Pi,sectorBox:()=>wB,seriesLabelFadeInAnimation:()=>wn,seriesLabelFadeOutAnimation:()=>hx,seriesLabelOptionsDefs:()=>Ft,setElementBBox:()=>Mx,setPath:()=>cE,shadowOptionsDefs:()=>Ps,shallowClone:()=>gE,simpleMemorize:()=>Ii,simpleMemorize2:()=>Dg,singleSeriesHighlightStyle:()=>uj,solveBezier:()=>Sx,sortAndUniqueDates:()=>LC,splitBezier2D:()=>Kp,standaloneChartOptionsDefs:()=>nJ,staticFromToMotion:()=>Ea,stopPageScrolling:()=>w2,sum:()=>m6,sumValues:()=>z0,sunburstSeriesThemeableOptionsDef:()=>OV,textOrSegments:()=>rT,tickFormat:()=>OF,timeInterval:()=>j0,timeIntervalUnit:()=>qg,toDegrees:()=>b8,toRadians:()=>Ci,toolbarButtonOptionsDefs:()=>Yc,tooltipContentAriaLabel:()=>nj,tooltipHtml:()=>rj,tooltipOptionsDefs:()=>It,topologyChartOptionsDefs:()=>tJ,trailingAccumulatedValue:()=>Dj,trailingAccumulatedValueProperty:()=>S6,treemapSeriesThemeableOptionsDef:()=>LV,updateClipPath:()=>Hx,updateLabelNode:()=>zV,validateCrossLineValue:()=>xF,valueProperty:()=>Kt,visibleRangeIndices:()=>q2,waterfallSeriesThemeableOptionsDef:()=>RV,without:()=>ee});function JT(){return(e,t)=>{let n=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");P.warnOnce(n)}}function xJ(e,t){let n=JT(),i=t?.default;return Jc((r,o,s)=>(s!==i&&n(o.toString(),e),s))}function SJ(e,t){let n=JT();return Jc((i,r,o)=>(o!==i[e]&&(n(r.toString(),`Use [${e}] instead.`),cE(i,e,t?t(o):o)),gC),(i,r)=>(n(r.toString(),`Use [${e}] instead.`),aE(i,e)))}var Kd={add:MJ,angle:TJ,apply:FJ,equal:RJ,distance:wJ,distanceSquared:CJ,from:PJ,gradient:_J,intercept:kJ,intersectAtX:OJ,intersectAtY:NJ,length:tA,lengthSquared:IJ,multiply:DJ,normalized:EJ,origin:$B,required:jJ,rotate:AJ,round:LJ,sub:eA};function MJ(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function eA(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function DJ(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function tA(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function IJ(e){return e.x*e.x+e.y*e.y}function wJ(e,t){let n=eA(e,t);return Math.sqrt(n.x*n.x+n.y*n.y)}function CJ(e,t){let n=eA(e,t);return n.x*n.x+n.y*n.y}function EJ(e){let t=tA(e);return{x:e.x/t,y:e.y/t}}function TJ(e,t){return t==null?Math.atan2(e.y,e.x):Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function AJ(e,t,n=$B()){let i=tA(e);return{x:n.x+i*Math.cos(t),y:n.y+i*Math.sin(t)}}function _J(e,t,n){let i=t.x-e.x;return(n==null?t.y-e.y:n-t.y-(n-e.y))/i}function kJ(e,t,n){return(n==null?e.y:n-e.y)-t*e.x}function NJ(e,t,n=0,i){return{x:e===1/0?1/0:(n-t)/e,y:i==null?n:i-n}}function OJ(e,t,n=0,i){let r=e===1/0?1/0:e*n+t;return{x:n,y:i==null?r:i-r}}function LJ(e,t=2){return{x:ww(e.x,t),y:ww(e.y,t)}}function RJ(e,t){return e.x===t.x&&e.y===t.y}function PJ(e,t){if(typeof e=="number")return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)}function FJ(e,t){return e.x=t.x,e.y=t.y,e}function jJ(e){return{x:e?.x??0,y:e?.y??0}}function $B(){return{x:0,y:0}}var VJ=(()=>{let e=class yx{constructor(n,i,r,o,s,a,l,c,u){this.series=n,this.datumIndex=i,this.datum=r,this.sizeValue=o,this.colorValue=s,this.sumSize=a,this.depth=l,this.parent=c,this.children=u,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(n,i=yx.Walk.PreOrder){i===yx.Walk.PreOrder&&n(this),this.children.forEach(r=>{r.walk(n,i)}),i===yx.Walk.PostOrder&&n(this)}*[Symbol.iterator](){yield this;for(let n of this.children)yield*Du(n)}};return e.Walk={PreOrder:0,PostOrder:1},e})(),BJ=VJ,zJ=class extends S0{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new yh,this.animationState=new wg("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){let{NodeClass:e}=this,{childrenKey:t,sizeKey:n,colorKey:i,colorRange:r}=this.properties,o=0,s=1/0,a=-1/0,l=(h,f,p)=>{let m=p.depth!=null?p.depth+1:0,b=t!=null?h[t]:void 0,v=b==null||b.length===0,x=n!=null?h[n]:void 0;Number.isFinite(x)?x=Math.max(x,0):x=v?1:0;let M=x;o=Math.max(o,m);let D=i!=null?h[i]:void 0;return typeof D=="number"&&(s=Math.min(s,D),a=Math.max(a,D)),c(new e(this,f,h,x,D,M,m,p,[]),b)},c=(h,f)=>{let{datumIndex:p}=h;return f?.forEach((m,b)=>{let v=l(m,p.concat(b),h);h.children.push(v),h.sumSize+=v.sumSize}),h},u=c(new e(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),d=[s,a];this.colorScale.domain=s<a?[s,a]:[0,1],this.colorScale.range=r??["black"],this.colorScale.update(),this.rootNode=u,this.maxDepth=o,this.colorDomain=d}update({seriesRect:e}){this.updateSelections(),this.updateNodes();let t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}dataCount(){return NaN}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){let{colorKey:t,colorRange:n}=this.properties,{id:i,ctx:{legendManager:r},visible:o}=this;return e==="gradient"&&t!=null&&n!=null?[{legendType:"gradient",enabled:o&&r.getItemEnabled({seriesId:i}),seriesId:i,series:this.getFormatterContext("color"),colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){return this.datumSelection.at(e+1)?.datum.datumIndex??[]}removeMeIndexForIndexPath(e){for(let{index:t,datum:n}of this.datumSelection)if(dr(n.datumIndex,e))return t-1;return 0}pickFocus(e){if(!this.rootNode?.children.length)return;let t=se(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:n,otherIndexDelta:i}=e,r=this.removeMeIndexPathForIndex(t),o=r.reduce((l,c)=>l.children[c],this.rootNode);if(i>0&&o.hasChildren)r=[...r,0];else if(i<0&&r.length>1)r=r.slice(0,-1);else if(i===0&&n!==0){let l=o.parent.children.length-1;r=r.slice(),r[r.length-1]=se(0,r[r.length-1]+n,l)}let s=r.reduce((l,c)=>l.children[c],this.rootNode),a=this.computeFocusBounds(this.datumSelection.at(t+1));if(a!=null)return{datum:s,datumIndex:this.removeMeIndexForIndexPath(r),otherIndex:s.depth,bounds:a,clipFocusBox:!0}}getDatumAriaText(e,t){if(!(e instanceof this.NodeClass)){P.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}getCategoryValue(e){}datumIndexForCategoryValue(e){}},es=class extends yo{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(kn),this.fillGradientDefaults=new mo,this.fillPatternDefaults=new rn,this.fillImageDefaults=new xr,this.strokes=Object.values(da)}};y([S],es.prototype,"childrenKey",2);y([S],es.prototype,"sizeKey",2);y([S],es.prototype,"colorKey",2);y([S],es.prototype,"colorName",2);y([S],es.prototype,"fills",2);y([S],es.prototype,"fillGradientDefaults",2);y([S],es.prototype,"fillPatternDefaults",2);y([S],es.prototype,"fillImageDefaults",2);y([S],es.prototype,"strokes",2);y([S],es.prototype,"colorRange",2);var HJ=class WB{constructor(t,n,i,r){this.lon0=t,this.lat0=n,this.lon1=i,this.lat1=r}extend(t,n,i,r){return this.lon0=Math.min(this.lon0,t),this.lat0=Math.min(this.lat0,n),this.lon1=Math.max(this.lon1,i),this.lat1=Math.max(this.lat1,r),this}merge(t){return this.extend(t.lon0,t.lat0,t.lon1,t.lat1)}static extend(t,n,i,r,o){return t?t.extend(n,i,r,o):new WB(n,i,r,o)}},J0=Math.PI/180,dC=e=>e*J0,hC=e=>-Math.log(Math.tan(Math.PI*.25+e*J0*.5)),fC=e=>e/J0,pC=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(J0*.5),UJ=class iE extends Qx{constructor(t,n){super(),this.domain=t,this.range=n,this.type="mercator",this.defaultTickCount=0,this.bounds=iE.bounds(t)}static bounds(t){let[[n,i],[r,o]]=t,s=dC(n),a=hC(i),l=dC(r),c=hC(o);return new re(Math.min(s,l),Math.min(a,c),Math.abs(l-s),Math.abs(c-a))}static fixedScale(){return new iE([[fC(0),pC(0)],[fC(1),pC(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...t){let n=-1/0,i=1/0,r=-1/0,o=1/0;for(let s of t)for(let[a,l]of s)n=Math.min(a,n),i=Math.max(a,i),r=Math.min(l,r),o=Math.max(l,o);return{domain:[[n,r],[i,o]],animatable:!0}}convert([t,n]){let[[i,r],[o,s]]=this.range,a=(o-i)/this.bounds.width,l=(s-r)/this.bounds.height;return[(dC(t)-this.bounds.x)*a+i,(hC(n)-this.bounds.y)*l+r]}invert([t,n]){let[[i,r],[o,s]]=this.range,a=(o-i)/this.bounds.width,l=(s-r)/this.bounds.height;return[fC((t-i)/a+this.bounds.x),pC((n-r)/l+this.bounds.y)]}},GJ={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},$J={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function WJ({yDirection:e,padding:t=0,position:n="top",bbox:i}){let r=e?GJ:$J,{xTranslationDirection:o,yTranslationDirection:s}=r[n],a=o*(t+i.width/2),l=s*(t+i.height/2);return{xTranslation:a,yTranslation:l}}function YJ(e,t){let n=fe("button",eS("ag-charts-input ag-charts-button",t));return e.label!==void 0?n.append(e.label):(n.append(YB(e.icon)),n.ariaLabel=e.altText),n.addEventListener("click",e.onPress),ol(n,t),n}function ZJ(e,t){let n=fe("input",eS("ag-charts-input ag-charts-checkbox",t));return n.type="checkbox",n.checked=e.checked,n.addEventListener("change",i=>e.onChange(n.checked,i)),n.addEventListener("keydown",i=>{i0(i)&&(i.preventDefault(),n.click())}),ol(n,t),n}function qJ(e,t){let n=fe("select",eS("ag-charts-input ag-charts-select",t));return n.append(...e.options.map(i=>{let r=fe("option");return r.value=i.value,r.textContent=i.label,r})),Ee(n,"data-preventdefault",!1),n.value=e.value,n.addEventListener("change",i=>e.onChange(n.value,i)),ol(n,t),n}function KJ(e,t){let n=fe("textarea",eS("ag-charts-input ag-charts-textarea",t));return n.value=e.value,n.addEventListener("input",i=>e.onChange(n.value,i)),ol(n,t),Ee(n,"data-preventdefault",!1),n}function YB(e){let t=fe("span",`ag-charts-icon ag-charts-icon-${e}`);return Ee(t,"aria-hidden",!0),t}function eS(e,t){return t==null?e:`${e} ${t.class}`}var ZB=class extends ir{constructor(e=""){super(),this._d="",this.d=e}get d(){return this._d}set d(e){e!==this._d&&(this._d=e,this.path.clear(),this.path.appendSvg(e),this.checkPathDirty())}},QJ=class extends bh(ZB){isPointInPath(e,t){return super.isPointInPath(e-this.translationX,t-this.translationY)}},Vh=class extends xa{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){let{ctx:t}=e,n=this.sourceImage;n&&(t.globalAlpha=this.opacity,t.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height)),super.render(e)}};y([Y()],Vh.prototype,"x",2);y([Y()],Vh.prototype,"y",2);y([Y()],Vh.prototype,"width",2);y([Y()],Vh.prototype,"height",2);y([Y()],Vh.prototype,"opacity",2);var XJ={};Ls(XJ,{ButtonWidget:()=>Mg,MenuItemWidget:()=>nA,MenuWidget:()=>qB,NativeWidget:()=>lh,SliderWidget:()=>CE,ToolbarWidget:()=>o0,WIDGET_HTML_EVENTS:()=>mE,Widget:()=>Rs,WidgetEventUtil:()=>ma});var nA=class extends A2{constructor(){super(fe("div"),"menuitem")}},JJ=["Escape","ArrowLeft"],qB=class KB extends wE{constructor(t="vertical"){super(t,"menu"),this.closeSubMenu=n=>this.openSubMenu(n,void 0)}destructor(){this.selfClose("2")}addSeparator(){let t=ki().createElement("div");return Ee(t,"role","separator"),this.elem.appendChild(t),t}onChildAdded(t){super.onChildAdded(t),t.hasPopup()||t.addListener("mouseenter",this.closeSubMenu)}onChildRemoved(t){super.onChildRemoved(t),t.hasPopup()||t.removeListener("mouseenter",this.closeSubMenu)}addSubMenu(){let t=new nA,n=_c(),i=new KB(this.orientation),r=s=>{t.isDisabled()||this.openSubMenu(s,i)},o=s=>{Sg(s.sourceEvent)&&s.sourceEvent.code==="ArrowRight"&&r(s)};return t.setAriaHasPopup("menu"),t.setAriaExpanded(!1),t.setAriaControls(n),t.addListener("click",r),t.addListener("mouseenter",r),t.addListener("keydown",o),i.addListener("close-widget",()=>t.setAriaExpanded(!1)),i.addListener("open-widget",()=>t.setAriaExpanded(!0)),i.id=n,this.addChild(t),{subMenuButton:t,subMenu:i}}openSubMenu(t,n){let{openScope:i}=this;i&&(i.openSubMenu?.selfClose("4"),n?.open(t),i.openSubMenu=n)}open(t,n){if(this.openScope!=null)return;this.openScope={lastFocus:r0(t.sourceEvent),openSubMenu:void 0,abort:()=>this.selfClose("1"),close:()=>this.selfClose("0"),removers:new Be};let i=this.openScope,r=this.children.map(o=>o.getElement());Ee(i.lastFocus,"aria-expanded",!0),i.removers.register(ME(this.elem,i.abort),DE(this.elem,i.abort),...this.children.map(o=>t0(o.getElement(),i.close,JJ)),n?.overrideFocusVisible&&IE(this.elem,r,n.overrideFocusVisible)),this.internalListener?.dispatch("open-widget",this,{type:"open-widget"}),this.children[0]?.focus({preventScroll:!0})}selfClose(t){if(this.openScope===void 0)return;let{lastFocus:n,removers:i,openSubMenu:r}=this.openScope;this.openScope=void 0,r?.selfClose("3"),Ee(n,"aria-expanded",!1),t==="0"&&n?.focus({preventScroll:!0}),i.flush(),this.internalListener?.dispatch("close-widget",this,{type:"close-widget"})}close(){this.selfClose("0")}},LP="canvas-overlay",iA=class extends Wx{constructor(e,t,n){super(),this.ctx=e,this.hideFns=[],this.moduleId=`popover-${t}`,n?.detached?this.element=fe("div"):this.element=e.domManager.addChild(LP,this.moduleId),this.element.setAttribute("role","presentation"),this.cleanup.register(()=>e.domManager.removeChild(LP,this.moduleId))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){let{lastFocus:t=this.lastFocus}=e??{};this.element.children.length!==0&&(this.hideFns.forEach(n=>n()),t?.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");let n=fe("div","ag-charts-popover");if(t.ariaLabel!=null&&n.setAttribute("aria-label",t.ariaLabel),t.class!=null&&n.classList.add(t.class),n.replaceChildren(...e),this.element.replaceChildren(n),this.hideFns.push(()=>this.removeChildren()),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){let i=r0(t.sourceEvent);i!==void 0&&(this.lastFocus=i,this.initialFocus=t.initialFocus)}return n}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){let t=this.getPopoverElement();t&&(t.style.setProperty("right","unset"),t.style.setProperty("bottom","unset"),e.x!=null&&t.style.setProperty("left",`${Math.floor(e.x)}px`),e.y!=null&&t.style.setProperty("top",`${Math.floor(e.y)}px`),this.initialFocus?.focus(),this.initialFocus=void 0)}},QB=class extends iA{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){let n=t.anchor??this.anchor,i=t.fallbackAnchor??this.fallbackAnchor,r=super.showWithChildren(e,t);return n&&this.setAnchor(n,i),Ce().requestAnimationFrame(()=>{this.repositionWithinBounds()}),r}repositionWithinBounds(){let{anchor:e,ctx:t,fallbackAnchor:n}=this,i=this.getPopoverElement();if(!e||!i)return;let r=t.domManager.getBoundingClientRect(),{offsetWidth:o,offsetHeight:s}=i,a=se(0,e.x,r.width-o),l=se(0,e.y,r.height-s);a!==e.x&&n?.x!=null&&(a=se(0,n.x-o,r.width-o)),l!==e.y&&n?.y!=null&&(l=se(0,n.y-s,r.height-s)),this.updatePosition({x:a,y:l})}},eee=class extends QB{show(e){let t=e.items.map(i=>this.createRow(e,i)),n=this.showWithChildren(t,e);n.classList.add("ag-charts-menu"),n.setAttribute("role","menu"),this.menuCloser=I2({orientation:"vertical",menu:n,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{this.menuCloser?.finishClosing(),this.menuCloser=void 0})}createRow(e,t){let{menuItemRole:n="menuitem"}=e,i=t.value===e.value,r=fe("div","ag-charts-menu__row");if(r.setAttribute("role",n),n==="menuitemradio"&&r.setAttribute("aria-checked",(e.value===t.value).toString()),typeof t.value=="string"&&(r.dataset.popoverId=t.value),r.classList.toggle("ag-charts-menu__row--active",i),t.icon!=null){let l=fe("span",`ag-charts-menu__icon ${Jx(t.icon)}`);r.appendChild(l)}let o=t.strokeWidth!=null;if(o&&(r.classList.toggle("ag-charts-menu__row--stroke-width-visible",o),r.style.setProperty("--strokeWidth",o?`${t.strokeWidth}px`:null)),t.label!=null){let l=fe("span","ag-charts-menu__label");l.textContent=this.ctx.localeManager.t(t.label),r.appendChild(l)}"altText"in t&&(r.ariaLabel=this.ctx.localeManager.t(t.altText));let s=()=>{e.onPress?.(t)},a=l=>{i0(l)&&(s(),l.preventDefault(),l.stopPropagation())};return r.addEventListener("keydown",a),r.addEventListener("click",a),r.addEventListener("mousemove",()=>{r.focus({preventScroll:!0})}),r}},XB=class extends iA{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){let t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:Kd.from(e.clientX,e.clientY),position:Kd.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){let{dragStartState:t}=this,n=this.getPopoverElement();if(!t||!n)return;let i=Kd.sub(Kd.from(e.clientX,e.clientY),t.client),r=Kd.add(t.position,i),o=this.ctx.domManager.getBoundingClientRect(),s={};r.x>=0&&r.x+n.offsetWidth<=o.width&&(s.x=r.x),r.y>=0&&r.y+n.offsetHeight<=o.height&&(s.y=r.y),this.updatePosition(s)}onDragEnd(){this.dragStartState=void 0}},rm=class extends Te{};y([S],rm.prototype,"icon",2);y([S],rm.prototype,"label",2);y([S],rm.prototype,"ariaLabel",2);y([S],rm.prototype,"tooltip",2);var JB=class extends Mg{constructor(e){super(),this.localeManager=e}update(e){let{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let n="";if(e.icon!=null&&(n=`<span class="${Jx(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){let i=t.t(e.label);n=`${n}<span class="ag-charts-toolbar__label">${i}</span>`}this.elem.innerHTML=n}setChecked(e){Ee(this.elem,"aria-checked",e)}},RP="ag-charts-toolbar__button--active",rA=class extends o0{constructor({eventsHub:e,localeManager:t},n,i){super(i),this.ariaLabelId=n,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new L2,this.hasPrefix=!1,this.buttonWidgets=[],this.updateAriaLabel=()=>this.setAriaLabel(this.localeManager.t(this.ariaLabelId)),this.eventsHub=e,this.localeManager=t,this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",i==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",i==="vertical"),this.eventsHub.on("locale:change",this.updateAriaLabel),this.updateAriaLabel()}setAriaLabelId(e){this.ariaLabelId=e,this.updateAriaLabel()}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){for(let e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){let{buttonWidgets:t}=this;for(let[n,i]of e.entries())(this.buttonWidgets.at(n)??this.createButton(n,i)).update(i);for(let n=e.length;n<t.length;n++)this.buttonWidgets.at(n)?.destroy();this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){this.buttonWidgets.at(e)?.update(t)}clearActiveButton(){for(let e of this.buttonWidgets)e.toggleClass(RP,!1)}toggleActiveButtonByIndex(e){if(e!==-1)for(let[t,n]of this.buttonWidgets.entries())n.toggleClass(RP,e!=null&&e===t)}toggleButtonEnabledByIndex(e,t){e!==-1&&this.buttonWidgets.at(e)?.setEnabled(t)}toggleSwitchCheckedByIndex(e,t){e!==-1&&this.buttonWidgets.at(e)?.setChecked(t)}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){this.buttonWidgets.at(e)?.setHidden(t)}getButtonWidgetBounds(e){let t=this.getBounds(),n=e.getBounds();return new re(n.x+t.x,n.y+t.y,n.width,n.height)}refreshButtonClasses(){let{buttonWidgets:e,hasPrefix:t}=this,n,i,r;for(let[o,s]of e.entries())n=!t&&o===0||r!=s.section,i=o===e.length-1||s.section!=e.at(o+1)?.section,s.toggleClass("ag-charts-toolbar__button--first",n),s.toggleClass("ag-charts-toolbar__button--last",i),s.toggleClass("ag-charts-toolbar__button--gap",o>0&&n),r=s.section}createButton(e,t){let n=this.createButtonWidget();return n.addClass("ag-charts-toolbar__button"),n.addListener("click",i=>{let r=g({index:e},t instanceof Te?t.toJson():t),o=this.getButtonWidgetBounds(n);this.events.dispatch("button-pressed",{event:i,button:r,buttonBounds:o})}),n.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:e}})}),t.section&&(n.section=t.section),this.buttonWidgets.push(n),this.addChild(n),n}},tee=class extends rA{createButtonWidget(){return new JB(this.localeManager)}},nee=class extends XB{constructor(e,t,n){super(e,t),this.onPopoverMoved=n,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e,t={}){this.showWithChildren(e,I(g({},t),{class:"ag-charts-floating-toolbar"}))}hide(){this.dragged=!1,super.hide()}getBounds(){let e=this.getPopoverElement();return new re(e?.offsetLeft??0,e?.offsetTop??0,e?.offsetWidth??0,e?.offsetHeight??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,n){let i=this.getPopoverElement();if(!i)return;let r=e.position??"above",{offsetWidth:o,offsetHeight:s}=i,a=e.y-s-n,l=e.x-o/2;r==="below"?a=e.y+n:r==="right"?(a=e.y-s/2,l=e.x+t):r==="above-left"&&(l=e.x),this.updatePosition({x:l,y:a})}ignorePointerEvents(){let e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){let e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){let t=this.getBounds(),n=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(se(0,e.x,n.width-t.width)),e.y=Math.floor(se(0,e.y,n.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},iee=class extends rA{constructor(e,t,n){super(e,t,"horizontal"),this.hasPrefix=!0,this.popover=new nee(e,n,this.onPopoverMoved.bind(this)),this.dragHandle=new ree(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}destroy(){super.destroy(),this.popover.destroy()}show(e={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){let e=this.popover.getBounds();if(this.popoverBounds?.equals(e))return;this.popoverBounds=e.clone();let t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){let t=this.popover.getBounds(),n=super.getButtonWidgetBounds(e),i=this.dragHandle.getBounds();return new re(n.x+t.x-i.width,n.y+t.y,n.width,n.height)}},ree=class extends lh{constructor(e){super(fe("div","ag-charts-floating-toolbar__drag-handle"));let t=new lh(fe("span",`${Jx("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},oee=g(g({},hF),fF),PSe={VERSION:sh,_Scene:zB,_Theme:UB,_Util:GB,create:gl.create.bind(gl),createSparkline:gl.__createSparkline.bind(gl),setup:OB,isEnterprise:!1};var see=(()=>{class e{chart;_nativeElement;_initialised=!1;ngZone;ngAfterViewInit(){let n=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>this.createChart(n)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(n){this.runOutsideAngular(()=>{!this._initialised||!this.chart||this.chart.update(this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(n){let i=r=>{let o=r??{};for(let s of Object.keys(o)){let a=o[s];typeof a=="function"&&(o[s]=(...l)=>{this.runInsideAngular(()=>a(...l))})}};return i(n?.legend?.listeners),i(n?.listeners),n.series?.forEach(r=>{i(r.listeners)}),n.container?n:I(g({},n),{container:this._nativeElement})}runOutsideAngular(n){return this.ngZone?this.ngZone.runOutsideAngular(n):n()}runInsideAngular(n){return this.ngZone?this.ngZone.run(n):n()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ne({type:e,selectors:[["ng-component"]],standalone:!1,features:[Qs],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return e})(),ez=(()=>{class e extends see{ngZone;options={};onChartReady=new Yt;constructor(n,i){super(),this.ngZone=i,this._nativeElement=n.nativeElement}createChart(n){return gl.create(n)}static \u0275fac=function(i){return new(i||e)(ue(an),ue(tt))};static \u0275cmp=ne({type:e,selectors:[["ag-charts"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},features:[Kn],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return e})();var oA=[{id:"692a9b43-8485-4c99-8a9f-6fb7c4401b03",itemName:"Hammer",new:18,used:9,refurb:2,activeOrders:3,expectedDate:"18.03.1998",pickedQuantity:6,location:7,maxQuantity:180,orderPoint:98,minQuantity:0,criticalLevel:1,expectFromOrders:81,forService:3,missingToMax:72,state:!0},{id:"d1a17f32-bc9e-4a3c-9a8a-53f7d211f111",itemName:"Screwdriver",new:40,used:15,refurb:4,activeOrders:1,expectedDate:"05.04.2023",pickedQuantity:8,location:12,maxQuantity:120,orderPoint:50,minQuantity:10,criticalLevel:5,expectFromOrders:20,forService:2,missingToMax:61,state:!0},{id:"8c29f211-feb4-4597-8700-2cc4c0c7a8f4",itemName:"Wrench",new:22,used:7,refurb:1,activeOrders:0,expectedDate:"12.06.2024",pickedQuantity:4,location:3,maxQuantity:80,orderPoint:30,minQuantity:5,criticalLevel:2,expectFromOrders:0,forService:1,missingToMax:46,state:!0},{id:"aa2f129d-8df9-42a1-90b6-d91e1ff96bcf",itemName:"Drill",new:12,used:4,refurb:3,activeOrders:2,expectedDate:"20.09.2024",pickedQuantity:5,location:8,maxQuantity:60,orderPoint:25,minQuantity:3,criticalLevel:1,expectFromOrders:10,forService:2,missingToMax:34,state:!0},{id:"42be3a2c-15ff-4c99-a56d-91d6117c420d",itemName:"Saw",new:15,used:6,refurb:2,activeOrders:1,expectedDate:"01.11.2024",pickedQuantity:3,location:15,maxQuantity:70,orderPoint:28,minQuantity:4,criticalLevel:2,expectFromOrders:5,forService:1,missingToMax:44,state:!0},{id:"ce8490b7-3e55-4e44-a2c4-f0f4ff9c78f1",itemName:"Chisel",new:25,used:10,refurb:0,activeOrders:0,expectedDate:"10.01.2025",pickedQuantity:7,location:5,maxQuantity:90,orderPoint:40,minQuantity:6,criticalLevel:3,expectFromOrders:0,forService:1,missingToMax:48,state:!0},{id:"6a0c22c4-524a-4b28-9aa6-5df07b9d5c3e",itemName:"Pliers",new:30,used:8,refurb:1,activeOrders:2,expectedDate:"15.07.2023",pickedQuantity:10,location:9,maxQuantity:100,orderPoint:45,minQuantity:8,criticalLevel:4,expectFromOrders:15,forService:2,missingToMax:49,state:!0},{id:"1f0f60d1-8cb7-4f1b-9415-c6358f23aa5f",itemName:"Measuring Tape",new:20,used:5,refurb:0,activeOrders:1,expectedDate:"02.03.2025",pickedQuantity:2,location:10,maxQuantity:60,orderPoint:20,minQuantity:3,criticalLevel:1,expectFromOrders:5,forService:0,missingToMax:33,state:!0},{id:"ab7c5d3f-9a7e-4b2c-8d85-72f6c5a5c92b",itemName:"Level",new:14,used:3,refurb:2,activeOrders:0,expectedDate:"11.08.2024",pickedQuantity:4,location:6,maxQuantity:50,orderPoint:18,minQuantity:2,criticalLevel:1,expectFromOrders:0,forService:1,missingToMax:27,state:!0},{id:"d7f4baf4-c7f0-4db3-9c1a-84ad1f991f55",itemName:"Utility Knife",new:28,used:6,refurb:1,activeOrders:1,expectedDate:"07.05.2024",pickedQuantity:6,location:2,maxQuantity:85,orderPoint:32,minQuantity:5,criticalLevel:2,expectFromOrders:8,forService:1,missingToMax:44,state:!0},{id:"e8b3b341-1f1b-41c2-a80a-8c5aef15f001",itemName:"Clamp",new:16,used:4,refurb:0,activeOrders:0,expectedDate:"22.10.2024",pickedQuantity:3,location:13,maxQuantity:55,orderPoint:22,minQuantity:3,criticalLevel:1,expectFromOrders:0,forService:0,missingToMax:32,state:!0},{id:"f9d53b19-0a54-41b6-bc23-2c38c59ab2f1",itemName:"Sander",new:10,used:5,refurb:2,activeOrders:1,expectedDate:"09.12.2024",pickedQuantity:2,location:11,maxQuantity:45,orderPoint:15,minQuantity:2,criticalLevel:1,expectFromOrders:7,forService:1,missingToMax:27,state:!0},{id:"c5c5ef7d-6a36-4451-a49c-26fcfc2f7a44",itemName:"Paintbrush",new:35,used:12,refurb:0,activeOrders:2,expectedDate:"16.02.2024",pickedQuantity:5,location:4,maxQuantity:110,orderPoint:45,minQuantity:7,criticalLevel:3,expectFromOrders:18,forService:2,missingToMax:58,state:!0},{id:"3d3c0e8a-8c1c-4f07-9d7a-823d7a4d6f61",itemName:"Paint Roller",new:22,used:9,refurb:1,activeOrders:1,expectedDate:"19.06.2023",pickedQuantity:7,location:14,maxQuantity:95,orderPoint:38,minQuantity:6,criticalLevel:2,expectFromOrders:12,forService:1,missingToMax:56,state:!0},{id:"5f3ef812-1a6a-4231-9b47-f2dcb05a2bc7",itemName:"Safety Glasses",new:50,used:20,refurb:0,activeOrders:3,expectedDate:"23.01.2025",pickedQuantity:10,location:16,maxQuantity:150,orderPoint:60,minQuantity:15,criticalLevel:5,expectFromOrders:25,forService:3,missingToMax:70,state:!0},{id:"7a16c4f3-1f23-4a4f-bb87-8ef0e0d8a2d1",itemName:"Work Gloves",new:60,used:18,refurb:0,activeOrders:4,expectedDate:"29.04.2025",pickedQuantity:12,location:17,maxQuantity:160,orderPoint:65,minQuantity:20,criticalLevel:6,expectFromOrders:30,forService:4,missingToMax:70,state:!0},{id:"8f5c4d92-712f-4ab1-b3ff-4d1e83f202c2",itemName:"Hard Hat",new:45,used:10,refurb:2,activeOrders:1,expectedDate:"08.08.2023",pickedQuantity:9,location:18,maxQuantity:130,orderPoint:55,minQuantity:12,criticalLevel:4,expectFromOrders:15,forService:2,missingToMax:64,state:!0},{id:"9cfe71d4-11b2-4a59-9220-b231f40b22cd",itemName:"Ladder",new:8,used:3,refurb:1,activeOrders:0,expectedDate:"30.09.2024",pickedQuantity:1,location:19,maxQuantity:25,orderPoint:10,minQuantity:2,criticalLevel:1,expectFromOrders:0,forService:1,missingToMax:13,state:!0},{id:"b7ac5e43-45d4-4b26-9d8b-3c9f5af45e02",itemName:"Toolbox",new:12,used:6,refurb:0,activeOrders:1,expectedDate:"14.11.2023",pickedQuantity:2,location:20,maxQuantity:40,orderPoint:15,minQuantity:3,criticalLevel:2,expectFromOrders:5,forService:1,missingToMax:22,state:!0}],sA=[{id:"0c8d5f12-5a74-4f20-99d5-6a1d23e4b1a1",itemName:"Excavator",new:5,used:2,refurb:1,activeOrders:1,expectedDate:"15.02.2025",pickedQuantity:1,location:21,maxQuantity:15,orderPoint:5,minQuantity:1,criticalLevel:1,expectFromOrders:2,forService:1,missingToMax:7,state:!1},{id:"f18d2d4a-2af1-42c6-8f2d-1e3f62e812c3",itemName:"Bulldozer",new:3,used:1,refurb:0,activeOrders:2,expectedDate:"30.03.2025",pickedQuantity:1,location:22,maxQuantity:10,orderPoint:4,minQuantity:1,criticalLevel:1,expectFromOrders:3,forService:1,missingToMax:6,state:!0},{id:"c29a8df7-1c6a-4c8d-8d59-5b0d3d223c11",itemName:"Forklift",new:12,used:4,refurb:1,activeOrders:1,expectedDate:"10.04.2025",pickedQuantity:2,location:23,maxQuantity:25,orderPoint:8,minQuantity:2,criticalLevel:2,expectFromOrders:5,forService:2,missingToMax:10,state:!0},{id:"d4f729a1-50c6-4f12-9c75-3e4e0a24f9b7",itemName:"Mobile Crane",new:2,used:1,refurb:0,activeOrders:0,expectedDate:"25.06.2025",pickedQuantity:1,location:24,maxQuantity:6,orderPoint:2,minQuantity:1,criticalLevel:1,expectFromOrders:0,forService:1,missingToMax:3,state:!0},{id:"e5a0c921-8d64-4010-9b8c-7d902f7a6e42",itemName:"Backhoe Loader",new:6,used:3,refurb:1,activeOrders:1,expectedDate:"08.05.2025",pickedQuantity:2,location:25,maxQuantity:20,orderPoint:7,minQuantity:2,criticalLevel:2,expectFromOrders:4,forService:1,missingToMax:10,state:!0},{id:"fa4e66c5-02bb-4f55-a9f0-1d6d2e9f3b44",itemName:"Road Roller",new:4,used:1,refurb:0,activeOrders:1,expectedDate:"01.07.2025",pickedQuantity:1,location:26,maxQuantity:12,orderPoint:4,minQuantity:1,criticalLevel:1,expectFromOrders:2,forService:1,missingToMax:6,state:!0},{id:"b83d12f7-7051-4c3a-92fb-0a7f31a2c52e",itemName:"Dump Truck",new:8,used:3,refurb:1,activeOrders:2,expectedDate:"20.09.2025",pickedQuantity:3,location:27,maxQuantity:18,orderPoint:6,minQuantity:2,criticalLevel:2,expectFromOrders:4,forService:2,missingToMax:6,state:!0},{id:"9d2b77a1-bf83-48f1-92a5-5f8b7c95f411",itemName:"Skid-Steer Loader",new:7,used:2,refurb:1,activeOrders:1,expectedDate:"11.11.2025",pickedQuantity:2,location:28,maxQuantity:15,orderPoint:5,minQuantity:2,criticalLevel:1,expectFromOrders:3,forService:1,missingToMax:5,state:!0},{id:"a45f1b21-8f4d-4f5a-9d32-6f03e8ac5411",itemName:"Concrete Mixer Truck",new:5,used:2,refurb:1,activeOrders:0,expectedDate:"05.12.2025",pickedQuantity:1,location:29,maxQuantity:12,orderPoint:4,minQuantity:1,criticalLevel:1,expectFromOrders:0,forService:1,missingToMax:5,state:!0},{id:"f62c7db2-2c4a-4265-841f-13b4e20f113f",itemName:"Motor Grader",new:3,used:1,refurb:0,activeOrders:1,expectedDate:"17.01.2026",pickedQuantity:1,location:30,maxQuantity:9,orderPoint:3,minQuantity:1,criticalLevel:1,expectFromOrders:2,forService:1,missingToMax:4,state:!0}];var Vl=class e{get getToolsData(){return oA}addNewTool(t){oA.push(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var Bl=class e{get getMachinesData(){return sA}addNewTool(t){sA.push(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var tS=class e{constructor(t,n){this.toolsService=t;this.machinesService=n}get getAllItems(){return[...this.toolsService.getToolsData,...this.machinesService.getMachinesData]}get getAllQuantitiesPerItemType(){return[{name:"Tools",quantity:this.toolsService.getToolsData.length},{name:"Machines",quantity:this.machinesService.getMachinesData.length}]}get getFunctioningVersusInServiceMachines(){let t=0;this.machinesService.getMachinesData.forEach(i=>{t+=i.new,t+=i.used,t+=i.refurb});let n=0;return this.machinesService.getMachinesData.forEach(i=>{n+=i.forService}),[{name:"Functional",quantity:t},{name:"Needing Service",quantity:n}]}get getFunctioningVersusInServiceTools(){let t=0;this.toolsService.getToolsData.forEach(i=>{t+=i.new,t+=i.used,t+=i.refurb});let n=0;return this.toolsService.getToolsData.forEach(i=>{n+=i.forService}),[{name:"Functional",quantity:t},{name:"Needing Service",quantity:n}]}get getAvailableToolsVersusAvailableMachines(){let t=0,n=0;return this.toolsService.getToolsData.forEach(i=>{i.state&&t++}),this.machinesService.getMachinesData.forEach(i=>{i.state&&n++}),[{name:"Available Tools",quantity:t},{name:"Available Machines",quantity:n}]}static \u0275fac=function(n){return new(n||e)(Ue(Vl),Ue(Bl))};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})};var nS=class e{constructor(t){this.reportsService=t;this.machinesVsToolsDistributionOptions={data:t.getAllQuantitiesPerItemType,title:{text:"Machines vs Tools Distribution"},series:[{sectorLabelKey:"name",sectorLabel:{color:"white",fontWeight:"bold"},type:"pie",angleKey:"quantity",legendItemKey:"name"}]},this.functioningVersusServiceMachineOptions={data:t.getFunctioningVersusInServiceMachines,title:{text:"Functioning vs Needing Service Machines Distribution"},series:[{sectorLabelKey:"name",sectorLabel:{color:"white",fontWeight:"bold"},type:"pie",angleKey:"quantity",legendItemKey:"name"}]},this.functioningVersusServiceToolOptions={data:t.getFunctioningVersusInServiceTools,title:{text:"Functioning vs Needing Service Tools Distribution"},series:[{sectorLabelKey:"name",sectorLabel:{color:"white",fontWeight:"bold"},type:"pie",angleKey:"quantity",legendItemKey:"name"}]},this.availableToolsVersusAvailableMachines={data:t.getAvailableToolsVersusAvailableMachines,title:{text:"Available Tools vs Available Machines Distribution"},series:[{sectorLabelKey:"name",sectorLabel:{color:"white",fontWeight:"bold"},type:"pie",angleKey:"quantity",legendItemKey:"name"}]}}machinesVsToolsDistributionOptions;functioningVersusServiceMachineOptions;functioningVersusServiceToolOptions;availableToolsVersusAvailableMachines;static \u0275fac=function(n){return new(n||e)(ue(tS))};static \u0275cmp=ne({type:e,selectors:[["app-cribwise-demo-reports-page"]],decls:24,vars:4,consts:[[1,"bg-gray-100","h-screen","w-screen"],[1,"flex","justify-start","items-start"],[1,"flex","flex-col","w-full","mr-5"],[1,"bg-black","text-white","gap-5","py-3","px-5","font-semibold","rounded-xs","border-gray-400","border-1","rounded-b-sm"],[1,"text-xl"],[1,"flex","flex-col","bg-white"],[1,"flex","flex-col","items-center","gap-2"],[1,"text-2xl","font-semibold","text-gray-800"],[1,"flex","gap-40","w-full"],[2,"height","80%","width","100%",3,"options"],[1,"grid","grid-cols-2","gap-4","border-t-1"],[1,"flex","flex-col","gap-2","text-center","border-r-1"],[1,"text-xl","font-medium","text-gray-700","p-3"],[1,"flex","flex-col","gap-2","text-center"]],template:function(n,i){n&1&&(B(0,"div",0),ce(1,"app-cribwise-demo-header"),B(2,"div",1),ce(3,"app-cribwise-demo-nav-bar"),B(4,"div",2)(5,"div",3)(6,"span",4),L(7,"Reports"),U()(),B(8,"div",5)(9,"div",6)(10,"h2",7),L(11,"Machines and Tools"),U(),B(12,"div",8),ce(13,"ag-charts",9)(14,"ag-charts",9),U()(),B(15,"div",10)(16,"div",11)(17,"h2",12),L(18,"Machines"),U(),ce(19,"ag-charts",9),U(),B(20,"div",13)(21,"h2",12),L(22,"Tools"),U(),ce(23,"ag-charts",9),U()()()()()()),n&2&&(X(13),Nt("options",i.machinesVsToolsDistributionOptions),X(),Nt("options",i.availableToolsVersusAvailableMachines),X(5),Nt("options",i.functioningVersusServiceMachineOptions),X(4),Nt("options",i.functioningVersusServiceToolOptions))},dependencies:[cr,ur,ez],encapsulation:2})};var lee=(e,t)=>t.id;function cee(e,t){e&1&&pt(0,"img",6)}function uee(e,t){e&1&&pt(0,"img",7)}function dee(e,t){if(e&1&&(z(0,"tr",4)(1,"td",5),L(2),G(),z(3,"td",3),L(4),G(),z(5,"td",3),L(6),G(),z(7,"td",3),L(8),G(),z(9,"td",3),L(10),G(),z(11,"td",3),L(12),G(),z(13,"td",3),L(14),G(),z(15,"td",3),L(16),G(),z(17,"td",3),L(18),G(),z(19,"td",3),L(20),G(),z(21,"td",3),L(22),G(),z(23,"td",3),L(24),G(),z(25,"td",3),_r(26,cee,1,0,"img",6)(27,uee,1,0,"img",7),G(),z(28,"td",3),L(29),G(),z(30,"td",3),L(31),G(),z(32,"td",3),L(33),G()()),e&2){let n=t.$implicit;X(2),Tt(n.itemName),X(2),Tt(n.new),X(2),Tt(n.used),X(2),Tt(n.refurb),X(2),Tt(n.forService),X(2),Tt(n.pickedQuantity),X(2),Tt(n.location),X(2),Tt(n.maxQuantity),X(2),Tt(n.orderPoint),X(2),Tt(n.minQuantity),X(2),Tt(n.criticalLevel),X(2),Tt(n.missingToMax),X(2),kr(n.state?26:27),X(3),Tt(n.activeOrders),X(2),Tt(n.expectFromOrders),X(2),Tt(n.expectedDate)}}var Bh=class e{itemsData;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-crib-wise-demo-table-for-items"]],inputs:{itemsData:"itemsData"},decls:39,vars:0,consts:[[1,"p-2"],[1,"min-w-full","border","border-gray-300","text-sm","text-center"],[1,"bg-black","text-white"],[1,"px-3","py-2","border-b"],[1,"hover:bg-gray-50","even:bg-gray-50/50"],[1,"px-3","py-2","border-b","font-medium"],["src","/assets/images/tick-icon.svg",1,"w-7","mx-auto"],["src","/assets/images/close-icon.svg",1,"w-7","mx-auto"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),L(5,"ITEM"),G(),z(6,"th",3),L(7,"NEW"),G(),z(8,"th",3),L(9,"USED"),G(),z(10,"th",3),L(11,"REFURB"),G(),z(12,"th",3),L(13,"FOR SERVICE"),G(),z(14,"th",3),L(15,"PICKED QTY."),G(),z(16,"th",3),L(17,"LOCATION"),G(),z(18,"th",3),L(19,"MAX QTY."),G(),z(20,"th",3),L(21,"ORDER POINT"),G(),z(22,"th",3),L(23,"MIN QTY."),G(),z(24,"th",3),L(25,"CRITICAL LEVEL"),G(),z(26,"th",3),L(27,"MISSING TO MAX"),G(),z(28,"th",3),L(29,"STATE"),G(),z(30,"th",3),L(31,"ACTIVE ORDERS"),G(),z(32,"th",3),L(33,"EXPECT FROM ORDERS"),G(),z(34,"th",3),L(35,"EXPECTED DATE"),G()()(),z(36,"tbody"),An(37,dee,34,16,"tr",4,lee),G()()()),n&2&&(X(37),_n(i.itemsData))},encapsulation:2})};var zh=class e{constructor(t){this.router=t}toNewItemForm(){this.router.navigate(["cribwise/demo/new-item"])}static \u0275fac=function(n){return new(n||e)(ue(ci))};static \u0275cmp=ne({type:e,selectors:[["app-crib-wise-demo-button-bar"]],decls:22,vars:0,consts:[[1,"bg-white","py-1","px-3","font-semibold","rounded-xs","border-gray-400","border-1","rounded-b-sm"],[1,"flex","flex-row","gap-5","items-start","normal-text","tracking-tighter"],[1,"hover:text-gray-500","cursor-pointer","justify-center","text-center","flex-col","flex","font-bold",3,"click"],[1,"text-2xl"],[1,"text-lg"],[1,"cursor-not-allowed","text-gray-400","justify-center","text-center","flex-col","flex"]],template:function(n,i){n&1&&(z(0,"div",0)(1,"div",1)(2,"div",2),Ai("click",function(){return i.toNewItemForm()}),z(3,"span",3),L(4,"+"),G(),z(5,"span",4),L(6,"Add item"),G()(),z(7,"div",5)(8,"span",3),L(9,"-"),G(),z(10,"span",4),L(11,"Remove item"),G()(),z(12,"div",5)(13,"span",3),L(14,"~"),G(),z(15,"span",4),L(16,"Edit item"),G()(),z(17,"div",5)(18,"span",3),L(19,"..."),G(),z(20,"span",4),L(21,"Filter items"),G()()()())},encapsulation:2})};var iS=class e{toolsService;constructor(t){this.toolsService=t}static \u0275fac=function(n){return new(n||e)(ue(Vl))};static \u0275cmp=ne({type:e,selectors:[["app-cribwise-demo-tools-page"]],decls:10,vars:1,consts:[[1,"bg-gray-100","h-screen","w-screen","overflow-x-hidden"],[1,"flex","justify-start","items-start"],[1,"flex","flex-col","w-full","mr-5"],[1,"bg-black","text-white","py-3","px-5","font-semibold","rounded-xs","border-gray-400","border-1","rounded-b-sm"],[1,"text-xl"],[3,"itemsData"]],template:function(n,i){n&1&&(B(0,"div",0),ce(1,"app-cribwise-demo-header"),B(2,"div",1),ce(3,"app-cribwise-demo-nav-bar"),B(4,"div",2)(5,"div",3)(6,"span",4),L(7,"Tools"),U()(),ce(8,"app-crib-wise-demo-button-bar")(9,"app-crib-wise-demo-table-for-items",5),U()()()),n&2&&(X(9),Nt("itemsData",i.toolsService.getToolsData))},dependencies:[cr,ur,Bh,zh],encapsulation:2})};var rS=class e{machinesService;constructor(t){this.machinesService=t}static \u0275fac=function(n){return new(n||e)(ue(Bl))};static \u0275cmp=ne({type:e,selectors:[["app-cribwise-demo-machines-page"]],decls:10,vars:1,consts:[[1,"bg-gray-100","h-screen","w-screen"],[1,"flex","justify-start","items-start"],[1,"flex","flex-col","w-full","mr-5"],[1,"bg-black","text-white","gap-5","py-3","px-5","font-semibold","rounded-xs","border-gray-400","border-1","rounded-b-sm"],[1,"text-xl"],[3,"itemsData"]],template:function(n,i){n&1&&(B(0,"div",0),ce(1,"app-cribwise-demo-header"),B(2,"div",1),ce(3,"app-cribwise-demo-nav-bar"),B(4,"div",2)(5,"div",3)(6,"span",4),L(7,"Machines"),U()(),ce(8,"app-crib-wise-demo-button-bar")(9,"app-crib-wise-demo-table-for-items",5),U()()()),n&2&&(X(9),Nt("itemsData",i.machinesService.getMachinesData))},dependencies:[cr,ur,Bh,zh],encapsulation:2})};var oS=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-cribwise-demo-about-this-demo-page"]],decls:25,vars:0,consts:[[1,"bg-gray-100","h-screen","w-screen"],[1,"flex","justify-start","items-start"],[1,"flex","flex-col","w-full","mr-5"],[1,"bg-black","text-white","gap-5","py-3","px-5","font-semibold","rounded-xs","border-gray-400","border-1","rounded-b-sm"],[1,"text-xl"],[1,"bg-black","text-white","rounded-2xl","flex","flex-col","items-center","mt-5","p-8","gap-6"],[1,"text-5xl","lg:text-7xl","font-semibold","text-center"],[1,"flex","justify-center","gap-10"],["href","https://github.com/acolote1998/","target","_blank"],["src","/assets/images/github-icon.svg",1,"w-10","lg:w-15"],["href","https://www.linkedin.com/in/manuelacevedodev/","target","_blank"],["src","/assets/images/linkedin-icon.svg",1,"w-10","lg:w-16"],[1,"text-2xl","lg:text-4xl","text-center"],["href","https://github.com/acolote1998/sandvik-cribwise-manuel","target","_blank",1,"flex","gap-3","lg:gap-5","items-center","border","border-white","px-6","py-3","rounded-md","hover:opacity-80","transition-all"],["src","/assets/images/github-icon.svg",1,"w-6","lg:w-6"],[1,"font-semibold","text-white"],[1,"border-gray-400","w-full","my-8"],[1,"text-lg","lg:text-xl","font-light","text-center","text-black"]],template:function(n,i){n&1&&(B(0,"div",0),ce(1,"app-cribwise-demo-header"),B(2,"div",1),ce(3,"app-cribwise-demo-nav-bar"),B(4,"div",2)(5,"div",3)(6,"span",4),L(7,"About this demo"),U()(),B(8,"div",5)(9,"span",6),L(10,"Manuel Acevedo"),U(),B(11,"div",7)(12,"a",8),ce(13,"img",9),U(),B(14,"a",10),ce(15,"img",11),U()(),B(16,"span",12),L(17,"manuel.acevedo@appliedtechnology.se"),U(),B(18,"a",13),ce(19,"img",14),B(20,"span",15),L(21,"See GitHub Repository"),U()()(),ce(22,"hr",16),B(23,"p",17),L(24," Angular learning project \u2013 demo for interview (2025/09/02) "),U()()()())},dependencies:[cr,ur],encapsulation:2})};var cz=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||e)(ue(ds),ue(an))};static \u0275dir=Xt({type:e})}return e})(),uS=(()=>{class e extends cz{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Er(e)))(r||e)}})();static \u0275dir=Xt({type:e,features:[Kn]})}return e})(),um=new ae("");var hee={provide:um,useExisting:rs(()=>dS),multi:!0};function fee(){let e=Jr()?Jr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var pee=new ae(""),dS=(()=>{class e extends cz{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!fee())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||e)(ue(ds),ue(an),ue(pee,8))};static \u0275dir=Xt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&lr("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Qa([hee]),Kn]})}return e})();var gee=new ae(""),mee=new ae("");function uz(e){return e!=null}function dz(e){return fc(e)?Sn(e):e}function hz(e){let t={};return e.forEach(n=>{t=n!=null?g(g({},t),n):t}),Object.keys(t).length===0?null:t}function fz(e,t){return t.map(n=>n(e))}function yee(e){return!e.validate}function pz(e){return e.map(t=>yee(t)?t:n=>t.validate(n))}function vee(e){if(!e)return null;let t=e.filter(uz);return t.length==0?null:function(n){return hz(fz(n,t))}}function gz(e){return e!=null?vee(pz(e)):null}function bee(e){if(!e)return null;let t=e.filter(uz);return t.length==0?null:function(n){let i=fz(n,t).map(dz);return QS(i).pipe(it(hz))}}function mz(e){return e!=null?bee(pz(e)):null}function tz(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function xee(e){return e._rawValidators}function See(e){return e._rawAsyncValidators}function cA(e){return e?Array.isArray(e)?e:[e]:[]}function aS(e,t){return Array.isArray(e)?e.includes(t):e===t}function nz(e,t){let n=cA(t);return cA(e).forEach(r=>{aS(n,r)||n.push(r)}),n}function iz(e,t){return cA(t).filter(n=>!aS(e,n))}var lS=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=gz(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=mz(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},uA=class extends lS{name;get formDirective(){return null}get path(){return null}},cm=class extends lS{_parent=null;name=null;valueAccessor=null},dA=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Mee={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mEe=I(g({},Mee),{"[class.ng-submitted]":"isSubmitted"}),yz=(()=>{class e extends dA{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(ue(cm,2))};static \u0275dir=Xt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&_o("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Kn]})}return e})();var om="VALID",sS="INVALID",Hh="PENDING",sm="DISABLED",Gh=class{},cS=class extends Gh{value;source;constructor(t,n){super(),this.value=t,this.source=n}},am=class extends Gh{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},lm=class extends Gh{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Uh=class extends Gh{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function Dee(e){return(hS(e)?e.validators:e)||null}function Iee(e){return Array.isArray(e)?gz(e):e||null}function wee(e,t){return(hS(t)?t.asyncValidators:e)||null}function Cee(e){return Array.isArray(e)?mz(e):e||null}function hS(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var hA=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return qi(this.statusReactive)}set status(t){qi(()=>this.statusReactive.set(t))}_status=Uf(()=>this.statusReactive());statusReactive=Cr(void 0);get valid(){return this.status===om}get invalid(){return this.status===sS}get pending(){return this.status==Hh}get disabled(){return this.status===sm}get enabled(){return this.status!==sm}errors;get pristine(){return qi(this.pristineReactive)}set pristine(t){qi(()=>this.pristineReactive.set(t))}_pristine=Uf(()=>this.pristineReactive());pristineReactive=Cr(!0);get dirty(){return!this.pristine}get touched(){return qi(this.touchedReactive)}set touched(t){qi(()=>this.touchedReactive.set(t))}_touched=Uf(()=>this.touchedReactive());touchedReactive=Cr(!1);get untouched(){return!this.touched}_events=new ct;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(nz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(iz(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(iz(t,this._rawAsyncValidators))}hasValidator(t){return aS(this._rawValidators,t)}hasAsyncValidator(t){return aS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(I(g({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new lm(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new lm(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(I(g({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new am(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new am(!0,i))}markAsPending(t={}){this.status=Hh;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Uh(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(I(g({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=sm,this.errors=null,this._forEachChild(r=>{r.disable(I(g({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new cS(this.value,i)),this._events.next(new Uh(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(I(g({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=om,this._forEachChild(i=>{i.enable(I(g({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(I(g({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===om||this.status===Hh)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new cS(this.value,n)),this._events.next(new Uh(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(I(g({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sm:om}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Hh,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let i=dz(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Uh(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new Yt,this.statusChanges=new Yt}_calculateStatus(){return this._allControlsDisabled()?sm:this.errors?sS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hh)?Hh:this._anyControlsHaveStatus(sS)?sS:om}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new am(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new lm(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hS(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Iee(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Cee(this._rawAsyncValidators)}};var vz=new ae("",{providedIn:"root",factory:()=>fA}),fA="always";function Eee(e,t){return[...t.path,e]}function Tee(e,t,n=fA){_ee(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),kee(e,t),Oee(e,t),Nee(e,t),Aee(e,t)}function rz(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Aee(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function _ee(e,t){let n=xee(e);t.validator!==null?e.setValidators(tz(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=See(e);t.asyncValidator!==null?e.setAsyncValidators(tz(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();rz(t._rawValidators,r),rz(t._rawAsyncValidators,r)}function kee(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&bz(e,t)})}function Nee(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&bz(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function bz(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Oee(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Lee(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Ree(e){return Object.getPrototypeOf(e.constructor)===uS}function Pee(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===dS?n=o:Ree(o)?i=o:r=o}),r||i||n||null}function oz(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function sz(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Fee=class extends hA{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,i){super(Dee(n),wee(i,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hS(n)&&(n.nonNullable||n.initialValueIsDefault)&&(sz(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){sz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var jee={provide:cm,useExisting:rs(()=>pA)},az=Promise.resolve(),pA=(()=>{class e extends cm{_changeDetectorRef;callSetDisabledState;control=new Fee;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Yt;constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Pee(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Lee(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Tee(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){az.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&gs(i);az.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Eee(n,this._parent):[n]}static \u0275fac=function(i){return new(i||e)(ue(uA,9),ue(gee,10),ue(mee,10),ue(um,10),ue(gc,8),ue(vz,8))};static \u0275dir=Xt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Qa([jee]),Kn,Qs]})}return e})();var Vee={provide:um,useExisting:rs(()=>gA),multi:!0},gA=(()=>{class e extends uS{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Er(e)))(r||e)}})();static \u0275dir=Xt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&lr("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Qa([Vee]),Kn]})}return e})();var Bee={provide:um,useExisting:rs(()=>fS),multi:!0};function xz(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function zee(e){return e.split(":")[0]}var fS=(()=>{class e extends uS{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=O(Ar).injector;destroyRef=O(cs);cdr=O(gc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,To({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let i=this._getOptionId(n),r=xz(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=zee(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Er(e)))(r||e)}})();static \u0275dir=Xt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&lr("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Qa([Bee]),Kn]})}return e})(),Sz=(()=>{class e{_element;_renderer;_select;id;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(xz(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||e)(ue(an),ue(ds),ue(fS,9))};static \u0275dir=Xt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),Hee={provide:um,useExisting:rs(()=>Mz),multi:!0};function lz(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function Uee(e){return e.split(":")[0]}var Mz=(()=>{class e extends uS{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=Uee(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Er(e)))(r||e)}})();static \u0275dir=Xt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&lr("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Qa([Hee]),Kn]})}return e})(),Dz=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(lz(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(lz(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(ue(an),ue(ds),ue(Mz,9))};static \u0275dir=Xt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var Gee=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Xr({type:e});static \u0275inj=Ir({})}return e})();var Iz=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:vz,useValue:n.callSetDisabledState??fA}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Xr({type:e});static \u0275inj=Ir({imports:[Gee]})}return e})();var pS=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-success-toast"]],decls:2,vars:0,consts:[[1,"normal-text","tracking-widest"]],template:function(n,i){n&1&&(z(0,"span",0),L(1,"Item Created Successfully"),G())},encapsulation:2})};var gS=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-error-toast"]],decls:2,vars:0,consts:[[1,"normal-text","tracking-widest","font-light"]],template:function(n,i){n&1&&(z(0,"span",0),L(1,"Some of the required fields are empty, please check"),G())},encapsulation:2})};function dm(e){return e.buttons===0||e.detail===0}function hm(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var mA;function wz(){if(mA==null){let e=typeof document<"u"?document.head:null;mA=!!(e&&(e.createShadowRoot||e.attachShadow))}return mA}function yA(e){if(wz()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Sr(e){return e.composedPath?e.composedPath()[0]:e.target}var vA;try{vA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vA=!1}var Mr=(()=>{class e{_platformId=O(Ka);isBrowser=this._platformId?G1(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||vA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fm;function Cz(){if(fm==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fm=!0}))}finally{fm=fm||!1}return fm}function $h(e){return Cz()?e:!!e.capture}function zl(e){return e instanceof an?e.nativeElement:e}var Ez=new ae("cdk-input-modality-detector-options"),Tz={ignoreKeys:[18,17,224,91,16]},Az=650,bA={passive:!0,capture:!0},_z=(()=>{class e{_platform=O(Mr);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Yn(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(i=>i===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Sr(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<Az||(this._modality.next(dm(n)?"keyboard":"mouse"),this._mostRecentTarget=Sr(n))};_onTouchstart=n=>{if(hm(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Sr(n)};constructor(){let n=O(tt),i=O(bt),r=O(Ez,{optional:!0});if(this._options=g(g({},Tz),r),this.modalityDetected=this._modality.pipe(cf(1)),this.modalityChanged=this.modalityDetected.pipe(JS()),this._platform.isBrowser){let o=O(Zi).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,bA),o.listen(i,"mousedown",this._onMousedown,bA),o.listen(i,"touchstart",this._onTouchstart,bA)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pm=(function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e})(pm||{}),kz=new ae("cdk-focus-monitor-default-options"),mS=$h({passive:!0,capture:!0}),xA=(()=>{class e{_ngZone=O(tt);_platform=O(Mr);_inputModalityDetector=O(_z);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=O(bt);_stopInputModalityDetector=new ct;constructor(){let n=O(kz,{optional:!0});this._detectionMode=n?.detectionMode||pm.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let i=Sr(n);for(let r=i;r;r=r.parentElement)n.type==="focus"?this._onFocus(n,r):this._onBlur(n,r)};monitor(n,i=!1){let r=zl(n);if(!this._platform.isBrowser||r.nodeType!==1)return Re();let o=yA(r)||this._document,s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new ct,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){let i=zl(n),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(n,i,r){let o=zl(n),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===pm.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused",i==="touch"),n.classList.toggle("cdk-keyboard-focused",i==="keyboard"),n.classList.toggle("cdk-mouse-focused",i==="mouse"),n.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&i,this._detectionMode===pm.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Az:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(n,i){let r=this._elementInfo.get(i),o=Sr(n);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(n,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let i=n.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,mS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,mS)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(is(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,r){this._setClasses(n,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){let i=[];return this._elementInfo.forEach((r,o)=>{(o===n||r.checkChildren&&o.contains(n))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var yS=new WeakMap,Hl=(()=>{class e{_appRef;_injector=O(Qt);_environmentInjector=O(un);load(n){let i=this._appRef=this._appRef||this._injector.get(Ar),r=yS.get(i);r||(r={loaders:new Set,refs:[]},yS.set(i,r),i.onDestroy(()=>{yS.get(i)?.refs.forEach(o=>o.destroy()),yS.delete(i)})),r.loaders.has(n)||(r.loaders.add(n),r.refs.push(yv(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gm(e){return Array.isArray(e)?e:[e]}var Nz=new Set,xu,vS=(()=>{class e{_platform=O(Mr);_nonce=O(od,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Yee}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&Wee(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wee(e,t){if(!Nz.has(e))try{xu||(xu=document.createElement("style"),t&&xu.setAttribute("nonce",t),xu.setAttribute("type","text/css"),document.head.appendChild(xu)),xu.sheet&&(xu.sheet.insertRule(`@media ${e} {body{ }}`,0),Nz.add(e))}catch(n){console.error(n)}}function Yee(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var SA=(()=>{class e{_mediaMatcher=O(vS);_zone=O(tt);_queries=new Map;_destroySubject=new ct;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Oz(gm(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=Oz(gm(n)).map(s=>this._registerQuery(s).observable),o=Vu(r);return o=Va(o.pipe(So(1)),o.pipe(cf(1),XS(0))),o.pipe(it(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let i=this._mediaMatcher.matchMedia(n),o={observable:new ht(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(uf(i),it(({matches:s})=>({query:n,matches:s})),is(this._destroySubject)),mql:i};return this._queries.set(n,o),o}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Oz(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var Lz=new ae("liveAnnouncerElement",{providedIn:"root",factory:Rz});function Rz(){return null}var Pz=new ae("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Zee=0,MA=(()=>{class e{_ngZone=O(tt);_defaultOptions=O(Pz,{optional:!0});_liveElement;_document=O(bt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let n=O(Lz,{optional:!0});this._liveElement=n||this._createLiveElement()}announce(n,...i){let r=this._defaultOptions,o,s;return i.length===1&&typeof i[0]=="number"?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",i=this._document.getElementsByClassName(n),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(n),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${Zee++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(n){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],s=o.getAttribute("aria-owns");s?s.indexOf(n)===-1&&o.setAttribute("aria-owns",s+" "+n):o.setAttribute("aria-owns",n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var DA={},mm=(()=>{class e{_appId=O(rd);getId(n){return this._appId!=="ng"&&(n+=this._appId),DA.hasOwnProperty(n)||(DA[n]=0),`${n}${DA[n]++}`}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Fz={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var qee=new ae("MATERIAL_ANIMATIONS");var jz=null;function Kee(){return O(qee,{optional:!0})?.animationsDisabled||O(Ff,{optional:!0})==="NoopAnimations"?"di-disabled":(jz??=O(vS).matchMedia("(prefers-reduced-motion)").matches,jz?"reduced-motion":"enabled")}function Su(){return Kee()!=="enabled"}function Mu(e){return e==null?"":typeof e=="string"?e:`${e}px`}var bo=(function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e})(bo||{}),wA=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=bo.HIDDEN;constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},Vz=$h({passive:!0,capture:!0}),CA=class{_events=new Map;addHandler(t,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Vz)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Vz)))}_delegateEventHandler=t=>{let n=Sr(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(t))})}},ym={enterDuration:225,exitDuration:150},Qee=800,Bz=$h({passive:!0,capture:!0}),zz=["mousedown","touchstart"],Hz=["mouseup","mouseleave","touchend","touchcancel"],Xee=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ne({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return e})(),bS=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new CA;constructor(t,n,i,r,o){this._target=t,this._ngZone=n,this._platform=r,r.isBrowser&&(this._containerElement=zl(i)),o&&o.get(Hl).load(Xee)}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=g(g({},ym),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||Jee(t,n,r),a=t-r.left,l=n-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${l-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),h=d.transitionProperty,f=d.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,m=new wA(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",m.state=bo.FADING_IN,i.persistent||(this._mostRecentTransientRipple=m);let b=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{b&&(b.fallbackTimer=null),clearTimeout(M),this._finishRippleTransition(m)},x=()=>this._destroyRipple(m),M=setTimeout(x,c+100);u.addEventListener("transitionend",v),u.addEventListener("transitioncancel",x),b={onTransitionEnd:v,onTransitionCancel:x,fallbackTimer:M}}),this._activeRipples.set(m,b),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(t.state===bo.FADING_OUT||t.state===bo.HIDDEN)return;let n=t.element,i=g(g({},ym),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=bo.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=zl(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,zz.forEach(i=>{e._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Hz.forEach(n=>{this._triggerElement.addEventListener(n,this,Bz)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===bo.FADING_IN?this._startFadeOutTransition(t):t.state===bo.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=bo.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=bo.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),t.element.remove()}_onMousedown(t){let n=dm(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Qee;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!hm(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===bo.VISIBLE||t.config.terminateOnPointerUp&&t.state===bo.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(zz.forEach(n=>e._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&(Hz.forEach(n=>t.removeEventListener(n,this,Bz)),this._pointerUpEventsRegistered=!1))}};function Jee(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var Uz=new ae("mat-ripple-global-options");var ete={capture:!0},tte=["focus","mousedown","mouseenter","touchstart"],EA="mat-ripple-loader-uninitialized",TA="mat-ripple-loader-class-name",Gz="mat-ripple-loader-centered",xS="mat-ripple-loader-disabled",$z=(()=>{class e{_document=O(bt);_animationsDisabled=Su();_globalRippleOptions=O(Uz,{optional:!0});_platform=O(Mr);_ngZone=O(tt);_injector=O(Qt);_eventCleanups;_hosts=new Map;constructor(){let n=O(Zi).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>tte.map(i=>n.listen(this._document,i,this._onInteraction,ete)))}ngOnDestroy(){let n=this._hosts.keys();for(let i of n)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(n,i){n.setAttribute(EA,this._globalRippleOptions?.namespace??""),(i.className||!n.hasAttribute(TA))&&n.setAttribute(TA,i.className||""),i.centered&&n.setAttribute(Gz,""),i.disabled&&n.setAttribute(xS,"")}setDisabled(n,i){let r=this._hosts.get(n);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(n))):i?n.setAttribute(xS,""):n.removeAttribute(xS)}_onInteraction=n=>{let i=Sr(n);if(i instanceof HTMLElement){let r=i.closest(`[${EA}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(n){if(!this._document||this._hosts.has(n))return;n.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(TA)),n.append(i);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??ym.enterDuration,s=this._animationsDisabled?0:r?.animation?.exitDuration??ym.exitDuration,a={rippleDisabled:this._animationsDisabled||r?.disabled||n.hasAttribute(xS),rippleConfig:{centered:n.hasAttribute(Gz),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},l=new bS(a,this._ngZone,i,this._platform,this._injector),c=!a.rippleDisabled;c&&l.setupTriggerEvents(n),this._hosts.set(n,{target:a,renderer:l,hasSetUpEvents:c}),n.removeAttribute(EA)}destroyRipple(n){let i=this._hosts.get(n);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(n))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Wz=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ne({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return e})();var nte=new ae("MAT_BUTTON_CONFIG");function Yz(e){return e==null?void 0:P1(e)}var Zz=(()=>{class e{_elementRef=O(an);_ngZone=O(tt);_animationsDisabled=Su();_config=O(nte,{optional:!0});_focusMonitor=O(xA);_cleanupClick;_renderer=O(ds);_rippleLoader=O($z);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(n){this.tabIndex=n}constructor(){O(Hl).load(Wz);let n=this._elementRef.nativeElement;this._isAnchor=n.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Xt({type:e,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){i&2&&(pc("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),CI(r.color?"mat-"+r.color:""),_o("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",gs],disabled:[2,"disabled","disabled",gs],ariaDisabled:[2,"aria-disabled","ariaDisabled",gs],disabledInteractive:[2,"disabledInteractive","disabledInteractive",gs],tabIndex:[2,"tabIndex","tabIndex",Yz],_tabindex:[2,"tabindex","_tabindex",Yz]}})}return e})();var ite=new ae("cdk-dir-doc",{providedIn:"root",factory:rte});function rte(){return O(bt)}var ote=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ste(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?ote.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var qz=(()=>{class e{get value(){return this.valueSignal()}valueSignal=Cr("ltr");change=new Yt;constructor(){let n=O(ite,{optional:!0});if(n){let i=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(ste(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ate=["matButton",""],lte=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],cte=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Kz=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),Qz=(()=>{class e extends Zz{get appearance(){return this._appearance}set appearance(n){this.setAppearance(n||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let n=ute(this._elementRef.nativeElement);n&&this.setAppearance(n)}setAppearance(n){if(n===this._appearance)return;let i=this._elementRef.nativeElement.classList,r=this._appearance?Kz.get(this._appearance):null,o=Kz.get(n);r&&i.remove(...r),i.add(...o),this._appearance=n}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ne({type:e,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Kn],attrs:ate,ngContentSelectors:cte,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(hv(lte),pt(0,"span",0),ad(1),z(2,"span",1),ad(3,1),G(),ad(4,2),pt(5,"span",2)(6,"span",3)),i&2&&_o("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return e})();function ute(e){return e.hasAttribute("mat-raised-button")?"elevated":e.hasAttribute("mat-stroked-button")?"outlined":e.hasAttribute("mat-flat-button")?"filled":e.hasAttribute("mat-button")?"text":null}var vm=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Wh=class extends vm{component;viewContainerRef;injector;projectableNodes;constructor(t,n,i,r){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.projectableNodes=r}},Yh=class extends vm{templateRef;viewContainerRef;context;injector;constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},AA=class extends vm{element;constructor(t){super(),this.element=t instanceof an?t.nativeElement:t}},Zh=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Wh)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Yh)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof AA)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},SS=class extends Zh{outletElement;_appRef;_defaultInjector;constructor(t,n,i){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=i}attachComponentPortal(t){let n;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(Ks,null,{optional:!0})||void 0;n=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let i=this._appRef,r=t.injector||this._defaultInjector||Qt.NULL,o=r.get(un,i.injector);n=yv(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),i.attachView(n.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let n=t.element;n.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");n.parentNode.insertBefore(i,n),this.outletElement.appendChild(n),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var _A=(()=>{class e extends Zh{_moduleRef=O(Ks,{optional:!0});_document=O(bt);_viewContainerRef=O(Xs);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new Yt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let i=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,r=i.createComponent(n.component,{index:i.length,injector:n.injector||i.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(n){n.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=n=>{let i=n.element;i.parentNode;let r=this._document.createComment("dom-portal");n.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=n,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Xt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Kn]})}return e})();var MS=class{enable(){}disable(){}attach(){}};var qh=class{positionStrategy;scrollStrategy=new MS;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let n=Object.keys(t);for(let i of n)t[i]!==void 0&&(this[i]=t[i])}}};var eH=(()=>{class e{_attachedOverlays=[];_document=O(bt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tH=(()=>{class e extends eH{_ngZone=O(tt);_renderer=O(Zi).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=Er(e)))(r||e)}})();static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nH=(()=>{class e extends eH{_platform=O(Mr);_ngZone=O(tt);_renderer=O(Zi).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(n){if(super.add(n),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=Sr(n)};_clickListener=n=>{let i=Sr(n),r=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Xz(a.overlayElement,i)||Xz(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(n)):l.next(n)}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=Er(e)))(r||e)}})();static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xz(e,t){let n=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===e)return!0;i=n&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var iH=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ne({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return e})(),hte=(()=>{class e{_platform=O(Mr);_containerElement;_document=O(bt);_styleLoader=O(Hl);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||IA()){let r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(n),IA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(iH)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kA=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,n,i,r){this._renderer=n,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},DS=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ct;_attachments=new ct;_detachments=new ct;_positionStrategy;_scrollStrategy;_locationChanges=sn.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new ct;_outsidePointerEvents=new ct;_afterNextRenderRef;constructor(t,n,i,r,o,s,a,l,c,u=!1,d,h){this._portalOutlet=t,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=d,this._renderer=h,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=To(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=g(g({},this._config),t),this._updateElementSize()}setDirection(t){this._config=I(g({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Mu(this._config.width),t.height=Mu(this._config.height),t.minWidth=Mu(this._config.minWidth),t.minHeight=Mu(this._config.minHeight),t.maxWidth=Mu(this._config.maxWidth),t.maxHeight=Mu(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new kA(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,n,i){let r=gm(n||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=To(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(n){if(t)throw n;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}};var Jz="cdk-global-overlay-wrapper";function NA(e){return new IS}var IS=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Jz),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",p="",m="";l?m="flex-start":u==="center"?(m="center",h?p=d:f=d):h?u==="left"||u==="end"?(m="flex-end",f=d):(u==="right"||u==="start")&&(m="flex-start",p=d):u==="left"||u==="start"?(m="flex-start",f=d):(u==="right"||u==="end")&&(m="flex-end",p=d),t.position=this._cssPosition,t.marginLeft=l?"0":f,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":p,n.justifyContent=m,n.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(Jz),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}};function OA(e,t){e.get(Hl).load(iH);let n=e.get(hte),i=e.get(bt),r=e.get(mm),o=e.get(Ar),s=e.get(qz),a=i.createElement("div"),l=i.createElement("div");l.id=r.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),a.appendChild(l),n.getContainerElement().appendChild(a);let c=new SS(l,o,e),u=new qh(t),d=e.get(ds,null,{optional:!0})||e.get(Zi).createRenderer(null,null);return u.direction=u.direction||s.value,new DS(c,a,l,u,e.get(tt),e.get(tH),i,e.get(Ja),e.get(nH),t?.disableAnimations??e.get(Ff,null,{optional:!0})==="NoopAnimations",e.get(un),d)}function pte(e,t){if(e&1){let n=wI();B(0,"div",1)(1,"button",2),lr("click",function(){vy(n);let r=fs();return by(r.action())}),L(2),U()()}if(e&2){let n=fs();X(2),ps(" ",n.data.action," ")}}var gte=["label"];function mte(e,t){}var yte=Math.pow(2,31)-1,bm=class{_overlayRef;instance;containerInstance;_afterDismissed=new ct;_afterOpened=new ct;_onAction=new ct;_durationTimeoutId;_dismissedByAction=!1;constructor(t,n){this._overlayRef=n,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,yte))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},rH=new ae("MatSnackBarData"),Kh=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},vte=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Xt({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return e})(),bte=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Xt({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return e})(),xte=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Xt({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return e})(),Ste=(()=>{class e{snackBarRef=O(bm);data=O(rH);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ne({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(B(0,"div",0),L(1),U(),_r(2,pte,3,1,"div",1)),i&2&&(X(),ps(" ",r.data.message,`
`),X(),kr(r.hasAction?2:-1))},dependencies:[Qz,vte,bte,xte],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return e})(),LA="_mat-snack-bar-enter",RA="_mat-snack-bar-exit",Mte=(()=>{class e extends Zh{_ngZone=O(tt);_elementRef=O(an);_changeDetectorRef=O(gc);_platform=O(Mr);_animationsDisabled=Su();snackBarConfig=O(Kh);_document=O(bt);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=O(Qt);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new ct;_onExit=new ct;_onEnter=new ct;_animationState="void";_live;_label;_role;_liveElementId=O(mm).getId("mat-snack-bar-container-live-");constructor(){super();let n=this.snackBarConfig;n.politeness==="assertive"&&!n.announcementMessage?this._live="assertive":n.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),i}attachTemplatePortal(n){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),i}attachDomPortal=n=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(n);return this._afterPortalAttached(),i};onAnimationEnd(n){n===RA?this._completeExit():n===LA&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?To(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(LA)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(LA)},200)))}exit(){return this._destroyed?Re(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?To(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(RA)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(RA),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>n.classList.add(s)):n.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let n=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(n)===-1&&o.setAttribute("aria-owns",s+" "+n):o.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let i=n.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?n.setAttribute("aria-owns",r):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let n=this._elementRef.nativeElement,i=n.querySelector("[aria-hidden]"),r=n.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ne({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(fv(_A,7),fv(gte,7)),i&2){let o;pv(o=gv())&&(r._portalOutlet=o.first),pv(o=gv())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&lr("animationend",function(s){return r.onAnimationEnd(s.animationName)})("animationcancel",function(s){return r.onAnimationEnd(s.animationName)}),i&2&&_o("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[Kn],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(B(0,"div",1)(1,"div",2,0)(3,"div",3),cv(4,mte,0,0,"ng-template",4),U(),ce(5,"div"),U()()),i&2&&(X(5),pc("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[_A],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return e})();function Dte(){return new Kh}var Ite=new ae("mat-snack-bar-default-options",{providedIn:"root",factory:Dte}),oH=(()=>{class e{_live=O(MA);_injector=O(Qt);_breakpointObserver=O(SA);_parentSnackBar=O(e,{optional:!0,skipSelf:!0});_defaultConfig=O(Ite);_animationsDisabled=Su();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Ste;snackBarContainerComponent=Mte;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(){}openFromComponent(n,i){return this._attach(n,i)}openFromTemplate(n,i){return this._attach(n,i)}open(n,i="",r){let o=g(g({},this._defaultConfig),r);return o.data={message:n,action:i},o.announcementMessage===n&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=Qt.create({parent:r||this._injector,providers:[{provide:Kh,useValue:i}]}),s=new Wh(this.snackBarContainerComponent,i.viewContainerRef,o),a=n.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(n,i){let r=g(g(g({},new Kh),this._defaultConfig),i),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new bm(s,o);if(n instanceof qs){let l=new Yh(n,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(l)}else{let l=this._createInjector(r,a),c=new Wh(n,void 0,l),u=s.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe(Fz.HandsetPortrait).pipe(is(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(n,i){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter()}_createOverlay(n){let i=new qh;i.direction=n.direction;let r=NA(this._injector),o=n.direction==="rtl",s=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!o||n.horizontalPosition==="end"&&o,a=!s&&n.horizontalPosition!=="center";return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),n.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,i.disableAnimations=this._animationsDisabled,OA(this._injector,i)}_createInjector(n,i){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector;return Qt.create({parent:r||this._injector,providers:[{provide:bm,useValue:i},{provide:rH,useValue:n.data}]})}static \u0275fac=function(i){return new(i||e)};static \u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wS=class e{constructor(t,n,i,r){this.router=t;this.snackBar=n,this.toolsService=i,this.machinesService=r}toolsService;machinesService;snackBar;typeOfItem;itemName;newQty;usedQty;refurbQty;forServiceQty;pickedQty;atLocationQty;maxQty;orderPointQty;minQty;criticalLevelQty;missingToMaxQty;state;activeOrdersQty;expectFromOrdersQty;expetedDateOfDelivery;calculateState(t){return t==="available"}areInputsInvalid(){return!this.typeOfItem||!this.itemName||this.newQty==null||this.usedQty==null||this.refurbQty==null||this.forServiceQty==null||this.pickedQty==null||this.atLocationQty==null||this.maxQty==null||this.orderPointQty==null||this.minQty==null||this.criticalLevelQty==null||this.missingToMaxQty==null||!this.state||this.activeOrdersQty==null||this.expectFromOrdersQty==null||!this.expetedDateOfDelivery}createItem(){if(this.areInputsInvalid()){this.snackBar.openFromComponent(gS,{duration:2500,verticalPosition:"bottom",horizontalPosition:"center",panelClass:["bg-red-200","text-center"]});return}let t={id:this.generateUUID(),itemName:this.itemName,new:this.newQty,used:this.usedQty,refurb:this.refurbQty,forService:this.forServiceQty,pickedQuantity:this.pickedQty,location:this.atLocationQty,maxQuantity:this.maxQty,orderPoint:this.orderPointQty,minQuantity:this.minQty,criticalLevel:this.criticalLevelQty,missingToMax:this.missingToMaxQty,state:this.calculateState(this.state),activeOrders:this.activeOrdersQty,expectFromOrders:this.expectFromOrdersQty,expectedDate:this.expetedDateOfDelivery};this.typeOfItem==="tool"?(this.toolsService.addNewTool(t),this.router.navigate(["cribwise/demo/tools"])):(this.machinesService.addNewTool(t),this.router.navigate(["cribwise/demo/machines"])),this.snackBar.openFromComponent(pS,{duration:1800,verticalPosition:"top",horizontalPosition:"center",panelClass:["bg-green-200","text-center"]})}generateUUID(){return crypto.randomUUID()}static \u0275fac=function(n){return new(n||e)(ue(ci),ue(oH),ue(Vl),ue(Bl))};static \u0275cmp=ne({type:e,selectors:[["app-crib-wise-new-item-form"]],decls:89,vars:17,consts:[[1,"bg-gray-100","h-screen","w-screen"],[1,"flex","justify-start","items-start"],[1,"flex","flex-col","w-full","mr-5"],[1,"bg-black","text-green-400","py-3","px-5","font-semibold","border-gray-400","border","rounded-b-sm","w-full"],[1,"text-xl"],[1,"bg-white","py-6","px-8","mt-4","shadow-md","rounded-lg","border","border-gray-300","w-full"],[1,"grid","grid-cols-3","gap-6"],[1,"flex","flex-col"],[1,"text-lg","font-medium","mb-1"],["type","text",1,"p-2","bg-gray-200","rounded-lg","border","border-gray-400","focus:outline-none","focus:ring-2","focus:ring-gray-400",3,"ngModelChange","ngModel"],[1,"p-2","bg-gray-200","rounded-lg","border","border-gray-400","focus:outline-none","focus:ring-2","focus:ring-gray-400",3,"ngModelChange","ngModel"],["value","tool"],["value","machine"],["type","number",1,"p-2","bg-gray-200","rounded-lg","border","border-gray-400","focus:outline-none","focus:ring-2","focus:ring-gray-400",3,"ngModelChange","ngModel"],["value","available"],["value","notAvailable"],["type","date",1,"p-2","bg-gray-200","rounded-lg","border","border-gray-400","focus:outline-none","focus:ring-2","focus:ring-gray-400",3,"ngModelChange","ngModel"],[1,"mt-8","text-right"],[1,"bg-black","text-white","font-semibold","text-lg","py-2","px-6","rounded-md","cursor-pointer","hover:bg-white","hover:text-black","border","border-black","transition-all","ease-in",3,"click"]],template:function(n,i){n&1&&(B(0,"div",0),ce(1,"app-cribwise-demo-header"),B(2,"div",1),ce(3,"app-cribwise-demo-nav-bar"),B(4,"div",2)(5,"div",3)(6,"span",4),L(7,"New Item Form"),U()(),B(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),L(12,"Name"),U(),B(13,"input",9),Fn("ngModelChange",function(o){return Qn(i.itemName,o)||(i.itemName=o),o}),U()(),B(14,"div",7)(15,"label",8),L(16,"Item type"),U(),B(17,"select",10),Fn("ngModelChange",function(o){return Qn(i.typeOfItem,o)||(i.typeOfItem=o),o}),B(18,"option",11),L(19,"Tool"),U(),B(20,"option",12),L(21,"Machine"),U()()(),B(22,"div",7)(23,"label",8),L(24,"New Amount"),U(),B(25,"input",13),Fn("ngModelChange",function(o){return Qn(i.newQty,o)||(i.newQty=o),o}),U()(),B(26,"div",7)(27,"label",8),L(28,"Used Amount"),U(),B(29,"input",13),Fn("ngModelChange",function(o){return Qn(i.usedQty,o)||(i.usedQty=o),o}),U()(),B(30,"div",7)(31,"label",8),L(32,"Refurbished Amount"),U(),B(33,"input",13),Fn("ngModelChange",function(o){return Qn(i.refurbQty,o)||(i.refurbQty=o),o}),U()(),B(34,"div",7)(35,"label",8),L(36,"For Service Amount"),U(),B(37,"input",13),Fn("ngModelChange",function(o){return Qn(i.forServiceQty,o)||(i.forServiceQty=o),o}),U()(),B(38,"div",7)(39,"label",8),L(40,"Picked Quantity"),U(),B(41,"input",13),Fn("ngModelChange",function(o){return Qn(i.pickedQty,o)||(i.pickedQty=o),o}),U()(),B(42,"div",7)(43,"label",8),L(44,"At Location Amount"),U(),B(45,"input",13),Fn("ngModelChange",function(o){return Qn(i.atLocationQty,o)||(i.atLocationQty=o),o}),U()(),B(46,"div",7)(47,"label",8),L(48,"Maximum Quantity"),U(),B(49,"input",13),Fn("ngModelChange",function(o){return Qn(i.maxQty,o)||(i.maxQty=o),o}),U()(),B(50,"div",7)(51,"label",8),L(52,"Order Point"),U(),B(53,"input",13),Fn("ngModelChange",function(o){return Qn(i.orderPointQty,o)||(i.orderPointQty=o),o}),U()(),B(54,"div",7)(55,"label",8),L(56,"Minimum quantity"),U(),B(57,"input",13),Fn("ngModelChange",function(o){return Qn(i.minQty,o)||(i.minQty=o),o}),U()(),B(58,"div",7)(59,"label",8),L(60,"Critical Level Quantity"),U(),B(61,"input",13),Fn("ngModelChange",function(o){return Qn(i.criticalLevelQty,o)||(i.criticalLevelQty=o),o}),U()(),B(62,"div",7)(63,"label",8),L(64,"Missing To Maximum Quantity"),U(),B(65,"input",13),Fn("ngModelChange",function(o){return Qn(i.missingToMaxQty,o)||(i.missingToMaxQty=o),o}),U()(),B(66,"div",7)(67,"label",8),L(68,"State"),U(),B(69,"select",10),Fn("ngModelChange",function(o){return Qn(i.state,o)||(i.state=o),o}),B(70,"option",14),L(71,"Available"),U(),B(72,"option",15),L(73,"Not Available"),U()()(),B(74,"div",7)(75,"label",8),L(76,"Active Orders"),U(),B(77,"input",13),Fn("ngModelChange",function(o){return Qn(i.activeOrdersQty,o)||(i.activeOrdersQty=o),o}),U()(),B(78,"div",7)(79,"label",8),L(80,"Expected Quantity From Orders"),U(),B(81,"input",13),Fn("ngModelChange",function(o){return Qn(i.expectFromOrdersQty,o)||(i.expectFromOrdersQty=o),o}),U()(),B(82,"div",7)(83,"label",8),L(84,"Expected Delivery Date"),U(),B(85,"input",16),Fn("ngModelChange",function(o){return Qn(i.expetedDateOfDelivery,o)||(i.expetedDateOfDelivery=o),o}),U()()(),B(86,"div",17)(87,"button",18),lr("click",function(){return i.createItem()}),L(88," Create Item "),U()()()()()()),n&2&&(X(13),Pn("ngModel",i.itemName),X(4),Pn("ngModel",i.typeOfItem),X(8),Pn("ngModel",i.newQty),X(4),Pn("ngModel",i.usedQty),X(4),Pn("ngModel",i.refurbQty),X(4),Pn("ngModel",i.forServiceQty),X(4),Pn("ngModel",i.pickedQty),X(4),Pn("ngModel",i.atLocationQty),X(4),Pn("ngModel",i.maxQty),X(4),Pn("ngModel",i.orderPointQty),X(4),Pn("ngModel",i.minQty),X(4),Pn("ngModel",i.criticalLevelQty),X(4),Pn("ngModel",i.missingToMaxQty),X(4),Pn("ngModel",i.state),X(8),Pn("ngModel",i.activeOrdersQty),X(4),Pn("ngModel",i.expectFromOrdersQty),X(4),Pn("ngModel",i.expetedDateOfDelivery))},dependencies:[cr,ur,Iz,Sz,Dz,dS,gA,fS,yz,pA],encapsulation:2})};var sH=[{path:"",component:bb},{path:"cribwise",component:Sb},{path:"cribwise/demo",component:Mb},{path:"cribwise/demo/reports",component:nS},{path:"cribwise/demo/tools",component:iS},{path:"cribwise/demo/machines",component:rS},{path:"cribwise/demo/about-this-demo",component:oS},{path:"cribwise/demo/new-item",component:wS},{path:"**",redirectTo:""}];var aH={providers:[rD(),AI({eventCoalescing:!0}),gw(sH)]};var CS=class e{title=Cr("sandvik-cribwise-manuel");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){n&1&&ce(0,"router-outlet")},dependencies:[fp],encapsulation:2})};$I(CS,aH).catch(e=>console.error(e));
